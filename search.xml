<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ“OS-day9</title>
      <link href="/2024/02/12/%E6%90%93OS-day9/"/>
      <url>/2024/02/12/%E6%90%93OS-day9/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day9">æ‰‹æ“OS-day9</h2><p>é‡é‡çº§éš¾åº¦ï¼Œåˆ†é…å†…å­˜ä¸å›æ”¶ï¼ˆå†…æ ¸å¼€å§‹äº†ï¼‰ï¼Œç»ˆäºå¿«ä¸€åŠäº†ï¼ˆæŠ˜ç£¨ï¼‰</p><p>è¦æ±‚ï¼š</p><ul><li>è¾¹ç•Œå¯¹é½åˆ°<span class="math inline">\(2^i\)</span></li><li>ä¸å¤Ÿåˆ†é…æ—¶è¿”å›NULL(0)</li><li>æ‹’ç»è¶…è¿‡16MiBçš„åˆ†é…</li><li>ä¸å¿…åˆå§‹åŒ–å†…å­˜ï¼Œå¯ä»¥å…¨èµ‹å€¼ä¸ºé›¶</li><li>å…è®¸å¤šå¤„ç†å™¨å¹¶è¡Œä½¿ç”¨</li></ul><h3 id="cè¯­è¨€çš„é¢å‘å¯¹è±¡">Cè¯­è¨€çš„é¢å‘å¯¹è±¡</h3><p>è™½ç„¶å¾ˆæ—©ä¹‹å‰è€å¸ˆå°±å·²ç»æè¿‡è¿™ä¸ªCè¯­è¨€çš„éªšæ“ä½œï¼Œå—¯ï¼Œè¿˜æ˜¯æœ‰ç‚¹éš¾ä»¥æ¥å—</p><p>é¦–å…ˆè¦ä»‹ç»ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆçš„æ¦‚å¿µï¼Œè¿™ä¸ªç±»ä¼¼çš„æ¦‚å¿µå®é™…ä¸Šåœ¨Pythoné‡Œæ˜¯æ¥è§¦è¿‡çš„ï¼Œåªæ˜¯æ²¡æœ‰æ˜ç¡®çš„æå‡ºæ¥ï¼Œå½“æ—¶ä»¤äººæ„Ÿåˆ°å¾ˆç¥å¥‡ï¼ˆåŒæ—¶ä¹Ÿæ„Ÿåˆ°å¾ˆé¸¡è‚‹ï¼‰</p><h4 id="å‡½æ•°æŒ‡é’ˆ">å‡½æ•°æŒ‡é’ˆ</h4><p><strong>å£°æ˜</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return_type (*ptr)(parameter_type1,parameter_type2,â€¦â€¦);</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å£°æ˜äº†ä¸€ä¸ªæŒ‡å‘æŸä¸ªå‡½æ•°å…¥å£çš„ä¸€ä¸ªæŒ‡é’ˆï¼Œå½“ç„¶æŒ‡é’ˆæŒ‡å‘çš„å‡½æ•°éœ€è¦åˆå§‹åŒ–ï¼Œä¸€ä¸ªå°æ —å­ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> (*ptr)(<span class="type">int</span>,<span class="type">int</span>);</span><br><span class="line"></span><br><span class="line">    ptr=add;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> result=ptr(<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;result=%d\n&quot;</span>,result);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬åœ¨Pythonä¸­çš„å¸¸ç”¨æ–¹æ³•äº†ï¼ˆå›è°ƒå‡½æ•°ï¼‰ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">int</span> <span class="params">(*Operation)</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span>;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">performOperation</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, Operation op)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> op(a, b);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">subtract</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> result;</span><br><span class="line"> </span><br><span class="line">    result = performOperation(<span class="number">10</span>, <span class="number">5</span>, add);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Add Result: %d\n&quot;</span>, result);</span><br><span class="line"> </span><br><span class="line">    result = performOperation(<span class="number">10</span>, <span class="number">5</span>, subtract);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Subtract Result: %d\n&quot;</span>, result);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="cè¯­è¨€é¢å‘å¯¹è±¡">Cè¯­è¨€é¢å‘å¯¹è±¡</h4><p>è™½ç„¶C++å·²ç»å¾ˆå¥½çš„åšå¥½äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ï¼Œä½†æ˜¯ç§‰æŒç€<del>é—²çš„è›‹ç–¼</del>åŠªåŠ›å­¦ä¹ çš„ç²¾ç¥ï¼Œæˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦äº†è§£å¦‚ä½•ç”¨Cè¯­è¨€å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ã€‚é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾ï¼š</p><ul><li><p>å°è£…ï¼š<del>è¿™ä¹Ÿå«ç‰¹å¾</del>ï¼ˆå½“ç„¶æ˜¯ï¼‰ï¼Œå…¶é‡è¦æ€æƒ³åœ¨äºä¸èƒ½éšä¾¿æ›´æ”¹å¯¹è±¡çš„å†…å®¹ã€‚</p></li><li><p>ç»§æ‰¿ï¼šä»è€ŒæŸä¸ªç±»ç»§æ‰¿ç›¸å¯¹åº”çš„å±æ€§å’Œæ–¹æ³•</p></li><li><p>å¤šæ€ï¼šå…¶å®å°±æ˜¯å­ç±»çš„é‡å†™</p></li></ul><p>å°è£…å¯¹äºCè¯­è¨€å¹¶ä¸éš¾å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç»“æ„ä½“å¹³æ›¿ï¼Œé‚£ä¹ˆæ€ä¹ˆå®ç°ç»§æ‰¿å‘¢ï¼Ÿé‰´äºæ¥ä¸‹æ¥çš„æ–‡ä»¶ç»“æ„æ¯”è¾ƒæŠ½è±¡ï¼Œè¯·ç¨å¾®è®°å¿†ä¸€ä¸‹<del>(å†™å®Œå‘ç°å¹¶ä¸å¤æ‚ï¼Œæ²¡äº‹äº†)</del></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// shape.h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SHAPE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHAPE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdint.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">int16_t</span> x;</span><br><span class="line">    <span class="type">int16_t</span> y;</span><br><span class="line">&#125;Shape;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Shape_ctor</span><span class="params">(Shape * <span class="type">const</span> me, <span class="type">int16_t</span> x, <span class="type">int16_t</span> y)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Shape_moveBy</span><span class="params">(Shape * <span class="type">const</span> me, <span class="type">int16_t</span> dx, <span class="type">int16_t</span> dy)</span>;</span><br><span class="line"><span class="type">int16_t</span> <span class="title function_">Shape_getX</span><span class="params">(Shape <span class="type">const</span> * <span class="type">const</span> me)</span>;</span><br><span class="line"><span class="type">int16_t</span> <span class="title function_">Shape_getY</span><span class="params">(Shape <span class="type">const</span> * <span class="type">const</span> me)</span>;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">/* SHAPE_H */</span></span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰çš„æ¥å£å‡½æ•°éƒ½å·²ç»å®ç°äº†ï¼ˆç¨å¾®å¥½ç†è§£ä¸€ç‚¹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rectangle.h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> RECT_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RECT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;shape.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    Shape super;</span><br><span class="line">    </span><br><span class="line">    <span class="type">uint16_t</span> width;</span><br><span class="line">    <span class="type">uint16_t</span> height;</span><br><span class="line">&#125;Rectangle;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Rectangle_ctor</span><span class="params">(Retangle *<span class="type">const</span> me,<span class="type">int16_t</span> x,<span class="type">int16_t</span> y,<span class="type">uint16_t</span> width,<span class="type">uint16_t</span> height)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">/* RECT_H */</span></span></span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯å…³äºå¤šæ€çš„å®ç°è¿™å°±å¾ˆéº»çƒ¦äº†</p><blockquote><p>åœ¨C++ä¸­ï¼Œå¦‚æœä¸€ä¸ªçˆ¶ç±»ä¸­å®šä¹‰äº†è™šå‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šåœ¨è¿™ä¸ªå†…å­˜ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´æ”¾ç½®è™šè¡¨ï¼Œè¿™å¼ è¡¨é‡Œçš„æ¯ä¸€ä¸ªiteméƒ½æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œç„¶ååœ¨çˆ¶ç±»çš„å†…å­˜æ¨¡å‹ä¸­æ”¾ä¸€ä¸ªè™šè¡¨æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸Šé¢è¿™ä¸ªè™šè¡¨ã€‚</p></blockquote><ul><li>å¥½æ¶ˆæ¯ï¼šçŸ¥é“å¤§æ¦‚æ€ä¹ˆå›äº‹äº†</li><li>åæ¶ˆæ¯ï¼šè™šå‡½æ•°æ˜¯ä»€ä¹ˆç©æ„æ¥ç€</li></ul><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240213212324586.png" alt="image-20240213212324586" style="zoom: 67%;" /></p><p>å“¦ï¼ŒåŸæ¥è™šå‡½æ•°å°±æ˜¯å¯é‡å†™çš„å‡½æ•°ï¼ˆè¿˜æ˜¯Javaäº‹å„¿å°‘ï¼‰ï¼Œé‚£æ²¡äº‹äº†ã€‚æ¥å®ç°å§ï¼Œé¦–å…ˆé‡å†™ä¸€ä¸‹shapeç±»</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// shape.h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SHAPE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHAPE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdint.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ShapeVtbl</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span> </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ShapeVtbl</span> <span class="title">const</span> *<span class="title">vptr</span>;</span></span><br><span class="line">    <span class="type">int16_t</span> x;</span><br><span class="line">    <span class="type">int16_t</span> y;</span><br><span class="line">&#125;Shape;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è™šè¡¨å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ShapeVtbl</span> &#123;</span></span><br><span class="line">    <span class="type">uint32_t</span> (*area)(Shape <span class="type">const</span> * <span class="type">const</span> me); <span class="comment">// è™šå‡½æ•°æŒ‡é’ˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥å£å‡½æ•°</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Shape_ctor</span><span class="params">(Shape * <span class="type">const</span> me, <span class="type">int16_t</span> x, <span class="type">int16_t</span> y)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Shape_moveBy</span><span class="params">(Shape * <span class="type">const</span> me, <span class="type">int16_t</span> dx, <span class="type">int16_t</span> dy)</span>;</span><br><span class="line"><span class="type">int16_t</span> <span class="title function_">Shape_getX</span><span class="params">(Shape <span class="type">const</span> * <span class="type">const</span> me)</span>;</span><br><span class="line"><span class="type">int16_t</span> <span class="title function_">Shape_getY</span><span class="params">(Shape <span class="type">const</span> * <span class="type">const</span> me)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="keyword">inline</span> <span class="type">uint32_t</span> <span class="title function_">Shape_area</span><span class="params">(Shape <span class="type">const</span> * <span class="type">const</span> me)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (*me-&gt;vptr-&gt;area)(me);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">/* SHAPE_H */</span></span></span><br></pre></td></tr></table></figure><p>okï¼Œç„¶åå†™ä¸€ä¸‹è¿™ä¸ª<code>rect.h</code>çš„å®ç°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rect.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;rect.h&quot;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="comment">// ç»§æ‰¿æ¥çš„è™šå‡½æ•°</span></span><br><span class="line"><span class="type">static</span> <span class="type">uint32_t</span> <span class="title function_">Rectangle_area_</span><span class="params">(Shape <span class="type">const</span>* <span class="type">const</span> me)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Rectangle_ctor</span><span class="params">(Rectangle * <span class="type">const</span> me, <span class="type">int16_t</span> x, <span class="type">int16_t</span> y,</span></span><br><span class="line"><span class="params">                    <span class="type">uint16_t</span> width, <span class="type">uint16_t</span> height)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">ShapeVtbl</span> <span class="title">const</span> <span class="title">vtbl</span> =</span> </span><br><span class="line">    &#123;</span><br><span class="line">        &amp;Rectangle_area_</span><br><span class="line">    &#125;;</span><br><span class="line">    Shape_ctor(&amp;me-&gt;super, x, y); <span class="comment">// è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    me-&gt;super.vptr = &amp;vtbl;           <span class="comment">// é‡è½½ vptr</span></span><br><span class="line">    me-&gt;width = width;</span><br><span class="line">    me-&gt;height = height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è™šå‡½æ•°å®ç°</span></span><br><span class="line"><span class="type">static</span> <span class="type">uint32_t</span> <span class="title function_">Rectangle_area_</span><span class="params">(Shape <span class="type">const</span>* <span class="type">const</span> me)</span>&#123;</span><br><span class="line">    Rectangle <span class="type">const</span>* <span class="type">const</span> me_ = (Rectangle <span class="type">const</span>*)me;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">uint32_t</span>)me_-&gt;width *(<span class="type">uint32_t</span>)me_-&gt;height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è®°å½•">è®°å½•</h3><p>ç¼–è¯‘ä¸€ä¸ªé•œåƒè¦äº†åŠæ¡å‘½ï¼Œç¼“ç¼“</p><h4 id="ç¼–è¯‘è¿è¡Œå‘">ç¼–è¯‘è¿è¡Œå‘</h4><ol type="1"><li><p>qemuæ¨¡æ‹Ÿå™¨ç°åœ¨åŒ…å·²ç»å˜äº†ï¼Œåº”è¯¥ä¸‹è½½çš„æ˜¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install qemu-system-x86</span><br></pre></td></tr></table></figure></li><li><p>è¦åœ¨å„ç§ä¹±ä¸ƒå…«ç³Ÿçš„Makefileé‡Œè¾¹æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªå˜é‡<code>AM_HEMO_</code>ï¼Œä¸è¿‡è¿™ä¸ªå¯èƒ½ç›´æ¥åŠ åœ¨æœ€å¤–è¾¹çš„Makefileåº”è¯¥ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„</p></li><li><p>ä¸€äº›è‡ªå·±çš„å†™çš„å¤´æ–‡ä»¶å¦‚æœæ‰¾ä¸åˆ°å°±è¦ç”¨ä»æ ¹è·¯å¾„è¿‡æ¥çš„å…¨è·¯å¾„æ¥å¼•ç”¨ï¼Œè€Œä¸”è¦æ˜¯åŒå¼•å·</p></li></ol><p><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240214151608435.png" /></p><p>å¤ªæ„Ÿäººäº†<code>ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­</code></p><h4 id="printfå®ç°"><code>printf</code>å®ç°</h4><p>ä¸è¯´å¾ˆéš¾ï¼Œè‡³å°‘å¾ˆæ¶å¿ƒä»£ç é‡å¾ˆå¤§ï¼Œå°è¯•åˆ†æï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E5%B0%9D%E8%AF%95%E5%88%86%E6%9E%90.jpg" style="zoom: 67%;" /></p><p>è¿˜æ˜¯èƒ½åˆ†æå‡ºæ¥çš„ï¼Œå›å¿†ä¸€ä¸‹è¿™ä¸ªå‡½æ•°çš„ç”¨æ³•ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;format&quot;</span>,data, ...);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;string&quot;</span>);</span><br></pre></td></tr></table></figure><p>å—¯ï¼Œå¾ˆæ˜¾ç„¶æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå’ŒPythonä¸­<code>argv</code>ç±»ä¼¼æ€§è´¨çš„ä¸€ä¸ªç©æ„æ¥å¸®å¿™ï¼Œç„¶åè¦åšçš„å°±æ˜¯è¯†åˆ«æ˜¯å¦æœ‰åè¾¹çš„å‚æ•°ã€‚å…¶æ¬¡æˆ‘ä»¬è¿˜éœ€è¦èƒ½å¤Ÿåˆ‡åˆ†å‰é¢çš„å­—ç¬¦ä¸²ä»¥è¯†åˆ«å…¶ä¸­çš„<code>%d,%f</code>ç­‰å‚æ•°ï¼Œå¹¶è·å–å‚æ•°å¯¹åº”çš„<code>argv</code>ä¸­çš„å‚æ•°ã€‚</p><p>æœç„¶ï¼ŒCè¯­è¨€ä¸­æ˜¯æœ‰è¿™ç§ç©æ„çš„ï¼š<code>&lt;stdarg.h&gt;</code>ï¼ŒæŠ„ä¸€ä¸ªç”¨æ³•ç¤ºä¾‹ï¼ˆï¼‰ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdarg.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">VarArgFunc</span><span class="params">(<span class="type">int</span> dwFixedArg, ...)</span>&#123; <span class="comment">//ä»¥å›ºå®šå‚æ•°çš„åœ°å€ä¸ºèµ·ç‚¹ä¾æ¬¡ç¡®å®šå„å˜å‚çš„å†…å­˜èµ·å§‹åœ°å€</span></span><br><span class="line"></span><br><span class="line">    va_list pArgs = <span class="literal">NULL</span>;  <span class="comment">//å®šä¹‰va_listç±»å‹çš„æŒ‡é’ˆpArgsï¼Œç”¨äºå­˜å‚¨å‚æ•°åœ°å€</span></span><br><span class="line"></span><br><span class="line">    va_start(pArgs, dwFixedArg); <span class="comment">//åˆå§‹åŒ–pArgsæŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘ç¬¬ä¸€ä¸ªå¯å˜å‚æ•°ã€‚è¯¥å®ç¬¬äºŒä¸ªå‚æ•°æ˜¯å˜å‚åˆ—è¡¨çš„å‰ä¸€ä¸ªå‚æ•°ï¼Œå³æœ€åä¸€ä¸ªå›ºå®šå‚æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> dwVarArg = va_arg(pArgs, <span class="type">int</span>); <span class="comment">//è¯¥å®è¿”å›å˜å‚åˆ—è¡¨ä¸­çš„å½“å‰å˜å‚å€¼å¹¶ä½¿pArgsæŒ‡å‘åˆ—è¡¨ä¸­çš„ä¸‹ä¸ªå˜å‚ã€‚è¯¥å®ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦è¿”å›çš„å½“å‰å˜å‚ç±»å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‹¥å‡½æ•°æœ‰å¤šä¸ªå¯å˜å‚æ•°ï¼Œåˆ™ä¾æ¬¡è°ƒç”¨va_argå®è·å–å„ä¸ªå˜å‚</span></span><br><span class="line"></span><br><span class="line">    va_end(pArgs);  <span class="comment">//å°†æŒ‡é’ˆpArgsç½®ä¸ºæ— æ•ˆï¼Œç»“æŸå˜å‚çš„è·å–</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Code Block using variable arguments */</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°ä¸ºextern int VarArgFunc(int dwFixedArg, ...);ï¼Œè°ƒç”¨æ—¶ç”¨VarArgFunc(FixedArg, VarArg);</span></span><br></pre></td></tr></table></figure><p>å¼€ç¼–ï¼Œæ³¨æ„åˆ°æˆ‘ä»¬ç°åœ¨å®é™…ä¸Šåªæœ‰ä¸€ä¸ª<code>putch()</code>å‡½æ•°æ¥è¾“å‡ºå•ä¸ªå­—ç¬¦</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">printf</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *fmt, ...)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (fmt == <span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å®šä¹‰è¿”å›å­—ç¬¦ä¸²çš„æ•°ç›®</span></span><br><span class="line">  <span class="type">int</span> ret_num = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// è·å–è‡ªç”±å˜é‡</span></span><br><span class="line">  va_list va_l;</span><br><span class="line">  va_start(va_l, fmt);</span><br><span class="line">  <span class="comment">// è·å–å­—ç¬¦</span></span><br><span class="line">  <span class="type">char</span> *pstr = (<span class="type">char</span> *)fmt;</span><br><span class="line">  <span class="comment">// å¾ªç¯éå†</span></span><br><span class="line">  <span class="keyword">while</span> (*pstr != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (*pstr == <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      pstr++;</span><br><span class="line">      <span class="keyword">switch</span> (*pstr)</span><br><span class="line">      &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;d&#x27;</span>:</span><br><span class="line">        <span class="type">int</span> var1 = va_arg(va_l, <span class="type">int</span>);</span><br><span class="line">        ret_num++;</span><br><span class="line">        putch(var1);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>:</span><br><span class="line">        <span class="type">char</span>* var2 = va_arg(va_l, <span class="type">char</span> *);</span><br><span class="line">        ret_num++;</span><br><span class="line">        putch(*var2);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;%&#x27;</span>:</span><br><span class="line">        putch(<span class="string">&#x27;%&#x27;</span>);</span><br><span class="line">        ret_num++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        putch(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        ret_num++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    putch(*pstr);</span><br><span class="line">    ret_num++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ret_num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™äº†ä¸€ä¸ªç®€é™‹çš„ï¼Œä½†æ˜¯æ˜¾ç„¶ä¸æ˜¯å¾ˆæˆåŠŸï¼ˆ<del>æ€æƒ³å¯¹äº†ï¼Œå—¯</del>ï¼Œæƒ³çœ‹æ­£ç¡®çš„å¯ä»¥çœ‹å‚è€ƒé“¾æ¥ï¼‰</p><p><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240214202527832.png" /></p><p>å¦å¤–ç”±äºåœ¨å†…æ ¸ç¼–è¯‘çš„Makefileä¸­æœ‰è¿™æ ·ä¸€å¥è¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CFLAGS  += -m64 -fPIC -mno -sse</span><br></pre></td></tr></table></figure><p>å› æ­¤æˆ‘åœ¨ç¼–è¯‘å†…æ ¸æ—¶ä»»ä½•çš„æµ®ç‚¹æ“ä½œéƒ½æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p><p>å®ç°å†…å®¹ä»Šå¤©è²Œä¼¼æ˜¯å†™ä¸å®Œäº†</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><ahref="https://blog.csdn.net/weixin_68551689/article/details/132844392">ä»€ä¹ˆæ˜¯å‡½æ•°æŒ‡é’ˆï¼Ÿå¦‚ä½•ä½¿ç”¨å‡½æ•°æŒ‡é’ˆï¼Ÿ-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/onlyshi/article/details/81672279">Cè¯­è¨€å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹_void rectangle_construct(rectangle_t* shape,const-CSDNåšå®¢</a></p><p><ahref="https://blog.csdn.net/qq_44078824/article/details/118440458">æ‰‹æŠŠæ‰‹æ•™ä½ å®ç°printfå‡½æ•°ï¼ˆCè¯­è¨€æ–¹å¼ï¼‰_printfå®ç°-CSDNåšå®¢</a></p><p><ahref="https://zhuanlan.zhihu.com/p/643112072">å†…å­˜åˆ†é…ä¸å†ç¥ç§˜ï¼šæ·±å…¥å‰–æmallocå‡½æ•°å®ç°åŸç†ä¸æœºåˆ¶- çŸ¥ä¹ (zhihu.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æ“OS-ç•ªå¤–2</title>
      <link href="/2024/02/10/%E6%90%93OS-%E7%95%AA%E5%A4%962/"/>
      <url>/2024/02/10/%E6%90%93OS-%E7%95%AA%E5%A4%962/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-makefile">æ‰‹æ“OS-Makefile</h2><p>æˆ‘ä»¬åœ¨ç”Ÿæ´»ä¸­å¸¸å¸¸ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šä¸ºäº†æŸ¥çœ‹ä¿®æ”¹åçš„ä»£ç æ•ˆæœï¼Œä¸€éåˆä¸€éçš„ç¼–è¯‘ï¼Œæ•²ä¸€è¡Œåˆä¸€è¡Œçš„å‘½ä»¤ï¼Œç°åœ¨è®©Makefileè§£æ”¾ä½ çš„åŒæ‰‹ã€‚ï¼ˆè¯¯ï¼‰</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="100%" height="86" src="//music.163.com/outchain/player?type=2&amp;id=2103741649&amp;auto=1&amp;height=66"></iframe><h3 id="å…³äºcè¯­è¨€">å…³äºCè¯­è¨€</h3><p>åœ¨ä¹‹å‰å…³äºbaremetalçš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬ç†è§£Cè¯­è¨€ç¼–è¯‘è¿è¡Œçš„åŸç†ï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘åº“+ç¼–è¯‘æºæ–‡ä»¶ï¼Œé“¾æ¥å½¢æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>ç½—åˆ—å‡ºç¼–è¯‘é™æ€åº“ä¸åŠ¨æ€åº“çš„æ–¹å¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é™æ€åº“</span></span><br><span class="line">gcc -r [name.a] [.o] [.o]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é“¾æ¥ä¸ºå¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line">gcc [.c] [.a] -o [è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å]</span><br><span class="line">gcc [.c] -o [è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å] -l[åº“å] -L[åº“æ‰€åœ¨è·¯å¾„]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŠ¨æ€åº“</span></span><br><span class="line">gcc -c -fpic [.c/.cpp][.c/.cpp]... </span><br><span class="line">gcc -shared [.o][.o]... -o [libè‡ªå®šä¹‰åº“å.so]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸Šé¢ä¸¤æ¡åˆå¹¶ä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br><span class="line">gcc [.c/.cpp] -o [è‡ªå®šä¹‰å¯æ‰§è¡Œæ–‡ä»¶å]  -l[åº“å] -L[åº“è·¯å¾„] -Wl,-rpath=[åº“è·¯å¾„]</span><br></pre></td></tr></table></figure><p>è®°ä¸ä½å¯¹å§ï¼Œæˆ‘ä¹Ÿæ˜¯ï¼ˆï¼‰ï¼Œä¸è¿‡è®°ä¸ä½ä¹Ÿé—®é¢˜ä¸å¤§ï¼Œå¤šå†™å†™å°±è®°ä½äº†ã€‚</p><h3 id="makefile">Makefile</h3><h4 id="æ ¼å¼">æ ¼å¼</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">targets:prerequisties</span></span><br><span class="line">command</span><br></pre></td></tr></table></figure><p>targetsï¼šè‰ç‡ä¸€ç‚¹ï¼Œå°±æ˜¯makeæŒ‡ä»¤åçš„ä¸€ä¸ªæ ‡å¿—ï¼Œä»£è¡¨äº†ä¸‹é¢ä¸€ä¸²å‘½ä»¤æ‰§è¡Œåçš„ç»“æœ</p><p>prerequisiteï¼šä¾èµ–ï¼Œéœ€è¦çš„æ–‡ä»¶ï¼Œæˆ–è€…éœ€è¦äº‹å…ˆæ‰§è¡Œçš„targets</p><p>commandï¼šå‘½ä»¤</p><p><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E6%89%94%E6%8E%89%E8%84%91%E5%AD%90.gif" /></p><p>æˆ‘ä»¬æ‰”æ‰è„‘å­ï¼Œå¼€ç©å„¿ï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">hello: </span></span><br><span class="line">@echo <span class="string">&quot;hello world&quot;</span></span><br></pre></td></tr></table></figure><p><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240211101558263.png" /></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">bye:</span></span><br><span class="line">sudo rm -rf /*</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/b6d4f8aa58841f6e8674c3bd46126e5f8ad5fc7f.jpg" style="zoom: 25%;" /></p><blockquote><p>åˆ åº“ä¸€å¿µèµ·ï¼Œé¡¿è§‰å¤©åœ°å®½</p></blockquote><h4 id="è¿è¡Œè§„åˆ™">è¿è¡Œè§„åˆ™</h4><ol type="1"><li>makeåœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾Makefileæ–‡ä»¶</li><li>æ‰¾åˆ°æ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªtargetæ–‡ä»¶ä½œä¸ºæœ€ç»ˆç›®æ ‡</li><li>æ ¹æ®ä¸åŒæƒ…å†µæ¥æ‰§è¡Œcommandï¼ˆè¿™å„¿ç†ä¸ç†è§£çš„å§ï¼Œé“ç†ä¸Šè¿˜æ˜¯è¦å‡å°‘ä¸å¿…è¦çš„ç¼–è¯‘ï¼‰</li></ol><h4 id="phony">.PHONY</h4><p>å½“æ–‡ä»¶å¤¹ä¸­æœ‰æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æœ‰ä¸targeté‡åçš„é—®é¢˜ï¼Œé‡‡ç”¨è¿™æ ·ä¸€æ¡</p><p>ä»£ç æ¥å£°æ˜è¿è¡Œçš„æ˜¯targetï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="keyword">.PHONY</span>:hello</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å­¦å®Œäº†å¤§æ¦‚makefileæ˜¯æ€ä¹ˆç©å„¿çš„äº†ï¼Œæ¥ä¸‹æ¥éœ€è¦ä¸€ç‚¹ç‚¹ç»†èŠ‚â€¦â€¦</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E4%B8%80%E7%82%B9.jpg" style="zoom: 33%;" /></p><h4 id="å°ç»†èŠ‚">å°ç»†èŠ‚</h4><p>ä¸‹é¢å…¶å®å°±å’Œå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€å·®ä¸äº†å¤šå°‘äº†ï¼Œä½†æ˜¯ä¾æ—§æ˜¯å¾ˆæœ‰ç”¨çš„</p><h5 id="å˜é‡">å˜é‡</h5><p>åœ¨makefileä¸­å˜é‡åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æŒºå¥½ç†è§£çš„å§ï¼Œæ¯•ç«Ÿåœ¨Makefileä¸­å˜é‡å®é™…ä¸Šéƒ½æ˜¯ä¸€äº›æ–‡ä»¶ä»€ä¹ˆçš„</p><p><strong>å®šä¹‰</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file :=src/main.c</span><br></pre></td></tr></table></figure><p><strong>å¼•ç”¨</strong>ï¼šç”¨<code>$&#123;&#125;</code>æˆ–<code>$()</code></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cp :=src/main.c</span><br><span class="line">obj :=objs/main.o</span><br><span class="line"></span><br><span class="line"><span class="variable">$(obj)</span>:$&#123;cp&#125;</span><br><span class="line">@gcc -o $&#123;obj&#125; <span class="variable">$(cp)</span></span><br><span class="line">compile : $&#123;obj&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å˜é‡è¿˜æœ‰ä¸€äº›é«˜é˜¶æ–¹æ³•ï¼Œåè¾¹å†è¯´ï¼Œå…ˆè¯´èµ‹å€¼</p><p><strong>èµ‹å€¼</strong></p><table><thead><tr class="header"><th>èµ‹å€¼ç¬¦å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr class="odd"><td>:=</td><td>ç®€å•èµ‹å€¼ï¼Œæ²¡å•¥å«ä¹‰ï¼Œé€šç”¨èµ‹å€¼</td></tr><tr class="even"><td>=</td><td>é€’å½’èµ‹å€¼ï¼Œå¯èƒ½ä¼šå½±å“å¤šä¸ªå€¼ï¼Œä¸å—èµ‹å€¼é¡ºåºå½±å“</td></tr><tr class="odd"><td>?=</td><td>æ¡ä»¶èµ‹å€¼ï¼Œç©ºçš„æ‰èµ‹å€¼</td></tr><tr class="even"><td>+=</td><td>è¿½åŠ èµ‹å€¼ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼ŒåŠ ä¸€ä¸ªå˜é‡</td></tr></tbody></table><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = foo</span><br><span class="line">y = <span class="variable">$(x)</span>b</span><br><span class="line">x = new</span><br><span class="line"></span><br><span class="line">test :</span><br><span class="line">@echo <span class="string">&quot;x =&gt; <span class="variable">$(x)</span>&quot;</span></span><br><span class="line">@echo <span class="string">&quot;y =&gt; <span class="variable">$(y)</span>&quot;</span></span><br></pre></td></tr></table></figure><p><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240211211130750.png" /></p><p><strong>è‡ªåŠ¨å˜é‡</strong></p><ul><li><code>$@</code>ï¼štargetçš„å®Œæ•´åç§°</li><li><code>$&lt;</code>ï¼šç¬¬ä¸€ä¸ªä¾èµ–æ–‡ä»¶åç§°</li><li><code>$^</code>ï¼šæ‰€æœ‰ä¾èµ–æ–‡ä»¶</li></ul><h5 id="æœ‰ç”¨çš„å°ç¬¦å·">æœ‰ç”¨çš„å°ç¬¦å·</h5><table><thead><tr class="header"><th>ç¬¦å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr class="odd"><td>\</td><td>æ¢å·ç¬¦ï¼Œåœ¨æ¢è¡Œçš„ç»“å°¾åŠ ä¸Š</td></tr><tr class="even"><td>*</td><td>é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„å­—ç¬¦ä¸²ï¼Œç”¨äºæ–‡ä»¶å</td></tr><tr class="odd"><td>%</td><td>é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„å­—ç¬¦ä¸²ï¼Œç”¨äºåŒ¹é…å­—ç¬¦ä¸²ç”¨äºå˜é‡</td></tr></tbody></table><h5 id="å‡½æ•°">å‡½æ•°</h5><p><strong>shellï¼šshellå‘½ä»¤</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">shell</span> &lt;command&gt;)</span></span><br></pre></td></tr></table></figure><p><strong>substï¼šå­—ç¬¦ä¸²æ›¿æ¢</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">subst</span> &lt;from&gt;,&lt;to&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure><p><strong>patsubstï¼šæ¨¡å¼åŒ¹é…æ›¿æ¢</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">patsubst</span> &lt;pattern&gt;,&lt;replacement&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure><p>å‰©ä¸‹çš„å¸¸ç”¨çš„å‡½æ•°å°±å‚è€ƒé“¾æ¥å§ï¼ˆï¼Œåªæœ‰ä¸€ç‚¹ç»†èŠ‚</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240211222748769.png" style="zoom:33%;" /></p><h5 id="æ¨¡æ¿">æ¨¡æ¿</h5><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">.PHONLY :all cl cla</span><br><span class="line">src = <span class="variable">$(<span class="built_in">wildcard</span> ./*.c)</span></span><br><span class="line">targetc = <span class="variable">$(<span class="built_in">patsubst</span> %.c, % ,<span class="variable">$(src)</span>)</span></span><br><span class="line">objc = <span class="variable">$(<span class="built_in">patsubst</span> %.c, %.o, <span class="variable">$(src)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#srcpp = $(wildcard ./*.cpp)</span></span><br><span class="line"><span class="comment">#targetcpp = $(patsubst %.cpp, %, $(srcpp))</span></span><br><span class="line"><span class="comment">#objcpp = $(patsubst %.o, %.cpp, $(srcpp))</span></span><br><span class="line"></span><br><span class="line">CC = gcc</span><br><span class="line"><span class="comment">#PP = g++</span></span><br><span class="line"></span><br><span class="line">CFLAGS = -g -Wall </span><br><span class="line">CPPFLAGS = -I ./</span><br><span class="line"></span><br><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(<span class="built_in">findstring</span> .c, <span class="variable">$(src)</span>)</span>, .c)</span><br><span class="line"><span class="section">all:<span class="variable">$(targetc)</span></span></span><br><span class="line"><span class="variable">$(targetc)</span>:%:%.o</span><br><span class="line"><span class="variable">$(CC)</span> <span class="variable">$&lt;</span> -o <span class="variable">$@</span></span><br><span class="line"><span class="variable">$(objc)</span>:%.o:%.c</span><br><span class="line"><span class="variable">$(CC)</span> -c <span class="variable">$&lt;</span> </span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="section">cl:</span></span><br><span class="line">rm -rf <span class="variable">$(objc)</span></span><br><span class="line"><span class="section">cla:</span></span><br><span class="line">rm -rf <span class="variable">$(objc)</span></span><br><span class="line">rm -rf <span class="variable">$(targetc)</span></span><br><span class="line">rm -rf a.out</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><ahref="https://github.com/WohimLee/GNC-Tutorial/blob/main/3.Makefile-Tutorial/4.Functions.md">GNC-Tutorial/3.Makefile-Tutorial/4.Functions.mdat main Â· WohimLee/GNC-Tutorial (github.com)</a></p><p>https://blog.csdn.net/qq_43630810/article/details/105942231</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®ºæ–‡é˜…è¯»1-TFDNet</title>
      <link href="/2024/02/04/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB1/"/>
      <url>/2024/02/04/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB1/</url>
      
        <content type="html"><![CDATA[<h2 id="è®ºæ–‡é˜…è¯»-tfdnet">è®ºæ–‡é˜…è¯»-TFDNet</h2><p>ä½œè€…è¡¨ç¤ºåœ¨çœ‹äº†è¿™ä¹ˆå¤šæ–‡ç« ï¼Œå‘ç°ç°æœ‰æ¨¡å‹æ²¡æœ‰å……åˆ†å­¦ä¹ timefrequencyä¿¡æ¯ï¼Œå¹¶ä¸”è®¤ä¸ºæ—¶åŸŸå’Œé¢‘åŸŸçš„å­¦ä¹ éƒ½ç›¸å½“é‡è¦ã€‚ç„¶åæå‡ºäº†è¿™ä¸ªæ¨¡å‹å«åšTIme-FrequencyEnhanced Decomposed Networkã€‚</p><p>æ–‡ç« ä¸­è¿˜æåˆ°äº†ä¸€ä¸ª<code>channel wise effects</code>çš„ä¸œè¥¿ï¼Œç®€ç­”æŸ¥äº†ä¸€ä¸‹ï¼Œæ˜¯ä»å·ç§¯çš„é¢—ç²’åº¦æ¥çš„ï¼Œå°±æ˜¯ç»´åº¦æ›´å°äº†</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240206123340086.png"alt="image-20240206123340086" /><figcaption aria-hidden="true">image-20240206123340086</figcaption></figure><p>ç»“æ„éå¸¸ç®€å•ï¼š</p><ol type="1"><li><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šé¢„å¤„ç†ï¼Œåˆ†è§£åºåˆ—å¹¶å½’ä¸€åŒ–å½’ä¸€åŒ–é‡‡ç”¨äº†ä¸€ç§å«åšå¯é€†ç¤ºä¾‹å½’ä¸€åŒ–çš„æ–¹æ³•ï¼ˆRevINï¼‰ è®ºæ–‡é“¾æ¥ï¼š<ahref="https://openreview.net/pdf?id=cGDAkQo1C0p">pdf(openreview.net)</a></p></li><li><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240206214534524.png"alt="image-20240206214534524" /><figcaption aria-hidden="true">image-20240206214534524</figcaption></figure><p><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240206214518454.png"alt="image-20240206214518454" />åˆ†è§£å…¬å¼æ¯”è¾ƒç®€å•ï¼Œåˆ†æˆäº†è¶‹åŠ¿å’Œå­£èŠ‚è¶‹åŠ¿ï¼š <imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240206214715000.png"alt="image-20240206214715000" /></p><p>AvgPoolè¡¨ç¤ºç§»åŠ¨å¹³æ»‘æ“ä½œï¼ŒPaddingä½¿åŸæ—¶é—´åºåˆ—é•¿åº¦ä¿æŒä¸å˜</p></li><li><p>ä¸‹é¢ä¸€å±‚è®¾è®¡ç”¨æ¥æ•è·ä¸¤ç§åˆ†è§£çš„æ—¶é—´åºåˆ—çš„å¤šåˆ†è¾¨ç‡çš„æ—¶åŸŸç‰¹å¾å’Œé¢‘åŸŸç‰¹å¾ï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240206215107201.png"alt="image-20240206215107201" /> å…¶<spanclass="math inline">\(S_1â€¦â€¦S_n\)</span>ä»£è¡¨ä¸åŒçª—å£çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯ä¸åŒåˆ†è¾¨ç‡<img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240206221126879.png" alt="image-20240206221126879" />STFT(çŸ­æœŸå‚…é‡Œå¶å˜æ¢)ï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240207001603403.png"alt="image-20240207001603403" /> <spanclass="math inline">\(X\)</span>ä¸ºå½’ä¸€åŒ–åçš„åºåˆ—ï¼Œ<spanclass="math inline">\(Window\)</span>â€‹æ˜¯çª—å‡½æ•°ï¼Œç”¨äºå°†ä¿¡å·åˆ‡åˆ†æˆè¾ƒçŸ­çš„æ—¶é—´æ®µï¼Œç„¶åå°±çœ‹ä¸å¤ªæ‡‚äº†Time-frequency Blockï¼ˆTFB)ï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240207125307235.png"alt="image-20240207125307235" /><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240207125530318.png"alt="image-20240207125530318" />è®¾è®¡äº†ä¸¤ç§å­£èŠ‚çš„TFBï¼Œåˆ†åˆ«åº”å¯¹ä¸åŒçš„é€šé“ç›¸å…³æ¨¡å¼</p><p>Frequency Feed ForwardNetworkï¼ˆFrequency-FFN)ï¼šå…¨è¿æ¥å±‚ï¼Œæ¿€æ´»å‡½æ•°ä¸ºTanh InverseSTFTï¼š</p></li><li><p>é€†å®ä¾‹å½’ä¸€åŒ–é¢„æµ‹</p></li></ol><p>è®ºæ–‡é“¾æ¥ï¼š[<a href="https://arxiv.org/abs/2308.13386">2308.13386]TFDNet: Time-Frequency Enhanced Decomposed Network for Long-term TimeSeries Forecasting (arxiv.org)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> è¯»è®ºæ–‡å§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day8</title>
      <link href="/2024/02/04/%E6%90%93OS-day8/"/>
      <url>/2024/02/04/%E6%90%93OS-day8/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day8">æ‰‹æ“OS-day8</h2><h3 id="åŒæ­¥">åŒæ­¥</h3><p>æœ¬ç¯‡ä»…ä»…æ˜¯å®ç°åŒæ­¥é—®é¢˜ï¼Œå¦‚æœä½ é—®åŒæ­¥é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œåœ¨åº”ä»˜è€ƒç ”çš„æ—¶å€™æ€ä¹ˆæï¼Œæˆ‘ä¹Ÿä¸ä»‹æ„å†™ä¸€æ‰‹ï¼ˆï¼‰</p><p>åœ¨OSä¸­åŒæ­¥çš„ç†è§£æ˜¯éå¸¸æŠ½è±¡çš„ï¼ŒæŠ½è±¡å°±æŠ½è±¡åœ¨å’Œæˆ‘ä»¬æ—¥å¸¸çš„ç†è§£å®Œå…¨ä¸ä¸€æ ·ã€‚åœ¨æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­è®²åŒæ­¥ï¼Œå¾€å¾€æ˜¯è¿™æ ·ä¸€ä¸ªæƒ…æ™¯ï¼›</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/bili_v_1707558407748.gif"alt="åŒæ­¥ç‡100%" /><figcaption aria-hidden="true">åŒæ­¥ç‡100%</figcaption></figure><p>å—¯ï¼Œæ‰€ä»¥åœ¨è®¡ç®—æœºé¢†åŸŸä¸­ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä¹ æƒ¯æ€§çš„è®¤ä¸ºåŒæ­¥å˜›ï¼Œå°±æ˜¯ä¸¤ä¸ªæŸç§ä¸»ä½“åšç€ä¸€æ ·çš„åŠ¨ä½œï¼ˆå¥½æ€ªï¼‰ï¼Œè€Œåœ¨è®¡ç®—æœºé¢†åŸŸä¸­æˆ‘ä»¬å¹³æ—¶ç†è§£çš„åŒæ­¥å…¶å®æ˜¯ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„å¹¶è¡Œã€‚</p><p>å…ˆæ¥ä¸€ä¸ªåˆ«æ‰­ä¸”ä¸æ°å½“çš„æ¯”å–»ï¼Œé¦–å…ˆå¿…é¡»è¯´æ˜æˆ‘ä»¬ç”Ÿæ´»ä¸­çš„æ´»åŠ¨æœ‰äº›æ˜¯ç¬é—´å®Œæˆçš„ï¼Œæœ‰äº›æ˜¯éœ€è¦ä¸€å®šæ—¶é—´çš„ï¼Œä¸‹é¢æ˜¯ä¸å¤ªæ­£å¸¸æ¯”å–»ï¼šï¼ˆâ‘ ï¼‰æœ‰ä¸€ä¸ªå‰æ¥ä¹°ç“œï¼Œï¼ˆâ‘¡ï¼‰è¯¥äººè¯¢é—®è¿™ç“œå¤šå°‘é’±å¹¶ï¼ˆâ‘¢ï¼‰è¡¨ç¤ºâ€œä½ è¿™ç“œæ˜¯ç“œçš®å­æ˜¯é‡‘å­åšçš„è¿˜æ˜¯ç“œç²’å­æ˜¯é‡‘å­åšçš„â€œï¼Œï¼ˆâ‘£ï¼‰ç„¶åä¸€åˆ€æ…ç©¿äº†ç“œæ‘Šè€æ¿ï¼Œï¼ˆâ‘¤ï¼‰ä¼ å‡ºäº†é˜µé˜µâ€è¨æ—¥æœ—â€œã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240210195115716.png"alt="ç«çº¢çš„è¨æ—¥æœ—" /><figcaption aria-hidden="true">ç«çº¢çš„è¨æ—¥æœ—</figcaption></figure><p>ä¸Šé¢çš„å°æ•…äº‹ç”±äº”ä¸ªæ­¥éª¤ç»„æˆï¼Œæ‰€æœ‰çš„æƒ…èŠ‚å‘ç”Ÿéƒ½æ˜¯æœ‰å› æœå…³ç³»çš„ï¼Œå› æ­¤ä¸èƒ½å‡ºç°é¡ºåºçš„å˜åŒ–ï¼Œä¸å¯èƒ½åœ¨æ…ç©¿è€æ¿ä¹‹å‰å°±ä¼ å‡ºâ€œè¨æ—¥æœ—â€ï¼Œä¹Ÿä¸èƒ½åœ¨æ‰¾èŒ¬ä¹‹å‰å°±æ…ç©¿ï¼ˆä¸è®¸æŠ¬æ ï¼‰ï¼Œè¿™ç§å¿…é¡»æŒ‰ç…§ä¸€å®šé¡ºåºå»æ‰§è¡Œï¼ˆéœ€è¦å®Œå…¨æ‰§è¡Œä¸€æ­¥ï¼Œæ‰èƒ½æ‰§è¡Œä¸‹ä¸€æ­¥ï¼‰çš„æ•…ï¼ˆç¨‹ï¼‰äº‹ï¼ˆåºï¼‰ï¼Œå°±æ˜¯åŒæ­¥ã€‚</p><p>è¯´åŒæ­¥å°±ä¸å¾—ä¸è¯´ä¸€ä¸‹å¼‚æ­¥ï¼Œåœ¨ç”Ÿæ´»ä¸­å¾€å¾€åŒæ­¥å’Œå¼‚æ­¥æ˜¯åŒæ—¶å­˜åœ¨çš„ã€‚åœ¨ä¸€ä¸²ä¸²æœ‰é€»è¾‘ç›¸å…³çš„åŒæ­¥ä¸­ï¼Œå¾€å¾€å­˜åœ¨ç€å¼‚æ­¥ã€‚å¼•ç”¨ä»çŸ¥ä¹ä¸Šçœ‹åˆ°çš„æ¯”å–»ï¼šå¼‚æ­¥å°±æ˜¯åœ¨ä½ è’¸é¥­æœŸé—´å»ç‚’èœï¼Œä¹Ÿå°±æ˜¯ä¸å¿…ç­‰å¾…è’¸é¥­ç»“æŸçš„è¿‡ç¨‹ã€‚</p><p>OKï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦æå‡ºåŒæ­¥å’Œå¼‚æ­¥çš„é—®é¢˜å‘¢ï¼Ÿ</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/WQwhQnXTwU8O3QIIIOEErvBWzIYlzF1O.JPEG" style="zoom: 25%;" /></p><p>è¿™å°±ä¸å¾—ä¸æä¸€ä¸‹æˆ‘ä»¬ä¹‹å‰ç ”ç©¶è¿‡çš„å¹¶å‘æŠ€æœ¯äº†ï¼Œå› ä¸ºä¸ºäº†æ¦¨å¹²æ¯ä¸€æ»´å¤„ç†æœºï¼Œè®¡ç®—æœºç§‘å­¦å®¶æœºæ™ºçš„æƒ³å‡ºæ¥äº†ç”¨ç¨‹åºå¯¹å¤„ç†æœºè¿›è¡Œè½¦è½®æˆ˜ã€‚ä½†æ˜¯è¿™ç§è½¦è½®æˆ˜æ˜¯ä¸å¯æ§çš„ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å“ªä¸ªç¨‹åºä¼šå ç”¨å¤„ç†æœºï¼Œæ‰€ä»¥å½“å¤„ç†éœ€è¦å¿…è¦çš„é€»è¾‘é¡ºåºæ—¶ï¼ŒåŒæ­¥çš„é—®é¢˜å°±å¾ˆé‡è¦äº†ã€‚è€Œå¼‚æ­¥æ˜¯å› ä¸ºæœ‰äº†ä¸€å¤§ä¸²åŒæ­¥ï¼Œå¹²ç­‰ç€åˆä¸ç¬¦åˆè®¡ç®—æœºç§‘å­¦å®¶å–œæ¬¢æ¦¨å¹²å¤„ç†æœºçš„é£æ ¼ï¼Œå› æ­¤åˆæå‡ºäº†å¼‚æ­¥é—®é¢˜ã€‚</p><h3 id="å®ç°ä¸ç®€å•ä»‹ç»">å®ç°ä¸ç®€å•ä»‹ç»</h3><h4 id="ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜">ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜</h4><p>é—®é¢˜æˆ‘ä¸å¤ªä¼šä»‹ç»ï¼Œäºæ˜¯æˆ‘å†³å®šç›´æ¥å‰½çªƒä¸€ä¸ªé—®é¢˜ä»‹ç»ï¼š</p><blockquote><p>Dijkstra wrote about the unbounded buffer case: "We consider twoprocesses, which are called the 'producer' and the 'consumer'respectively. The producer is a cyclic process and each time it goesthrough its cycle it produces a certain portion of information, that hasto be processed by the consumer. The consumer is also a cyclic processand each time it goes through its cycle, it can process the next portionof information, as has been produced by the producer ... We assume thetwo processes to be connected for this purpose via a buffer withunbounded capacity."</p></blockquote><p>æ²¡é”™å°±æ˜¯é‚£ä¸ªDijkstraï¼Œç”±äºæˆ‘æ˜¯æ‡’ç‹—ï¼Œæ‰€ä»¥æˆ‘å†³å®šç¿»è¯‘ä¹Ÿäº¤ç»™chatGPTï¼ˆè™½ç„¶æˆ‘ç›¸ä¿¡å¤§å®¶æ˜¯èƒ½ç›´æ¥çœ‹æ‡‚çš„ï¼‰ï¼š</p><blockquote><p>è¿ªæ°æ–¯ç‰¹æ‹‰ï¼ˆDijkstraï¼‰æè¿°äº†æ— ç•Œç¼“å†²åŒºçš„æƒ…å†µï¼šâ€œæˆ‘ä»¬è€ƒè™‘ä¸¤ä¸ªè¿›ç¨‹ï¼Œåˆ†åˆ«ç§°ä¸ºâ€™ç”Ÿäº§è€…â€™å’Œâ€™æ¶ˆè´¹è€…â€™ã€‚ç”Ÿäº§è€…æ˜¯ä¸€ä¸ªå¾ªç¯è¿‡ç¨‹ï¼Œæ¯æ¬¡ç»è¿‡å¾ªç¯ä¼šäº§ç”Ÿä¸€å®šé‡çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éœ€è¦æ¶ˆè´¹è€…è¿›è¡Œå¤„ç†ã€‚æ¶ˆè´¹è€…ä¹Ÿæ˜¯ä¸€ä¸ªå¾ªç¯è¿‡ç¨‹ï¼Œæ¯æ¬¡ç»è¿‡å¾ªç¯æ—¶ï¼Œå¯ä»¥å¤„ç†ç”Ÿäº§è€…äº§ç”Ÿçš„ä¸‹ä¸€ä¸ªä¿¡æ¯éƒ¨åˆ†â€¦ä¸ºæ­¤ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸¤ä¸ªè¿›ç¨‹é€šè¿‡ä¸€ä¸ªå®¹é‡æ— é™çš„ç¼“å†²åŒºè¿æ¥åœ¨ä¸€èµ·ã€‚â€</p></blockquote><p>å­¦è¿‡æ“ä½œç³»ç»Ÿçš„éƒ½çŸ¥é“ï¼Œè§£å†³åŒæ­¥é—®é¢˜ç”¨çš„æ˜¯ä¿¡å·é‡æœºåˆ¶ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå°±ä¸å»èµ°å¼¯è·¯äº†ï¼Œç›´å¥”ä¿¡å·é‡æœºåˆ¶ï¼ˆå½“ç„¶ç›´æ¥è°ƒç”¨ç®¡ç¨‹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼‰ã€‚</p><p>åœï¼Œè¿™é‡Œä»–ç”¨äº†ä¸€ä¸ªå¾ˆéªšçš„æ“ä½œï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n,count=<span class="number">0</span>;</span><br><span class="line"><span class="type">mutex_t</span> lk=MUTEX_INIT();</span><br><span class="line"><span class="type">cond_t</span> cv=COND_INIT();</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CAN_PRODUCE (count&lt;n)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CAN_CONSUME (count&gt;n)</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Tproduce</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        mutex_lock(&amp;lk);</span><br><span class="line">        <span class="keyword">while</span> (!CAN_PRODUCE)</span><br><span class="line">        &#123;</span><br><span class="line">            cond_wait(&amp;cv,&amp;lk);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">        count++;</span><br><span class="line">        cond_broadcast(&amp;cv);</span><br><span class="line">        mutex_unlock(&amp;lk);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Tconsume</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    mutex_lock(&amp;lk);</span><br><span class="line">    <span class="keyword">while</span> (!CAN_CONSUME) &#123;</span><br><span class="line">      cond_wait(&amp;cv, &amp;lk);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;)&quot;</span>); count--;</span><br><span class="line">    cond_broadcast(&amp;cv);</span><br><span class="line">    mutex_unlock(&amp;lk);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•ç§°ä¸ºæ¡ä»¶å˜é‡æ³•ï¼Œæœ‰æ²¡æœ‰æ„Ÿè§‰ä»–å’Œå‰é¢Petersonç®—æ³•çš„flagå¾ˆåƒï¼Œå…¶å®å°±æ˜¯å¾ˆåƒï¼Œä½œä¸ºä¸€ä¸ªæ ‡å¿—æ¥æ”¾è¡Œã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">sem_t</span> fill, empty;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Tproduce</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    P(&amp;empty);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">    V(&amp;fill);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Tconsume</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    P(&amp;fill);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">    V(&amp;empty);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ç»†è¯´ï¼Œå¥½ç†è§£ï¼Œä¸‹ä¸€ä¸ª</p><h4 id="å“²å­¦å®¶å°±é¤é—®é¢˜">å“²å­¦å®¶å°±é¤é—®é¢˜</h4><p>çœæµï¼šæ“ä½œçš„æ—¶å€™æ— è„‘mutexä½ï¼Œå°±ä¸ä¼šå‡ºæ­»é”bug</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">sem_t</span> chopsticks[<span class="number">5</span>]=&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">mutex_t</span> lk=MUTEX_INIT();</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">philosopher</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    mutex_lock(&amp;lk);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;æå“²â™‚å­¦&quot;</span>);</span><br><span class="line">    P(&amp;chopsticks[i+<span class="number">1</span>]%<span class="number">5</span>);</span><br><span class="line">    P(&amp;chopsticks[i])</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;åƒ&quot;</span>);</span><br><span class="line">    V(&amp;chopsticks[i+<span class="number">1</span>]%<span class="number">5</span>);</span><br><span class="line">    V(&amp;chopsticks[i])</span><br><span class="line">    mutex_unlock(&amp;lk);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“">æ€»ç»“</h3><p>æœ‰ç”¨ä½†ä¸éš¾ï¼Œå¹³æ—¶è€ƒå¯Ÿå¾ˆé¢‘ç¹ï¼Œè®°ä½è¦ç‚¹å¾ˆé‡è¦ï¼š</p><ol type="1"><li>åˆ†æä»€ä¹ˆæ˜¯äº’æ–¥è®¿é—®çš„</li><li>äº’æ–¥åŠ é”</li><li>åˆ†æä»€ä¹ˆæ˜¯åŒæ­¥è®¿é—®çš„</li><li>åŒæ­¥è®¿é—®æ¶‰åŠä»€ä¹ˆèµ„æºï¼Œéœ€è¦ä»€ä¹ˆpä»€ä¹ˆvä»€ä¹ˆ</li><li>æ·»åŠ å¯¹åº”çš„ä¿¡å·é‡</li><li>æ£€æŸ¥æ˜¯å¦æ­»é”ï¼Œæ­»é”åˆ™è°ƒæ•´äº’æ–¥é”ä¸pvæ“ä½œçš„é¡ºåº</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æ“OS-ç•ªå¤–1</title>
      <link href="/2024/02/04/%E6%90%93OS-%E7%95%AA%E5%A4%961/"/>
      <url>/2024/02/04/%E6%90%93OS-%E7%95%AA%E5%A4%961/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-å†…è”æ±‡ç¼–">æ‰‹æ“OS-å†…è”æ±‡ç¼–</h2><p>æœ‰ä¸€è¯´ä¸€ï¼ˆèµ·æ‰‹å¼ï¼‰ï¼Œè™½ç„¶æˆ‘ä»¬åœ¨å¹³æ—¶å†™ä»£ç æ—¶å‡ ä¹å°±ä¸ä¼šå†™ä»€ä¹ˆæ±‡ç¼–ï¼ˆæ¯•ç«Ÿå’±æ˜¯å†™è½¯ä»¶çš„ï¼Œä»€ä¹ˆåº•å±‚ï¼Œä»€ä¹ˆç¡¬ä»¶å°±è¯¥äº¤ç»™ä¸“ä¸šçš„äººå»æï¼‰ï¼Œä½†æ˜¯è¿™å¯¹æˆ‘ä»¬é˜…è¯»ä»£ç ï¼Œç†è§£è¿è¡Œè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼ˆ<del>æˆ‘å°±æ˜¯æƒ³å­¦ä¼š</del>ï¼‰</p><h3 id="æ±‡ç¼–è¯­è¨€">æ±‡ç¼–è¯­è¨€</h3><p>é¦–å…ˆï¼Œç®€å•å›å¿†ä¸€ä¸‹æ±‡ç¼–è¯­è¨€ï¼Œè™½ç„¶è¿™å—æ˜¯çœŸçš„å¤šï¼Œç®€å•æ€»ç»“ä¸€ä¸‹å§ã€‚</p><p>ä¸ºäº†èƒ½ç†è§£æ±‡ç¼–è¯­è¨€çš„ä½œç”¨æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå›å¿†Cè¯­è¨€çš„è¿è¡Œæ–¹å¼ï¼Œè¿™ä¸ªåœ¨ä¹‹å‰ç²—æµ…çš„å†™è¿‡ï¼ŒCè¯­è¨€è¦ç»è¿‡<code>é¢„å¤„ç†-ç¼–è¯‘-æ±‡ç¼–-é“¾æ¥</code>å¤šä¸ªæ­¥éª¤ï¼Œæ‰èƒ½å½¢æˆä¸€ä¸ªå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶ç¨‹åºä»£ç ã€‚è¿™æ¬¡ä¸æhelloworldäº†ï¼Œæ¢ä¸ªç®€å•æ˜“è¯»çš„ï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸ªä¸¤ä¸ªæ•°æ±‚å’Œçš„ç¨‹åºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">0</span>,b=<span class="number">0</span>;</span><br><span class="line">    a=b+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å¥—ç©æ³•æˆ‘ä»¬å…¶å®å·²ç»éå¸¸ç†Ÿæ‚‰äº†ï¼Œç¼–è¯‘ä½†ä¸é“¾æ¥ï¼Œç„¶ååç¼–è¯‘ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> 0:   f3 0f 1e fa             endbr64 </span><br><span class="line"> 4:   55                      push   %rbp</span><br><span class="line"> 5:   48 89 e5                mov    %rsp,%rbp</span><br><span class="line"> 8:   c7 45 f8 00 00 00 00    movl   $0x0,-0x8(%rbp)</span><br><span class="line"> f:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)</span><br><span class="line">16:   8b 45 fc                mov    -0x4(%rbp),%eax</span><br><span class="line">19:   83 c0 01                add    $0x1,%eax</span><br><span class="line">1c:   89 45 f8                mov    %eax,-0x8(%rbp)</span><br><span class="line">1f:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">24:   5d                      pop    %rbp</span><br><span class="line">25:   c3                      ret    </span><br></pre></td></tr></table></figure><p>å› ä¸ºæ²¡æœ‰é“¾æ¥ï¼Œæ‰€ä»¥å®é™…ä¸Šç¨‹åºå¹¶æ²¡æœ‰è£…å…¥å®é™…å†…å­˜ä¸­ï¼Œé‚£ä¹ˆæ‹¿åˆ°çš„æ‰€æœ‰å†…å­˜åœ°å€ç­‰ï¼Œéƒ½æ˜¯è™šæ‹Ÿçš„ï¼ˆæ˜¯ä¸€ä¸ªç›¸å¯¹çš„å…³ç³»ï¼‰ã€‚è·‘é¢˜äº†ï¼Œè¿™ä¸ªå¯ä»¥åè¾¹ä»”ç»†è§£é‡Šçš„ï¼Œå…ˆè§‚å¯Ÿæ•´ä½“ç»“æ„ï¼Œä»å·¦åˆ°å³ï¼Œåˆ†åˆ«æ˜¯å†…å­˜åœ°å€ï¼ˆå§‘ä¸”è¿™ä¹ˆè®¤ä¸ºï¼‰ï¼ŒäºŒè¿›åˆ¶ä»£ç ï¼Œæ±‡ç¼–ä»£ç ã€‚</p><p>æ±‡ç¼–è¯­è¨€æœ‰å¾ˆå¼ºçš„å¹³å°ç›¸å…³æ€§ï¼Œä¹Ÿå°±æ˜¯æ¢äº†ä¸€ä¸ªç¡¬ä»¶ï¼Œè¿™ä¸ªä»£ç çš„ä¹¦å†™æ–¹å¼å°±å®Œå…¨å˜äº†ï¼Œç›®å‰æ¯”è¾ƒæµè¡Œçš„æœ‰ä¸¤ç§æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯intelæ ¼å¼å’ŒAT&amp;Tæ ¼å¼ï¼Œæˆ‘ä»¬å…ˆä¸åšåŒºåˆ†ï¼Œç»§ç»­ä»æ•´ä½“ä¸Šè®¤è¯†ä»–ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ç¨‹åºæ— éæ˜¯åœ¨å¤„ç†æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹éï¼ˆ<del>ç</del>ï¼‰æƒ³äº†ã€‚æ—¢ç„¶æ˜¯å¤„ç†æ•°æ®ï¼Œé‚£ä¹ˆæ•°æ®æ€ä¹ˆæ¥ï¼Œæ€ä¹ˆå¤„ç†ï¼Œæ”¾å“ªå„¿å¤„ç†ï¼Œæ€ä¹ˆå¤„ç†ï¼Œå¤„ç†ä¹‹ååˆæ”¾å“ªå„¿ï¼ŒOKï¼Œè¿™ä¸‹å°±è¦å»çœ‹ç»„æˆåŸç†äº†ï¼Œå®Œç»“ã€‚ï¼ˆbushiï¼‰è€Œè¿™ç§è€ƒè™‘çš„æ€è·¯è¿”å›åˆ°æ±‡ç¼–æŒ‡ä»¤ä¸Šï¼Œå°±å½¢æˆäº†è¿™æ ·çš„ä¸€ç§å¤§ä½“ä¸Šçš„æ±‡ç¼–æŒ‡ä»¤çš„æ ¼å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INS SRC DES</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯æŒ‡ä»¤+æºæ“ä½œæ•°+ç›®çš„æ“ä½œæ•°çš„ä¸€ç§æŒ‡ä»¤æ ¼å¼ï¼Œæ‹¿æ¥æºæ“ä½œæ•°å’Œç›®çš„æ“ä½œæ•°ï¼ŒåŠ ä¸€ç‚¹ç¥ç§˜çš„é­”æ³•å¤„ç†ï¼Œç„¶åæŠŠç»“æœé€åˆ°ç›®çš„æ“ä½œæ•°çš„ä½ç½®ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè§£å¯†æ“ä½œçš„æ•°éƒ½ä»å“ªå„¿æ¥ï¼Œå½“ç„¶æ˜¯â€”â€”å„ç§å„æ ·çš„å¯„å­˜å™¨å’Œå†…å­˜ï¼Œå¯„å­˜å™¨åŒ…æ‹¬ä½†ä¸é™äºï¼šé€šç”¨å¯„å­˜å™¨ï¼ŒPCï¼ŒPSWï¼Œæ ˆï¼›</p><p>æœ‰äº†è¿™äº›åŸºæœ¬çš„çŸ¥è¯†ï¼Œå¯ä»¥æ¥å°è¯•ä¸€ä¸‹é˜…è¯»ä¸Šé¢çš„ä»£ç äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ†æè¿™ä¸€éƒ¨åˆ†æ¥å¯ä»¥äº†ï¼ˆç”¨æ³¨é‡Šç»™å‡ºåˆ†æï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> 8:   c7 45 f8 00 00 00 00    movl   $0x0,-0x8(%rbp)  // rbpçš„å‰åŠæ®µå­˜å‚¨ä¸€ä¸ª0ï¼Œå®é™…ä¸Šå°±æ˜¯aå˜é‡</span><br><span class="line"> f:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)  // rbpçš„ååŠæ®µå­˜å‚¨ä¸€ä¸ª0ï¼Œå®é™…ä¸Šå°±æ˜¯bå˜é‡</span><br><span class="line">16:   8b 45 fc                mov    -0x4(%rbp),%eax  // æŠŠååŠæ®µå˜è„¸èµ‹å€¼ç»™é€šç”¨å¯„å­˜å™¨eaxï¼Œå³b</span><br><span class="line">19:   83 c0 01                add    $0x1,%eax        // å°†é€šç”¨å¯„å­˜å™¨eaxä¸­çš„å€¼ä¸1ç›¸åŠ ï¼Œå¹¶å­˜å‚¨åˆ°eaxä¸­ï¼Œå³b+1çš„è¿‡ç¨‹</span><br><span class="line">1c:   89 45 f8                mov    %eax,-0x8(%rbp)  // å°†eaxçš„å€¼ç§»åŠ¨åˆ°rbpçš„å‰åŠæ®µï¼Œa=b+1</span><br><span class="line">1f:   b8 00 00 00 00          mov    $0x0,%eax        // eaxç½®0</span><br></pre></td></tr></table></figure><p>OKï¼Œæˆ‘çŸ¥é“ä½ çœ‹åˆ°è¿™é‡Œè‚¯å®šæ˜¯ä¾æ—§ä¸€å¤´é›¾æ°´ï¼Œé‚£å°±å¯¹äº†ï¼Œåœ¨è¿™é‡Œæˆ‘å¿½ç•¥äº†æ‰€æœ‰å¯„å­˜å™¨ç»†èŠ‚ä»‹ç»ï¼Œä¹Ÿé€‰æ‹©æ€§å¿½ç•¥äº†å¦‚ä½•è®¾è®¡ç›´æ¥æ‰‹å†™æ±‡ç¼–ç¨‹åºï¼Œå› ä¸ºè¿™äº›ç©æ„å¹¶ä¸éœ€è¦æˆ‘ä»¬å»å†™ï¼Œæˆ‘ä»¬åªéœ€è¦èƒ½å¤Ÿè¯»æ‡‚å°±å¥½äº†ã€‚è€Œç»†èŠ‚çš„å¯„å­˜å™¨çš„ä»‹ç»ï¼Œæ•°æ®çš„å¯»å€çš„ä»‹ç»ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹å‚è€ƒé“¾æ¥çš„æ–‡ç« ï¼Œæˆ–è€…å»é˜…è¯»ä¸€ä¸‹æŒ‡ä»¤ç³»ç»Ÿçš„ç›¸å…³ä»‹ç»ã€‚</p><h3 id="å†…è”æ±‡ç¼–">å†…è”æ±‡ç¼–</h3><p>è¿›å…¥æ­£é¢˜ï¼Œå†…è”æ±‡ç¼–ï¼ˆInlineassemblyï¼‰æ˜¯éƒ¨åˆ†ç¼–è¯‘å™¨ï¼ˆåˆšå¥½GCCå°±æ”¯æŒï¼‰æ”¯æŒçš„ä¸€ç§åŠŸèƒ½ã€‚å…¶å°†éå¸¸ä½ç«¯çš„æ±‡ç¼–è¯­è¨€å†…åµŒåœ¨é«˜çº§è¯­è¨€æºå§‹ç ä¸­ã€‚</p><p>å†å¼€å§‹å†…è”æ±‡ç¼–å­¦ä¹ å‰ï¼Œæˆ‘ä»¬æƒ³èµ·æ¥æœ‰ä¸€ç§ç©æ„å«åšå†…è”å‡½æ•°ï¼Œå†…è”å‡½æ•°æ˜¯é€šè¿‡å£°æ˜ï¼ˆ<code>inline</code>ï¼‰è¦æ±‚ç¼–è¯‘å™¨åœ¨è¿è¡Œæ—¶ï¼Œç›´æ¥å°†å†…è”å‡½æ•°çš„ä»£ç å¤åˆ¶åˆ°è°ƒç”¨ä½ç½®ï¼Œæ˜¯ä¸€ç§ç±»ä¼¼å®çš„è¿è¡Œæ–¹å¼ã€‚å†…è”æ±‡ç¼–å¤§æŠµä¹Ÿå¦‚æ­¤ï¼Œä¸è¿‡ä½¿ç”¨æ±‡ç¼–è¯­è¨€å†™çš„ï¼Œå£°æ˜æ˜¯<code>asm</code>ã€‚</p><p>GCCçš„æ±‡ç¼–æ ¼å¼ä¸ºAT&amp;Tæ ¼å¼ï¼Œå…·ä½“ä¸å†è¯¦è¿°ï¼Œä¸ä¸Šé¢æˆ‘ä»¬æ‰€åˆ†æçš„ä¸€è‡´ã€‚GCCæ”¯æŒä¸¤ç§å†…è”æ±‡ç¼–ï¼šåŸºæœ¬å†…è”æ±‡ç¼–å’Œæ‰©å±•å†…è”æ±‡ç¼–</p><h4 id="åŸºæœ¬å†…è”æ±‡ç¼–">åŸºæœ¬å†…è”æ±‡ç¼–</h4><p>åŸºæœ¬å†…è”æ±‡ç¼–çš„æ ¼å¼æ¯”è¾ƒç®€æ˜ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">asm</span>[<span class="keyword">volatile</span>](<span class="string">&quot;assembly code&quot;</span>);</span><br></pre></td></tr></table></figure><p>éœ€è¦è¯´æ˜çš„å‡ ç‚¹ï¼š</p><ol type="1"><li>è¶…è¿‡ä¸€æ¡æŒ‡ä»¤å¿…é¡»é€šè¿‡<code>\n\t</code>æ¥è¿›è¡Œåˆ†å‰²</li><li><code>volatile</code>ä¸ºå¯é€‰å…³é”®å­—ï¼Œåé¢å†ä»‹ç»</li><li><code>asm</code>å¯ä»¥æ¢ä¸º<code>__asm__</code>ï¼Œå½“<code>asm</code>ä¸ç¨‹åºå˜é‡æœ‰å†²çªæ—¶å¿…é¡»æ›¿æ¢</li></ol><p>okï¼Œæˆ‘ä»¬å…ˆæ‰”æ‰è„‘å­ï¼Œæ¥ç®€å•ç©ä¸€ç©è¿™ä¸ªå†…è”æ±‡ç¼–</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E6%89%94%E6%8E%89%E8%84%91%E5%AD%90.gif"alt="æ‰”æ‰è„‘å­" /><figcaption aria-hidden="true">æ‰”æ‰è„‘å­</figcaption></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">asm</span>(<span class="string">&quot;nop&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello\n&quot;</span>);</span><br><span class="line">    <span class="keyword">asm</span>(<span class="string">&quot;nop\n\tnop\n\t&quot;</span></span><br><span class="line">    <span class="string">&quot;nop&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€çœ‹è¿™ä¸ªç¨‹åºå°±æŒºæŠ½è±¡çš„ï¼Œç›´æ¥è§‚å¯Ÿç»“æœä¸€å®šæ˜¯çœ‹ä¸å‡ºæ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯é‚£ä¸€å¥—æ“ä½œï¼Œæˆ‘ä»¬æ¥åç¼–è¯‘çœ‹æ±‡ç¼–ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> 8:   90                      nop</span><br><span class="line"> 9:   48 8d 05 00 00 00 00    lea    0x0(%rip),%rax        # 10 &lt;main+0x10&gt;</span><br><span class="line">10:   48 89 c7                mov    %rax,%rdi</span><br><span class="line">13:   e8 00 00 00 00          call   18 &lt;main+0x18&gt;  // ç»å…¸è°ƒç”¨æŒ‡ä»¤,è¿™é‡Œæ˜¯è°ƒç”¨printf</span><br><span class="line">18:   90                      nop</span><br><span class="line">19:   90                      nop</span><br><span class="line">1a:   90                      nop  </span><br></pre></td></tr></table></figure><p>å‘ç°å¾ˆæˆåŠŸï¼Œæˆ‘ä»¬å†™å…¥çš„å››ä¸ªæ°”æ³¡æŒ‡ä»¤éƒ½åœ¨é‡Œè¾¹ï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸åšè‚¯å®šä¸æ˜¯æˆ‘ä»¬ç¼–ç¨‹çš„åˆè¡·ï¼Œç°åœ¨æˆ‘ä»¬è¦ç©å„¿ç‚¹å¤§çš„ï¼Œæ“ä½œä¸€ä¸‹å˜é‡ï¼Œç©ç©å¯„å­˜å™¨ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a=<span class="number">1</span>,b=<span class="number">2</span>,c;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">asm</span>(<span class="string">&quot;movl a,%eax\n\t&quot;</span></span><br><span class="line">    <span class="string">&quot;addl b,%eax\n\t&quot;</span></span><br><span class="line">    <span class="string">&quot;movl %eax,c&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c=%d&quot;</span>,c);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€è§„çŸ©ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> 8:   8b 04 25 00 00 00 00    mov    0x0,%eax</span><br><span class="line"> f:   03 04 25 00 00 00 00    add    0x0,%eax</span><br><span class="line">16:   89 04 25 00 00 00 00    mov    %eax,0x0</span><br><span class="line">1d:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # 23 &lt;main+0x23&gt;</span><br><span class="line">23:   89 c6                   mov    %eax,%esi</span><br><span class="line">25:   48 8d 05 00 00 00 00    lea    0x0(%rip),%rax        # 2c &lt;main+0x2c&gt;</span><br><span class="line">2c:   48 89 c7                mov    %rax,%rdi</span><br><span class="line">2f:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">34:   e8 00 00 00 00          call   39 &lt;main+0x39&gt;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°æˆ‘ä»¬å†™çš„æ±‡ç¼–åœ¨é‡Œè¾¹ï¼Œä½†æ˜¯æ€ä¹ˆæ²¡æœ‰æ•°å„¿å‘¢ï¼Œå› ä¸ºè¿™äº›å…¨å±€å˜é‡åœ¨å†…å­˜ä¸­å’Œå‡½æ•°å¹¶ä¸å¤„äºä¸€ä¸ªåŒºåŸŸä¸­ã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/20190913192521450.png"alt="ç›—äº†ä¸€å¼ å›¾ï¼Œä¸æƒ³è‡ªå·±ç”»äº†" /><figcaption aria-hidden="true">ç›—äº†ä¸€å¼ å›¾ï¼Œä¸æƒ³è‡ªå·±ç”»äº†</figcaption></figure><p>ä½†æ˜¯ï¼Œä½†æ˜¯ï¼Œä½†æ˜¯ï¼ˆé‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼‰ï¼Œæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå› ä¸ºæ±‡ç¼–è¯­è¨€ç›´æ¥æ“ä½œçš„æ˜¯å¯„å­˜å™¨ä¹‹ç±»çš„ï¼Œå¦‚æœéšéšä¾¿ä¾¿æ›´æ”¹äº†æŸä¸ªå¯„å­˜å™¨çš„å€¼ï¼Œè€Œä¸”è¿˜æ²¡æœ‰è¿”å›ï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åºå’Œä½ è‚¯å®šè¦çˆ†ä¸€ä¸ªã€‚<strong>æ‰€ä»¥ä¸€èˆ¬ä¸ç”¨åŸºæœ¬å†…è”æ±‡ç¼–å»æä»€ä¹ˆå¯„å­˜å™¨ï¼Œè€Œæ˜¯ç”¨æ‰©å±•å†…è”æ±‡ç¼–ã€‚</strong></p><h4 id="æ‰©å±•å†…è”æ±‡ç¼–">æ‰©å±•å†…è”æ±‡ç¼–</h4><p>æ ¼å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asm [volatile](&quot;æ±‡ç¼–æŒ‡ä»¤&quot;: &quot;è¾“å‡ºæ“ä½œæ•°åˆ—è¡¨&quot; : &quot;è¾“å…¥æ“ä½œæ•°åˆ—è¡¨&quot; : &quot;æ”¹åŠ¨çš„å¯„å­˜å™¨&quot;)</span><br></pre></td></tr></table></figure><p>å•§ï¼Œçœ‹ä¸æ‡‚äº†ï¼Œè¿™æ—¶å€™éœ€è¦ä¸€äº›è¯´æ˜ï¼š</p><ol type="1"><li>æ±‡ç¼–æŒ‡ä»¤ï¼šä¸åŸºæœ¬å†…è”æ±‡ç¼–æ ¼å¼ç›¸åŒï¼Œæ‰©å±•asmæ ¼å¼ä¸­ï¼Œå¯„å­˜å™¨å‰é¢å¿…é¡»å†™ 2ä¸ª%ï¼›</li><li>è¾“å‡ºæ“ä½œæ•°åˆ—è¡¨ï¼šæ±‡ç¼–ä»£ç å¦‚ä½•æŠŠå¤„ç†ç»“æœä¼ é€’ç»™Cä»£ç </li><li>è¾“å…¥æ“ä½œæ•°åˆ—è¡¨ï¼šCä»£ç å¦‚ä½•æŠŠæ•°æ®ä¼ é€’ç»™æ±‡ç¼–ä»£ç </li><li>æ”¹åŠ¨çš„å¯„å­˜å™¨ï¼šä½¿ç”¨äº†å“ªäº›å¯„å­˜å™¨ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨ä¸è¦å†ç”¨è¿™ä¸ªå¯„å­˜å™¨ï¼Œå¯ä»¥çœç•¥</li></ol><p>å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=<span class="number">10</span>, b;</span><br><span class="line"><span class="keyword">asm</span> ( <span class="string">&quot;movl %1, %%eax\n\tmovl %%eax, %0&quot;</span></span><br><span class="line">          :<span class="string">&quot;=r&quot;</span>(b)           <span class="comment">/* output */</span></span><br><span class="line">          :<span class="string">&quot;r&quot;</span>(a)              <span class="comment">/* input */</span></span><br><span class="line">          :<span class="string">&quot;%eax&quot;</span>         <span class="comment">/* clobbered register */</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>okï¼Œç°åœ¨æˆ‘ä»¬æ»¡è„‘å­ç–‘é—®ï¼Œæˆ‘ä»¬è¦å¸¦ç€è¿™äº›é—®é¢˜æ¥ç€å»å­¦äº†ï¼š</p><ol type="1"><li>"b"æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>â€œrâ€æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>â€œ=râ€æ˜¯ä»€ä¹ˆï¼Ÿ</li></ol><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E8%BF%B7%E6%83%91.gif" alt="è¿·æƒ‘" style="zoom:67%;" /></p><h5 id="æ“ä½œæ•°åˆ—è¡¨">æ“ä½œæ•°åˆ—è¡¨</h5><p><code>asm</code>å†…éƒ¨ä½¿ç”¨Cè¯­è¨€å­—ç¬¦ä¸²ä½œä¸ºæ“ä½œæ•°ï¼Œæ“ä½œæ•°éƒ½è¦æ”¾åœ¨åŒå¼•å·ä¸­ä¸”è¾“å‡ºæ“ä½œæ•°è¦é€šè¿‡â€œ=â€ä¿®é¥°ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;constraint&quot;</span> (C expression) <span class="comment">//&quot;=r&quot;(result)</span></span><br></pre></td></tr></table></figure><p>constraintä¸»è¦ç”¨æ¥æŒ‡å®šæ“ä½œæ•°çš„å¯»å€ç±»å‹ï¼Œä¹Ÿç”¨æ¥æŒ‡æ˜ä½¿ç”¨å“ªä¸ªå¯„å­˜å™¨ã€‚</p><p>ä¸å…¶è¯´æ˜¯æ“ä½œæ•°åˆ—è¡¨ï¼Œæ›´ä¸å¦‚è¯´ä»–æ˜¯æ“ä½œæ•°æ•°ç»„ï¼Œå› ä¸ºåœ¨æ±‡ç¼–æŒ‡ä»¤ä¸­æ‰€æœ‰çš„æ“ä½œæ•°éƒ½æ˜¯ä»¥ä¸‹æ ‡çš„å½¢å¼ç»™å‡ºçš„ï¼ˆæ„Ÿè§‰å®Œå…¨å¯ä»¥è¿™ä¹ˆç†è§£ï¼‰</p><h5 id="çº¦æŸconstraints">çº¦æŸï¼ˆconstraintsï¼‰</h5><table><thead><tr class="header"><th>ä½¿ç”¨å¯„å­˜å™¨orå†…å­˜</th><th>Constraint</th></tr></thead><tbody><tr class="odd"><td>eax</td><td>a</td></tr><tr class="even"><td>ebx</td><td>b</td></tr><tr class="odd"><td>ecx</td><td>c</td></tr><tr class="even"><td>edx</td><td>d</td></tr><tr class="odd"><td>ä»»ä½•é€šç”¨å¯„å­˜å™¨</td><td>r</td></tr><tr class="even"><td>ä½¿ç”¨å˜é‡çš„å†…å­˜ä½ç½®</td><td>m</td></tr></tbody></table><h5 id="çº¦æŸä¿®é¥°ç¬¦constraint-modifiers">çº¦æŸä¿®é¥°ç¬¦ï¼ˆConstraintModifiersï¼‰</h5><table><thead><tr class="header"><th>ç¬¦å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr class="odd"><td>=</td><td>åªå†™</td></tr><tr class="even"><td>+</td><td>å¯è¯»å†™</td></tr><tr class="odd"><td>%</td><td>å¯ä»¥å’Œä¸‹ä¸€ä¸ªæ“ä½œæ•°äº’æ¢</td></tr><tr class="even"><td>&amp;</td><td>åœ¨å†…è”å‡½æ•°å®Œæˆä¹‹å‰ï¼Œå¯ä»¥åˆ é™¤æˆ–è€…é‡æ–°ä½¿ç”¨è¢«ä¿®é¥°çš„æ“ä½œæ•°</td></tr></tbody></table><p>okï¼Œåˆåˆ°äº†æ‰”æ‰è„‘å­çš„é˜¶æ®µ~</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E6%89%94%E6%8E%89%E8%84%91%E5%AD%90.gif"alt="æ‰”æ‰è„‘å­" /><figcaption aria-hidden="true">æ‰”æ‰è„‘å­</figcaption></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> data1 = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> data2 = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> data3;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ‰©å±•asmæ ¼å¼ä¸­ï¼Œå¯„å­˜å™¨å‰é¢å¿…é¡»å†™ 2 ä¸ª%ï¼›</span></span><br><span class="line">    <span class="keyword">asm</span>(<span class="string">&quot;movl %%ebx, %%eax\n\t&quot;</span></span><br><span class="line">        <span class="string">&quot;addl %%ecx, %%eax&quot;</span></span><br><span class="line">        : <span class="string">&quot;=a&quot;</span>(data3)</span><br><span class="line">        : <span class="string">&quot;b&quot;</span>(data1),<span class="string">&quot;c&quot;</span>(data2));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;data3 = %d \n&quot;</span>, data3);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€ä¸€å¥—ï¼Œå†æ¥ä¸€éï¼Œä¸è¿‡è¿™æ¬¡åº”è¯¥ä¼šæœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œå¤§å®¶å¯ä»¥çŒœä¸€ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> d:   c7 45 e4 01 00 00 00    movl   $0x1,-0x1c(%rbp)</span><br><span class="line">14:   c7 45 e8 02 00 00 00    movl   $0x2,-0x18(%rbp)</span><br><span class="line">1b:   8b 45 e4                mov    -0x1c(%rbp),%eax</span><br><span class="line">1e:   8b 55 e8                mov    -0x18(%rbp),%edx</span><br><span class="line">21:   89 c3                   mov    %eax,%ebx</span><br><span class="line">23:   89 d1                   mov    %edx,%ecx</span><br><span class="line">25:   89 d8                   mov    %ebx,%eax</span><br><span class="line">27:   01 c8                   add    %ecx,%eax</span><br><span class="line">29:   89 45 ec                mov    %eax,-0x14(%rbp)</span><br><span class="line">2c:   8b 45 ec                mov    -0x14(%rbp),%eax</span><br><span class="line">2f:   89 c6                   mov    %eax,%esi</span><br><span class="line">31:   48 8d 05 00 00 00 00    lea    0x0(%rip),%rax        # 38 &lt;main+0x38&gt;</span><br><span class="line">38:   48 89 c7                mov    %rax,%rdi</span><br><span class="line">3b:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">40:   e8 00 00 00 00          call   45 &lt;main+0x45&gt;</span><br><span class="line">45:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">4a:   48 8b 5d f8             mov    -0x8(%rbp),%rbx</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä»”ç»†çœ‹è¿™å‡ å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1b:   8b 45 e4                mov    -0x1c(%rbp),%eax</span><br><span class="line">1e:   8b 55 e8                mov    -0x18(%rbp),%edx</span><br><span class="line">21:   89 c3                   mov    %eax,%ebx</span><br><span class="line">23:   89 d1                   mov    %edx,%ecx</span><br></pre></td></tr></table></figure><p>è™½ç„¶GCCçš„ç¼–è¯‘çŠ¶æ€å’Œæˆ‘çš„ç²¾ç¥çŠ¶æ€ä¸€æ ·å ªå¿§ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾å•Šï¼Œè¿™å¯¹åº”çš„è¿‡ç¨‹å°±æ˜¯æŠŠdataä¼ ç»™æˆ‘ä»¬åˆ¶å®šçš„ä¸¤ä¸ªå¯„å­˜å™¨ä¸Šï¼Œè€Œå˜åŒ–ä¼°è®¡å¤§å®¶ä¹Ÿèƒ½çŒœåˆ°ï¼Œé‡Œè¾¹æœ‰æ•°æ®äº†ï¼Œå¤§ä½“çš„åŸç†ä¹Ÿåº”è¯¥ç†è§£äº†ã€‚</p><p>å†æ¥ç©å„¿ä¸€ä¸ªå†…å­˜çš„ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> data1 = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> data2 = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> data3;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">asm</span>(<span class="string">&quot;movl %1, %%eax\n\t&quot;</span></span><br><span class="line">        <span class="string">&quot;addl %2, %%eax\n\t&quot;</span></span><br><span class="line">        <span class="string">&quot;movl %%eax, %0&quot;</span></span><br><span class="line">        : <span class="string">&quot;=m&quot;</span>(data3)</span><br><span class="line">        : <span class="string">&quot;m&quot;</span>(data1),<span class="string">&quot;m&quot;</span>(data2));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;data3 = %d \n&quot;</span>, data3);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆæ¥å°è¯•åˆ†æä¸€ä¸‹ï¼š</p><ol type="1"><li>æŠŠ<code>data1</code>çš„æ•°æ®ç§»åˆ°<code>eax</code>ä¸­</li><li>æŠŠ<code>data2</code>çš„æ•°æ®ä¸<code>eax</code>ä¸­çš„æ•°æ®ç›¸åŠ å¹¶å­˜å‚¨åˆ°<code>eax</code></li><li>æŠŠ<code>eax</code>é‡Œçš„æ•°æ®ç§»åˆ°<code>data3</code>ä¸­</li></ol><p>å†æ¥çœ‹ä¸€çœ‹æ±‡ç¼–ä»£ç æ˜¯ä¸æ˜¯è¿™ä¹ˆä¸€å›äº‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1b:   c7 45 ec 01 00 00 00    movl   $0x1,-0x14(%rbp)</span><br><span class="line">22:   c7 45 f0 02 00 00 00    movl   $0x2,-0x10(%rbp)</span><br><span class="line">29:   8b 45 ec                mov    -0x14(%rbp),%eax</span><br><span class="line">2c:   03 45 f0                add    -0x10(%rbp),%eax</span><br><span class="line">2f:   89 45 f4                mov    %eax,-0xc(%rbp)</span><br><span class="line">32:   8b 45 f4                mov    -0xc(%rbp),%eax</span><br><span class="line">35:   89 c6                   mov    %eax,%esi</span><br><span class="line">37:   48 8d 05 00 00 00 00    lea    0x0(%rip),%rax        # 3e &lt;main+0x3e&gt;</span><br><span class="line">3e:   48 89 c7                mov    %rax,%rdi</span><br><span class="line">41:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">46:   e8 00 00 00 00          call   4b &lt;main+0x4b&gt;</span><br><span class="line">4b:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">50:   48 8b 55 f8             mov    -0x8(%rbp),%rdx</span><br><span class="line">54:   64 48 2b 14 25 28 00    sub    %fs:0x28,%rdx</span><br><span class="line">5b:   00 00 </span><br><span class="line">5d:   74 05                   je     64 &lt;main+0x64&gt;</span><br><span class="line">5f:   e8 00 00 00 00          call   64 &lt;main+0x64&gt;</span><br></pre></td></tr></table></figure>è¿˜çœŸæ˜¯ï¼Œokï¼Œé“çˆ·æˆ‘æ‚Ÿäº†ï¼ˆç™«ï¼‰<center class="half"><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/v2-57b2d8a8e5bf42b63e4450ea10261fe1_720w.webp" alt="img" style="zoom: 67%;" /><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/v2-e38e7f9332a9987f810ca98ddf2abf34_720w.webp" alt="img" style="zoom: 33%;" /></center><h4 id="volatile">volatile</h4><p>è¿˜æ˜¯é‚£ä¸ªå¾ˆå…¸çš„<code>volatie</code>ï¼Œä¸€å¥è¯ï¼šç”¨äº†volatileä¿è¯äº†é¡ºåºæ€§ï¼Œä¸ç»™GCCä¼˜åŒ–</p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>åœ¨ä¸€ä¸ªæ¯«æ— æ±‡ç¼–ç»éªŒçš„äººä»0çœ‹å®Œï¼Œåº”è¯¥å¯¹æ±‡ç¼–æœ‰äº†å¤§è‡´çš„äº†è§£ï¼Œè€Œä¸”å¯¹äºå†…è”æ±‡ç¼–è¿™ä¸ªå¯ä»¥ç›´æ¥ç©å„¿å¯„å­˜å™¨çš„ç©æ„ä¹Ÿæœ‰äº†ä¸€ä¸ªå¤§æ¦‚çš„è®¤è¯†ï¼Œé‚£å°±å¤Ÿäº†ï¼Œå‰©ä¸‹çš„å’±æ…¢æ…¢è¡¥ï¼ˆ</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><a href="https://zhuanlan.zhihu.com/p/469950256">å¿«é€Ÿå…¥é—¨æ±‡ç¼–è¯­è¨€ -çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://www.jianshu.com/p/1782e14a0766">GCCå†…è”æ±‡ç¼–åŸºç¡€ -ç®€ä¹¦ (jianshu.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/618634622">å†…è”æ±‡ç¼– - çŸ¥ä¹(zhihu.com)</a></p><p><ahref="https://zhuanlan.zhihu.com/p/674807570">å†…è”æ±‡ç¼–å¾ˆå¯æ€•å—ï¼Ÿçœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œç»ˆç»“å®ƒï¼- çŸ¥ä¹ (zhihu.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day7</title>
      <link href="/2024/01/31/%E6%90%93OS-day7/"/>
      <url>/2024/01/31/%E6%90%93OS-day7/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day7">æ‰‹æ“OS-day7</h2><h3 id="ç°ä»£å¤„ç†å™¨äº’æ–¥å®ç°">ç°ä»£å¤„ç†å™¨äº’æ–¥å®ç°</h3><p>äº’æ–¥ï¼ˆmutual exclusionï¼‰å°±ä¸å¿…å¤šè¯´äº†ï¼Œç®€å•ç‚¹è¯´å°±æ˜¯ä¸èƒ½åŒæ—¶è®¿é—®ã€‚</p><p>å®ç°äº’æ–¥çš„åŸºæœ¬å‡è®¾ï¼š</p><ul><li>ä¸èƒ½åŒæ—¶è¯»å†™å†…å­˜</li><li>æŒ‡ä»¤ä¸ºä¸å¯æ‰“æ–­çš„åŸå­æŒ‡ä»¤</li><li>å‡½æ•°é€šè¿‡å†…å­˜å±éšœé¡ºåºä¸å¯ä¼˜åŒ–</li></ul><h4 id="è‡ªæ—‹é”spinlock">è‡ªæ—‹é”ï¼ˆSpinlockï¼‰</h4><p>è‡ªæ—‹å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§å¾ªç¯ç­‰å¾…çš„çŠ¶æ€ï¼Œå³ä¸ºå¿™ç­‰ï¼Œç»´åŸºç™¾ç§‘æ˜¯è¿™ä¹ˆè¯´çš„ï¼š</p><p><code>In software engineering, a spinlock is a lock that causes a thread trying to acquire it to simply wait in a loop ("spin") while repeatedly checking whether the lock is available.</code></p><p>æˆ‘ä»¬åœ¨ä¹‹å‰å­¦ä¹ æ“ä½œç³»ç»Ÿçš„æ—¶å€™ï¼Œè²Œä¼¼è®°å¾—å¿™ç­‰å¹¶ä¸æ˜¯ä¸€ç§å¾ˆå¥½çš„ç­–ç•¥ï¼Œå¿™ç­‰ä¼šè®©CPUæ— æ•ˆå·¥ä½œï¼Œå¯¼è‡´CPUåˆ©ç”¨ç‡é™ä½ã€‚</p><p>ç„¶è€Œï¼Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ æ—¶å¹¶æ²¡æœ‰æåˆ°å…¶ä¼˜ç‚¹ï¼Œå› ä¸ºä¸€ç›´æ˜¯å¿™ç­‰ï¼ˆå³è¿è¡Œæ€ï¼‰æ‰€ä»¥çº¿ç¨‹ä¸ä¼šè¿›å…¥é˜»å¡æ€ï¼Œä¹Ÿå°±æ²¡æœ‰äº†åˆ‡æ¢çš„ä¸Šä¸‹æ–‡å¼€é”€ã€‚</p><p>OKï¼Œç°åœ¨åŸºæœ¬çš„æ¦‚å¿µé—®é¢˜è§£å†³äº†ï¼Œä¸‹é¢å°±è¦å¼€å§‹æ·±å…¥å®ç°äº†ï¼Œç»“åˆä¹‹å‰çš„äº’æ–¥å®ç°çš„åŸºæœ¬å‡è®¾ï¼Œå¼€å§‹é˜…è¯»ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;thread.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100000000</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// æ€»ä¹‹å‡½æ•°å®ç°äº†ä¸€ä¸ªåŸå­çš„äº¤æ¢å‡½æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">xchg</span><span class="params">(<span class="type">int</span> <span class="keyword">volatile</span> *ptr, <span class="type">int</span> newval)</span> &#123;</span><br><span class="line">  <span class="type">int</span> result;</span><br><span class="line">  <span class="comment">// å†…è”æ±‡ç¼–</span></span><br><span class="line">  <span class="keyword">asm</span> <span class="title function_">volatile</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="string">&quot;lock xchgl %0, %1&quot;</span>  <span class="comment">// lockå‰ç¼€ç¡®ä¿åŸå­æ€§</span></span></span><br><span class="line"><span class="params">    : <span class="string">&quot;+m&quot;</span>(*ptr),        <span class="comment">// è¾“å‡ºæ“ä½œæ•°ï¼Œptrå¤„çš„å†…å­˜åˆæ˜¯è¾“å…¥åˆæ˜¯è¾“å‡º</span></span></span><br><span class="line"><span class="params">    <span class="string">&quot;=a&quot;</span>(result)         <span class="comment">// è¾“å‡ºæ“ä½œæ•°ï¼šresultæ¥æ”¶å†…å­˜ä½ç½®ä¸Šçš„å‰å€¼</span></span></span><br><span class="line"><span class="params">    : <span class="string">&quot;1&quot;</span>(newval)        <span class="comment">// è¾“å…¥æ“ä½œæ•°ï¼šnewvalæ˜¯è¦äº¤æ¢çš„ç›®æ ‡å€¼</span></span></span><br><span class="line"><span class="params">    : <span class="string">&quot;memory&quot;</span>           <span class="comment">// åˆ¶çº¦æ“ä½œæ•°ï¼šè¡¨ç¤ºå†…è”æ±‡ç¼–ä»£ç ä¼šä¿®æ”¹å†…å­˜</span></span></span><br><span class="line"><span class="params">  )</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> locked = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">lock</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (xchg(&amp;locked, <span class="number">1</span>)) ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">unlock</span><span class="params">()</span> &#123;</span><br><span class="line">  xchg(&amp;locked, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è²Œä¼¼è¿™ä¸ªå®ç°ä¹Ÿæ²¡å•¥ï¼ˆé›¾ï¼‰ï¼Œå½“ç„¶è¿™ä¸ªä¸œè¥¿è¿˜å¯ä»¥æ›´åŠ æ·±å…¥ï¼Œæ¯”å¦‚å¦‚ä½•åˆ†é…ç­‰å¾…åºåˆ—ï¼Œè®©å…¶æ›´å…¬å¹³ã€‚å‚è€ƒä¸‹é¢çš„æ‹“å±•é˜…è¯»ã€‚</p><h4 id="æ— é”ç®—æ³•">æ— é”ç®—æ³•</h4><p>æ— é”ç¼–ç¨‹ï¼Œå³ä¸ä½¿ç”¨é”çš„æƒ…</p><p>å†µä¸‹å®ç°å¤šçº¿ç¨‹ä¹‹é—´çš„å˜é‡åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯åœ¨æ²¡æœ‰çº¿ç¨‹è¢«é˜»å¡çš„æƒ…å†µä¸‹å®ç°å˜é‡çš„åŒæ­¥ï¼Œæ‰€ä»¥ä¹Ÿå«éé˜»å¡åŒæ­¥ã€‚</p><p>Compare and exchangeã€CASã€‘(" test and set ")</p><p><code>(lock) cmpxchg SRC, DEST</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TEMP = DEST</span><br><span class="line"><span class="keyword">if</span> accumulator == TEMP:</span><br><span class="line">    ZF = <span class="number">1</span></span><br><span class="line">    DEST = SRC</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    ZF = <span class="number">0</span></span><br><span class="line">    accumulator = TEMP</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€ä¸ªCASçš„æŒ‡ä»¤å·²ç»å®ç°çš„ä¸€ç§ä¼ªä»£ç ï¼ˆç±»ä¼¼ï¼‰ï¼Œæ¯”èµ·è‡ªæ—‹é”ï¼ŒCASå¤šäº†ä¸€ä¸ªæ¯”è¾ƒè¿‡ç¨‹ã€‚</p><h4 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</h4><p>è‡ªæ—‹é”ï¼šä¸´ç•ŒåŒºèƒ½å¤Ÿå¾ˆå¿«é€Ÿçš„ä½¿ç”¨ç»“æŸï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸çš„å¹¶å‘æ•°æ®ç»“æ„(çŸ­ä¸´ç•ŒåŒº)ã€‚</p><p>äº’æ–¥é”ï¼šé€šè¿‡ç³»ç»Ÿè°ƒç”¨è·å–ï¼Œå®ç°çº¿ç¨‹+é•¿ä¸´ç•ŒåŒºäº’æ–¥ã€‚</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p>ã€ä»Šæ—¥å­¦ä¹ ã€‘<ahref="https://jyywiki.cn/OS/2023/build/lect7.ipynb.html">7.å¹¶å‘æ§åˆ¶ï¼šäº’æ–¥ (jyywiki.cn)</a></p><p><ahref="https://cloud.tencent.com/developer/article/1169074">é¢è¯•å¿…å¤‡ä¹‹æ·±å…¥ç†è§£è‡ªæ—‹é”-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘(tencent.com)</a></p><p><a href="https://en.wikipedia.org/wiki/Spinlock">Spinlock -Wikipedia</a></p><p><a href="https://www.cnblogs.com/zyf-yxm/p/12049292.html">CASæ— é”ç®—æ³•- å®‡æ« - åšå®¢å›­ (cnblogs.com)</a></p><h3 id="æ‹“å±•é˜…è¯»">æ‹“å±•é˜…è¯»</h3><p><ahref="https://zhuanlan.zhihu.com/p/551234849">ä¸‡å­—é•¿æ–‡ä¸¨æ·±å…¥ç†è§£Linuxè‡ªæ—‹é”- çŸ¥ä¹ (zhihu.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸å¾—ä¸çŸ¥é“çš„å®ç”¨æ•°æ®ç»“æ„ç®—æ³•ï¼ˆäºŒï¼‰</title>
      <link href="/2024/01/18/%E4%B8%8D%E5%BE%97%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E5%AE%9E%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2024/01/18/%E4%B8%8D%E5%BE%97%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E5%AE%9E%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2id="ä¸å¾—ä¸çŸ¥é“çš„å®ç”¨æ•°æ®ç»“æ„ç®—æ³•äºŒ">ä¸å¾—ä¸çŸ¥é“çš„å®ç”¨æ•°æ®ç»“æ„ç®—æ³•ï¼ˆäºŒï¼‰</h2><p>ä¾æ—§æ˜¯ç®€å•æ€»ç»“ï¼Œä¸»è¦è¿˜æ˜¯ä¸€ä¸ªæ€è·¯ä¸Šçš„åº”å¯¹é—®é¢˜ï¼Œä¸å»æ¢è®¨å®ç°ç»†èŠ‚ï¼Œæœ‰æœºä¼šå•ç‹¬è®¨è®ºå®ç°ç»†èŠ‚ï¼ˆæ¯•ç«Ÿæˆ‘å¿˜å¾—å·®ä¸å¤šäº†ï¼‰ã€‚</p><h3 id="é“¾è¡¨">é“¾è¡¨</h3><p>é¦–å…ˆå…ˆå›å¿†é“¾è¡¨çš„å®šä¹‰ï¼Œä»¥åŠå…¶åŸºæœ¬æ“ä½œï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;Node;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç»å¸¸ä¼šå»æ¯”è¾ƒé¡ºåºè¡¨ä¸é“¾è¡¨çš„ä¼˜åŠ£ï¼Œä»¤æˆ‘ä»¬å°è±¡æœ€æ·±åˆ»çš„å¾€å¾€æ˜¯æ’å…¥ç®—æ³•çš„æ¯”è¾ƒï¼Œä¸‹é¢åˆ—ä¸ªè¡¨æ ¼æ¯”è¾ƒä¸€ä¸‹åŸºæœ¬æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ï¼š</p><table><thead><tr class="header"><th></th><th>é¡ºåºè¡¨</th><th>é“¾è¡¨</th></tr></thead><tbody><tr class="odd"><td>éšæœºå­˜å–</td><td>O(1)</td><td>ä¸èƒ½å®ç°</td></tr><tr class="even"><td>æ’å…¥</td><td>O(n)</td><td>O(1)</td></tr><tr class="odd"><td>åˆ é™¤</td><td>O(n)</td><td>O(1)</td></tr><tr class="even"><td>éå†</td><td>O(n)</td><td>O(n)</td></tr></tbody></table><p>ç›¸å¯¹é¡ºåºè¡¨è€Œè¨€ï¼Œé“¾è¡¨çš„æ“ä½œè²Œä¼¼æ›´å¿«ï¼Œä½†æ˜¯ä¹Ÿæ›´æœ‰æŒ‘æˆ˜æ€§ï¼Œå› ä¸ºæ²¡æœ‰äº†éšæœºå­˜å–çš„ç‰¹æ€§ï¼Œå¯¼è‡´é“¾è¡¨åœ¨è·å–å…ƒç´ æ—¶æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œä½†æ˜¯ï¼Œå¾€å¾€è¿™ç§æ‹§å·´çš„ä¸œè¥¿å°±å¾ˆå–œæ¬¢å‡ºé¢˜ã€‚</p><h3 id="æŠ€å·§ä¸€åŒå¤šæŒ‡é’ˆ">æŠ€å·§ä¸€ï¼šåŒï¼ˆå¤šï¼‰æŒ‡é’ˆ</h3><p>è¿™ä¸ªæ–¹æ³•ä¸å…¶è¯´å«åšä¸€ç§æŠ€å·§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ç§å®ç°çš„æ€è·¯ã€‚æˆ‘ä»¬è€ƒè™‘å•å‘å¸¦å¤´ç»“ç‚¹çš„æœ‰åºé“¾è¡¨ï¼Œä¸‹é¢å¼€å§‹åˆ†ç±»è¯´æ˜ï¼š</p><p><code>å‚¨å­˜</code>ï¼šå½“æˆ‘ä»¬éœ€è¦åœ¨æŸä¸ªå…ƒç´ å‰æ’å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘åœ¨æ‰¾åˆ°è¯¥èŠ‚ç‚¹æ—¶è¿˜éœ€è¦è¿™ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªåŒæŒ‡é’ˆã€‚ä¸è¦å°çœ‹è¿™ä¸ªæ€è·¯ï¼Œå‚¨å­˜å¥½æ•°æ®èƒ½åšå¾ˆå¤šäº‹æƒ…ï¼ˆä½†æ˜¯æˆ‘ä¸å¤ªä¼šä¸¾ä¾‹å­ï¼‰</p><p><code>ä¸åŒé“¾è¡¨</code>ï¼šæ¯”å¦‚åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ä½¿ç”¨å¤šä¸ªæŒ‡é’ˆ</p><p><code>äºŒåˆ†æŸ¥æ‰¾ã€å¿«é€Ÿæ’åº</code>ï¼šè¿™æ˜¯ä»æ’åºå’ŒæŸ¥æ‰¾ä¸­æ‹¿æ¥çš„æ€è·¯ï¼Œä¸€èˆ¬éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºçš„ï¼Œä½†æ˜¯ç”¨åœ¨é“¾è¡¨ä¸Šå¹¶ä¸éƒ½å¿«ï¼ŒäºŒåˆ†æŸ¥æ‰¾åªæœ‰åœ¨éšæœºå­˜å–ä¸‹æ‰å¿«ï¼›å¿«æ’çš„åˆ†æ²»çš„æ€è·¯æ˜¯åœ¨é“¾è¡¨ä¸Šå¾ˆå¸¸åº”ç”¨çš„</p><p><code>å¯¹æ’æŒ‡é’ˆ</code>ï¼šå°±æ˜¯é¦–å°¾æŒ‡é’ˆï¼ŒåŒå‘éå†ï¼Œä½†æ˜¯è¦æ³¨æ„è¿™é‡Œè¦æ±‚å°±å¿…é¡»æ˜¯åŒå‘é“¾è¡¨äº†</p><h3 id="æŠ€å·§äºŒå¿«æ…¢æŒ‡é’ˆ">æŠ€å·§äºŒï¼šå¿«æ…¢æŒ‡é’ˆ</h3><p>è¿™ä¸ªå°±æ¯”è¾ƒé“¾è¡¨äº†ï¼Œè§£å†³çš„é—®é¢˜ä¸»è¦æœ‰ï¼š</p><p><code>æœ‰å…¬å…±èŠ‚ç‚¹çš„é“¾è¡¨</code>ï¼š</p><p><code>æœ‰ç¯çš„é“¾è¡¨</code>ï¼š</p><p><code>åˆ†å—ä½ç½®å…³ç³»çš„é“¾è¡¨</code></p><h3 id="æŠ€å·§ä¸‰å°±åœ°é€†ç½®">æŠ€å·§ä¸‰ï¼šå°±åœ°é€†ç½®</h3><p>è¿™ä¸ªå®é™…ä¸Šå°±æ˜¯å¤´æ’æ³•çš„çµæ´»ä½¿ç”¨ï¼Œå…¶è§£å†³çš„é—®é¢˜ä¸å‰é¢æè¿‡çš„é¡ºåºè¡¨æ˜¯ä¸€è‡´çš„ã€‚</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><ahref="https://blog.csdn.net/qq_54773252/article/details/122836179">åŒæŒ‡é’ˆç®—æ³•-CSDNåšå®¢</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Cè¯­è¨€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day6</title>
      <link href="/2024/01/18/%E6%90%93OS-day6/"/>
      <url>/2024/01/18/%E6%90%93OS-day6/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day6">æ‰‹æ“OS-day6</h2><h3 id="å¹¶è¡Œå®éªŒ">å¹¶è¡Œå®éªŒ</h3><h4 id="æœ€é•¿å…¬å…±å­åºåˆ—lcsé—®é¢˜">æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰é—®é¢˜</h4><p>åŒºåˆ†å­åºåˆ—ä¸å­ä¸²ï¼šå­åºåˆ—æ˜¯å¯ä»¥å‰”é™¤éƒ¨åˆ†ä¸­é—´ä¸ç›¸ç­‰çš„éƒ¨åˆ†ï¼Œè€Œå­ä¸²å¿…é¡»æ˜¯è¿ç»­çš„ã€‚</p><p>è¿™ä¸ªé—®é¢˜æ˜¯ä¸èƒ½é‡‡ç”¨æš´åŠ›éå†çš„ï¼Œå› ä¸ºæ—¶é—´å¤æ‚åº¦é«˜çš„å¯æ€•ï¼Œè¦é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œè€ŒåŠ¨æ€è§„åˆ’çš„æœ€é‡è¦çš„å°±æ˜¯æ‰¾åˆ°çŠ¶æ€è½¬ç§»å‡½æ•°</p><h5 id="æ€§è´¨ä»¥åŠçŠ¶æ€è½¬ç§»å‡½æ•°">æ€§è´¨ä»¥åŠçŠ¶æ€è½¬ç§»å‡½æ•°</h5><p>ç°æœ‰ä¸¤ä¸ªåºåˆ—<code>X[]</code>å’Œ<code>Y[]</code>ï¼Œé•¿åº¦åˆ†åˆ«ä¸º<code>m</code>å’Œ<code>n</code>ï¼Œ<code>lcs()</code>å‡½æ•°ä¸ºæ±‚æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦çš„å‡½æ•°ã€‚</p><p><strong>æ€§è´¨1ï¼š</strong>å¦‚æœä¸²çš„æœ€åä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œä¾‹å¦‚ï¼š<code>if (X[m-1]==Y[n-1])</code>ï¼Œé‚£ä¹ˆå…¶æœ€é•¿å­åºåˆ—é•¿åº¦ï¼Œåˆ™åœ¨å‰©ä½™çš„<code>m-1</code>ä¸<code>n-1</code>ä¸ªå…ƒç´ çš„æœ€é•¿å­åºåˆ—åŠ ä¸€ï¼Œå…¬å¼è¡¨ç°ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(X[m<span class="number">-1</span>]==Y[n<span class="number">-1</span>])  lcs(X,Y,m,n)=lcs(X,Y,m<span class="number">-1</span>,n<span class="number">-1</span>)+<span class="number">1</span>;</span><br></pre></td></tr></table></figure><p><strong>æ€§è´¨2</strong>ï¼šå¦‚æœä¸²çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸ç›¸åŒï¼Œä¾‹å¦‚ï¼Œ<code>if(X[m-1]!=Y[n-1])</code>ï¼Œåˆ™å–ä¸‹é¢ä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼ï¼š</p><ol type="1"><li>åˆ é™¤<code>X</code>çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæ±‚<code>X</code>å’Œ<code>Y</code>çš„å­åºåˆ—é•¿åº¦</li><li>åˆ é™¤<code>Y</code>çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæ±‚<code>X</code>å’Œ<code>Y</code></li></ol><p>ä»å…¬å¼ä¸Šè¡¨è¾¾ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(X[m<span class="number">-1</span>]!=Y[n<span class="number">-1</span>])</span><br><span class="line">lcs(X,Y,m,n)=max(lcs(X,Y,m<span class="number">-1</span>,n),lcs(X,Y,m,n<span class="number">-1</span>));</span><br></pre></td></tr></table></figure><p>é€’å½’æ–¹æ³•èƒ½å‘ç°å…¶è®¡ç®—äº†ä¸€äº›é‡å¤å€¼ï¼Œäºæ˜¯è€ƒè™‘é€šè¿‡åŠ¨æ€è§„åˆ’çš„æ–¹å¼æ¥å­˜å‚¨å·²ç»è®¡ç®—è¿‡çš„ç»“æœï¼Œä¸‹é¢æ˜¯å…¶è¡¨ä¸­ä½œä¸šçš„å½¢å¼ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240201101422361.png"alt="å›¾æºè‡ªå‚è€ƒé“¾æ¥1" /><figcaption aria-hidden="true">å›¾æºè‡ªå‚è€ƒé“¾æ¥1</figcaption></figure><h5 id="è¾“å‡ºlcsåºåˆ—">è¾“å‡ºLCSåºåˆ—</h5><p>å®é™…ä¸Šï¼Œä¸Šé¢è¡¨çš„ç”Ÿæˆæ˜¯å¯ä»¥çœ‹åšä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œæ¯ä¸€ä¸ªæ•°çš„ç”Ÿæˆéƒ½ä¾èµ–ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°ï¼Œäºæ˜¯æˆ‘ä»¬ä»è¡¨çš„å³ä¸‹è§’èµ·æ­¥ï¼Œå¯¹å…¶è¿›è¡ŒæŸç§æ‹“æ‰‘æ’åºï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªLCSåºåˆ—</p><h4 id="å¹¶è¡Œæ€è·¯">å¹¶è¡Œæ€è·¯</h4><p>è€å¸ˆçš„ç½‘ç«™ä¸Šçš„å›¾ä¸æ˜¯éå¸¸æ¸…æ™°ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªç½‘ç«™é‡Œçš„ä¸€å¼ å›¾å¹¶ç»“åˆä¸Šé¢çš„ä¾èµ–ï¼Œä¼šéå¸¸æ¸…æ™°ï¼š</p><figure><imgsrc="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240201103544330.png"alt="ä¾µåˆ " /><figcaption aria-hidden="true">ä¾µåˆ </figcaption></figure><p>å¦‚æœå»ºç«‹åœ¨åŠ¨æ€è§„åˆ’ä¸Šï¼Œæ¯ä¸€æ¡è®¡ç®—çš„åˆ†æ”¯éƒ½æ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å°è¯•äº†ï¼Œä¸‹é¢è¿˜æœ‰ä¸€ä¸ªå‡çº§ç‰ˆçš„å¹¶è¡Œæ–¹æ¡ˆï¼Œåœ¨æœ€åä¸€ä¸ªé“¾æ¥ï¼Œèœï¼Œå®ç°äº†ä¸€ä¸ªéå¸¸ç®€å•çš„å¹¶è¡Œï¼ˆç”šè‡³å¯èƒ½ä¸å¦‚å•ç‹¬ç®—å¿«ï¼‰ï¼Œæ ¸å¿ƒè¦ç‚¹æ˜¯è¦ä¿æŠ¤å¯¹è§’ä¸Šçš„å…ƒç´ çš„è®¿é—®ï¼Œè¿™ä¸ªå¯¹è§’æ¯”è¾ƒå¹¿ä¹‰ï¼Œæ ¸å¿ƒçš„ä¸€æ¡ä»£ç å°±æ˜¯è¿™æ ·å­çš„ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spin_lock(&amp;result_lock);</span><br><span class="line">result = MAX(result, dp[N - <span class="number">1</span>][M - <span class="number">1</span>]);</span><br><span class="line">spin_unlock(&amp;result_lock);</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“">æ€»ç»“</h3><p>ç»™æˆ‘å°å°çš„ç¼–ç¨‹ç»å†å¸¦æ¥äº†å¤§å¤§çš„å¹¶è¡Œéœ‡æ’¼ï¼Œè¿˜å¾—è¡¥ä¸€ä¸‹é«˜æ€§èƒ½è®¡ç®—ï¼ˆå“ï¼Œåˆæ˜¯å‘ï¼‰</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><ahref="https://www.enjoyalgorithms.com/blog/longest-common-subsequence">LongestCommon Subsequence (enjoyalgorithms.com)ï¼ˆè¿™ä¸ªæ€§è´¨è§£é‡Šçš„æ¸…æ¥šï¼‰</a></p><p><ahref="https://blog.csdn.net/c2434525400/article/details/123573955">æœ€é•¿å…¬å…±å­åºåˆ—(LCS)è¿‡ç¨‹å›¾è§£_æœ€é•¿å­åºåˆ—-CSDNåšå®¢ï¼ˆè¿™ä¸ªè¿‡ç¨‹è§£é‡Šçš„æ¸…æ¥šï¼‰</a></p><p><a href="https://jyywiki.cn/OS/2023/labs/M2.html">M2: å¹¶è¡Œ LongestCommon Subsequence (plcs) (jyywiki.cn)</a></p><p><ahref="https://www.iaeng.org/publication/WCE2010/WCE2010_pp499-504.pdf">WCE2010_pp499-504.pdf(iaeng.org)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day5</title>
      <link href="/2024/01/14/%E6%90%93OS-day5/"/>
      <url>/2024/01/14/%E6%90%93OS-day5/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day5">æ‰‹æ“OS-day5</h2><p>å’•å’•ï¼Œåšä¸€ä¸ªè€é¸½å­çœŸçš„æ˜¯å¤ªèˆ’æœäº†ï¼ˆé›¾ï¼‰ã€‚è¿™é‡Œæˆ‘å…ˆæå‡ºä¸€ä¸ªæ“ä½œç³»ç»Ÿå…¬å…±å•æ‰€è¯´ï¼ˆï¼‰ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå•æ‰€æ˜¯ä¸€ç§ç´§ä¿èµ„æºï¼ˆCPUè®¡ç®—èµ„æºï¼‰ï¼Œåªèƒ½ç‹¬å ï¼Œè¿™é‡Œæˆ‘ä»¬åšä¸€ä¸ªæŠ½ï¼ˆæ¶ï¼‰è±¡ï¼ˆå¿ƒï¼‰çš„å‡è®¾ï¼Œäººä»¬æ˜¯å¯ä»¥å®¹å¿ä¸´æ—¶æ¢äººçš„ï¼ˆçŠ¶æ€æœºï¼‰ï¼Œæœ‰äº†è¿™ä¸ªç°ï¼ˆé€†ï¼‰å®ï¼ˆå¤©ï¼‰æ¨¡å‹ï¼Œåé¢å°±å®¹æ˜“ç†è§£äº†ã€‚</p><h3 id="å¤ä¹ ">å¤ä¹ </h3><h4 id="å¹¶å‘">å¹¶å‘</h4><p>å¹¶å‘ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªæ—¶é—´æ®µå†…ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶è¿è¡Œï¼ˆå¾€å¾€æ˜¯äº¤æ›¿çš„ï¼‰ï¼Œè€Œä¸æ˜¯å®Œå…¨çš„åŒæ—¶ï¼Œä»¥äººç±»è§†è§’æ¥çœ‹å¹¶å‘æ˜¯ç›¸å½“æ¶å¿ƒçš„ï¼Œå¸¦å…¥ä¸€ä¸‹ä¸Šè¾¹çš„æ¨¡å‹å°±èƒ½ä½“ä¼šåˆ°ã€‚</p><p>è€Œä¸å¹¶å‘å¸¸æ··æ·†çš„æ˜¯<code>å¹¶è¡Œ</code>ï¼Œå¹¶è¡Œæ˜¯æˆ‘ä»¬å¯ä»¥ç†è§£çš„ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ï¼ˆä¸åªæ˜¯è¿›ç¨‹ï¼‰åœ¨åŒæ—¶åˆ»å¤„äºè¿è¡Œæ€ï¼Œä½†æ˜¯æ”¾åœ¨ä¸Šé¢çš„æ¨¡å‹ä¸­ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå‘ä½ï¼Œæ˜¾ç„¶å¹¶è¡Œä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸€èˆ¬æ“ä½œç³»ç»Ÿè¯¾ç¨‹ä¸­å¸¸å¸¸è€ƒè™‘çš„å•å¤„ç†æœºã€‚</p><p>è¿™é‡Œç”»ä¸€ä¸ªå›¾å°±æ‡‚äº†ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240114221544023.png"alt="å¹¶å‘ä¸å¹¶è¡Œ" /><figcaption aria-hidden="true">å¹¶å‘ä¸å¹¶è¡Œ</figcaption></figure><p>å¯èƒ½æœ‰äº›åŸºç¡€è–„å¼±çš„åŒå­¦è¦é—®äº†ï¼Œå¤„ç†æœºå’ŒCPUæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ</p><p>è¿™ä¸ªè¿˜æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«çš„ï¼Œå¤„ç†æœºï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸ªå¤„ç†ä»€ä¹ˆç©æ„çš„æœºå™¨ï¼Œæ‰€ä»¥ä»–æ˜¯å¤„ç†ä»€ä¹ˆçš„å‘¢ï¼Œå¤„ç†çš„æ˜¯æ•°æ®å’Œç¨‹åºï¼Œå®é™…ä¸Šï¼Œå¤„ç†æœºæ˜¯ä¸€ä¸ªé™¤å»å¤–è®¾çš„ä¸€ä¸ªè®¡ç®—æœºï¼Œè€Œå¤„ç†å™¨å°±æ˜¯CPUï¼Œå¤„ç†æœºåŒ…å«å¤„ç†å™¨ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240114222149946.png"alt="image-20240114222149946" /><figcaption aria-hidden="true">image-20240114222149946</figcaption></figure><p>è¿™ä¸ªè¯´æ³•åœ¨è¯¾æœ¬ä¸Šå¤šæ¬¡æåˆ°ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºæ˜¯å¾ˆå¤§ç¨‹åº¦ä¸Šä¸ºæˆ‘ä»¬ç†è§£å¢åŠ äº†éšœç¢ï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­æˆ‘ä»¬å…¶å®å°±å¯ä»¥ç‹­éš˜çš„ç†è§£æˆåˆ†é…äº†è®¡ç®—èµ„æºï¼ˆCPUï¼‰å°±å¥½ã€‚</p><h4 id="å¹¶å‘å¸¦æ¥çš„é—®é¢˜">å¹¶å‘å¸¦æ¥çš„é—®é¢˜</h4><p>åœ¨ä¸Šä¸€ç¯‡çš„å®éªŒä¸­å…¶å®å·²ç»èƒ½å¤Ÿçœ‹å‡ºæ¥ï¼Œç”±äºå¹¶å‘çš„ç¨‹åºç›¸å½“éšæœºï¼Œæ‰€ä»¥ä¼šå‡ºç°è¾“å‡ºå¹¶ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æƒ…å†µï¼šè¿è¡Œé¡ºåºä¸å¥½ï¼Œè®¿é—®å…±åŒèµ„æºï¼Œåˆ†åˆ«å¯¹åº”ä¸¤ç§é—®é¢˜ï¼šåŒæ­¥ä¸äº’æ–¥ã€‚</p><p>ä»Šå¤©å…ˆæ¥è§£å†³äº’æ–¥é—®é¢˜ã€‚</p><h3 id="petersonç®—æ³•">Petersonç®—æ³•</h3><h4 id="ç†è®º">ç†è®º</h4><p>è¿™ä¸ªç®—æ³•ç›¸å½“å¥‡æ€ªï¼Œä½†æ˜¯æ˜¯ä¸€ä¸ªç¤¼è²Œçš„ç®—æ³•ï¼Œæˆ‘ä»¬å›åˆ°ä¸Šé¢çš„å•æ‰€æ¨¡å‹ã€‚å•æ‰€é‡Œå…³äº†ï¼ˆ<del>è¢«é˜¿å§¨é”é—¨ä¸”å…³ç¯</del>ï¼‰ç”²ä¹™ä¸¤äººï¼Œç”²ä¹™ä¸¤äººéƒ½å¯èƒ½æƒ³è¿›å…¥å•æ‰€ï¼ˆæƒ³è¿›å•æ‰€æ˜¯éšæœºçš„ï¼‰ï¼Œé‚£æ€ä¹ˆæ‰èƒ½ä¿è¯å•æ‰€ä»…ä»…è¢«ä¸€äººä½¿ç”¨å‘¢ï¼Ÿ</p><p><code>ç”²ï¼šæˆ‘æƒ³å»å•æ‰€ï¼Œä½†æ˜¯æˆ‘å¾—çœ‹çœ‹ä¹™åœ¨ä¸åœ¨é‡Œè¾¹</code></p><p>äºæ˜¯ï¼Œç”²å¤§å£°ä¸”è‡ªä¿¡çš„è¯´å‡ºï¼Œæˆ‘è¦å»å•æ‰€å•¦ï¼Œä½ åœ¨ç”¨å—ï¼Œç„¶åä¹™å›å¤ï¼šæˆ‘æ­£åœ¨ç”¨ï¼Œå¹¶ä¸”å¬åˆ°ä¹™åœ¨ä¸€ç›´è¯´ï¼šæˆ‘è¦ä¸Šå•æ‰€ï¼Œäºæ˜¯ç”²å†³å®šç­‰ä¸€ä¼šå„¿ï¼Œåªå¬è§ä¹™è¿˜åœ¨å«åš·ï¼ˆ</p><p>æ²¡é”™è¿™ä¸ªç®—æ³•å°±æ˜¯è¿™ä¹ˆè¯¡å¼‚çš„çŠ¶å†µï¼Œä½†æ˜¯å¾ˆç¤¼è²Œï¼Œç°åœ¨æˆ‘ä»¬æŠŠè¿™ä¸ªè¿‡ç¨‹å¯¹åº”åˆ°å˜é‡ä¸Šï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span>; # ç”²è¡¨ç¤ºæˆ‘è¦ä¸Šå•æ‰€</span><br><span class="line">turn = B; # æˆ‘å…ˆé—®é—®ä¹™åœ¨ä¸åœ¨</span><br><span class="line"><span class="keyword">while</span>(y &amp;&amp; turn==B); # é‚£ç”²å…ˆç­‰ä¼šå„¿</span><br><span class="line"># å¦åˆ™</span><br><span class="line">x = <span class="number">0</span>; # ç”²æ„‰å¿«çš„è¿›å…¥å•æ‰€ï¼Œå¹¶ç»“æŸ</span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯Petersonç®—æ³•çš„åŸºæœ¬æµç¨‹ï¼Œå¦‚æœå°†å…¶å†™çš„æ›´åŠ å…¨é¢ä¸€ç‚¹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">TA</span><span class="params">()</span> &#123; <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">/* â¶ */</span>  x = <span class="number">1</span>;</span><br><span class="line"><span class="comment">/* â· */</span>  turn = B;</span><br><span class="line"><span class="comment">/* â¸ */</span>  <span class="keyword">while</span> (y &amp;&amp; turn == B) ;</span><br><span class="line"><span class="comment">/* â¹ */</span>  x = <span class="number">0</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TB</span><span class="params">()</span> &#123; <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">/* â‘  */</span>  y = <span class="number">1</span>;</span><br><span class="line"><span class="comment">/* â‘¡ */</span>  turn = A;</span><br><span class="line"><span class="comment">/* â‘¢ */</span>  <span class="keyword">while</span> (x &amp;&amp; turn == A) ;</span><br><span class="line"><span class="comment">/* â‘£ */</span>  y = <span class="number">0</span>; &#125; &#125;</span><br></pre></td></tr></table></figure><h4 id="volatileå’Œç¼–è¯‘å™¨å±éšœé¡ºåºæ€§">volatileå’Œç¼–è¯‘å™¨å±éšœï¼ˆé¡ºåºæ€§ï¼‰</h4><h5 id="ç¼–è¯‘å™¨æŒ‡ä»¤é‡æ’">ç¼–è¯‘å™¨æŒ‡ä»¤é‡æ’</h5><p>æ ¹æ®ä¸Šä¸€ç¯‡çš„è®¤è¯†ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“åœ¨ç°ä»£è®¡ç®—æœºä¸Šï¼Œç¨‹åºçš„æ‰§è¡Œå¹¶ä¸å…·æœ‰åŸå­æ€§ï¼Œæœºå™¨è¯­è¨€çš„é¡ºåºä¸æˆ‘ä»¬å†™å‡ºçš„é«˜çº§è¯­è¨€çš„é¡ºåºä¹Ÿä¼šä¸ä¸€è‡´ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a,b;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">foo</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    a=b+<span class="number">1</span>;</span><br><span class="line">    b=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡æˆ‘ä»¬ä¹‹å‰çš„ç¼–è¯‘æ“ä½œå’Œåç¼–è¯‘æ“ä½œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -c -o compile1.o  compile_demo.c</span> </span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">0000000000000000 &lt;foo&gt;:</span><br><span class="line">   0:   f3 0f 1e fa             endbr64 </span><br><span class="line">   4:   55                      push   %rbp</span><br><span class="line">   5:   48 89 e5                mov    %rsp,%rbp</span><br><span class="line">   8:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # e &lt;foo+0xe&gt;</span><br><span class="line">   e:   83 c0 01                add    $0x1,%eax</span><br><span class="line">  11:   89 05 00 00 00 00       mov    %eax,0x0(%rip)        # 17 &lt;foo+0x17&gt;</span><br><span class="line">  17:   c7 05 00 00 00 00 00    movl   $0x0,0x0(%rip)        # 21 &lt;foo+0x21&gt; b=0</span><br><span class="line">  1e:   00 00 00 </span><br><span class="line">  21:   90                      nop</span><br><span class="line">  22:   5d                      pop    %rbp</span><br><span class="line">  23:   c3                      ret    </span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬é‡‡ç”¨O2çº§åˆ«çš„ç¼–è¯‘ä¼˜åŒ–ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -c -O2  -o compile2.o compile_demo.c</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0000000000000000 &lt;foo&gt;:</span><br><span class="line">   0:   f3 0f 1e fa             endbr64 </span><br><span class="line">   4:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # a &lt;foo+0xa&gt;</span><br><span class="line">   a:   c7 05 00 00 00 00 00    movl   $0x0,0x0(%rip)        # 14 &lt;foo+0x14&gt; b=0</span><br><span class="line">  11:   00 00 00 </span><br><span class="line">  14:   83 c0 01                add    $0x1,%eax</span><br><span class="line">  17:   89 05 00 00 00 00       mov    %eax,0x0(%rip)        # 1d &lt;foo+0x1d&gt;</span><br><span class="line">  1d:   c3                      ret    </span><br></pre></td></tr></table></figure><p>å¯ä»¥æ‘ç€å¤´çš®å°è¯•é˜…è¯»ä¸€ä¸‹ï¼Œå…¶å®ä¹Ÿä¸éš¾çœ‹æ‡‚ï¼ˆæˆ‘å†™äº†ä¸€å¥æ³¨é‡Š<code>b=0</code>ï¼‰ï¼Œå¯ä»¥çœ‹å‡ºï¼Œ<code>b=0ä¸a=b+1</code>ä¸¤å¥è¯åœ¨ä¸åŒçš„ç¼–è¯‘ä¼˜åŒ–ä¸Šï¼Œè¡¨ç°å‡ºçš„ä½ç½®å®é™…ä¸Šæ˜¯ä¸åŒçš„ï¼Œè¿™æ˜¯å› ä¸ºåœ¨å•çº¿ç¨‹ä¸‹ï¼Œaä¸bçš„èµ‹å€¼é¡ºåºåœ¨ç¼–è¯‘å™¨çœ‹æ¥å…¶å®æ— å…³ç—›ç—’ï¼Œä½†åœ¨å¤šçº¿ç¨‹å¹¶å‘ä¸‹å¾ˆå¯èƒ½ä¼šå‡ºé—®é¢˜ï¼Œå°±æ¯”å¦‚ä¸Šé¢çš„Petersonç®—æ³•ï¼Œå¦‚æœç¼–è¯‘å™¨è°ƒæ¢äº†å¾ªç¯ç­‰å¾…ä¸å…¶ä»–è¯­å¥çš„é¡ºåºï¼Œé‚£ä¹ˆPetersonç®—æ³•å°†ä¸å†æˆç«‹ã€‚</p><p>å¯¹äºè¿™ä¸ªé—®é¢˜ä¹Ÿå­˜åœ¨å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼š</p><h5 id="æ˜¾å¼ç¼–è¯‘å±éšœ">æ˜¾å¼ç¼–è¯‘å±éšœ</h5><p>ç¼–è¯‘å™¨æä¾›äº†ç¼–è¯‘å™¨å±éšœï¼ˆcompiler barriersï¼‰ï¼Œç”¨æ¥å‘ŠçŸ¥ä¸å¯é‡æ’</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> barrier() asm volatile(<span class="string">&quot;&quot;</span>:::<span class="string">&quot;memory&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a,b;</span><br><span class="line"><span class="type">void</span>()</span><br><span class="line">&#123;</span><br><span class="line">    a=b+<span class="number">1</span>;</span><br><span class="line">    barrier()</span><br><span class="line">    b=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶è¿™ä¸ªå®å®šä¹‰ä¹Ÿè¶…å‡ºæˆ‘çš„çŸ¥è¯†èŒƒå›´äº†ï¼Œé—®é—®chatgptå§ï¼š</p><p><code>å…·ä½“è€Œè¨€ï¼Œè¿™ä¸ªå®çš„å®šä¹‰ä¸­åŒ…å«äº†ä¸€ä¸ªå†…è”æ±‡ç¼–è¯­å¥,è¿™ä¸ªæ±‡ç¼–è¯­å¥çš„ä½œç”¨æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨åœ¨è¿™é‡Œæ’å…¥ä¸€ä¸ªå†…å­˜å±éšœï¼Œç¡®ä¿å‰é¢çš„å†…å­˜æ“ä½œï¼ˆè¯»æˆ–å†™ï¼‰å’Œåé¢çš„å†…å­˜æ“ä½œåœ¨æ‰§è¡Œæ—¶çš„é¡ºåºä¸èƒ½è¢«é‡æ’ã€‚ memoryæ˜¯ä¸€ä¸ªå†…å­˜å±éšœçš„ç±»å‹ï¼Œè¡¨ç¤ºåœ¨è¿™ä¸ªä½ç½®ä¹‹å‰å’Œä¹‹åçš„æ‰€æœ‰å†…å­˜è®¿é—®ä¸èƒ½è¢«é‡æ’ã€‚</code></p><p>å†æ¬¡ç¼–è¯‘ï¼Œåç¼–è¯‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0000000000000000 &lt;foo&gt;:</span><br><span class="line">   0:   f3 0f 1e fa             endbr64 </span><br><span class="line">   4:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # a &lt;foo+0xa&gt;</span><br><span class="line">   a:   83 c0 01                add    $0x1,%eax</span><br><span class="line">   d:   89 05 00 00 00 00       mov    %eax,0x0(%rip)        # 13 &lt;foo+0x13&gt;</span><br><span class="line">  13:   c7 05 00 00 00 00 00    movl   $0x0,0x0(%rip)        # 1d &lt;foo+0x1d&gt;  b=0</span><br><span class="line">  1a:   00 00 00 </span><br><span class="line">  1d:   c3                      ret    </span><br></pre></td></tr></table></figure><h5 id="éšå¼ç¼–è¯‘å±éšœ">éšå¼ç¼–è¯‘å±éšœ</h5><p>å½“æŸä¸ªå‡½æ•°åŒ…å«å±éšœæ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°ä¹Ÿæœ‰å±éšœçš„ä½œç”¨</p><h4 id="å®ç°">å®ç°</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;thread.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> A 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> B 2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BARRIER __sync_synchronize() <span class="comment">// GCC å†…å»ºçš„åŒæ­¥å†…å­˜å±éšœå‡½æ•°</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">atomic_int</span> nested; <span class="comment">// atomic_int æ˜¯ C æ ‡å‡†ä¸­ &lt;stdatomic.h&gt; å¤´æ–‡ä»¶ä¸­å®šä¹‰çš„åŸå­ç±»å‹</span></span><br><span class="line"><span class="type">atomic_long</span> count;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">critical_section</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">long</span> cnt = atomic_fetch_add(&amp;count, <span class="number">1</span>); <span class="comment">// åŸå­åŠ æ³•</span></span><br><span class="line">    <span class="type">int</span> i = atomic_fetch_add(&amp;nested, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (i != <span class="number">1</span>) <span class="comment">// è¿›å…¥ä¸´ç•ŒåŒºçš„çº¿ç¨‹ä¸èƒ½å¤šäºä¸¤ä¸ª</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d thread in the critical section @ count=%ld\n&quot;</span>, i, cnt);</span><br><span class="line">        assert(<span class="number">0</span>); <span class="comment">// æ–­è¨€ï¼Œä¸Šä¸€æ¬¡å­¦è¿‡äº†ï¼Œå› æ­¤åªè¦è¿™ä¸ªç¨‹åºä¸åœæ­¢ï¼Œè¯æ˜å°±æ­£å¸¸è·‘èµ·æ¥äº†</span></span><br><span class="line">    &#125;</span><br><span class="line">    atomic_fetch_add(&amp;nested, <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="keyword">volatile</span> x = <span class="number">0</span>, y = <span class="number">0</span>, turn; </span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">chatGPT:</span></span><br><span class="line"><span class="comment">volatile æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºå‘Šè¯‰ç¼–è¯‘å™¨ä¸è¦å¯¹è¿™äº›å˜é‡è¿›è¡Œä¼˜åŒ–ï¼Œä»¥ç¡®ä¿æ¯æ¬¡è®¿é—®éƒ½ä»å†…å­˜ä¸­è¯»å–æˆ–å†™å…¥å˜é‡çš„å€¼ï¼Œè€Œä¸ä½¿ç”¨ç¼“å­˜ã€‚</span></span><br><span class="line"><span class="comment">åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œvolatile é€šå¸¸ç”¨äºæ ‡è®°å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«çš„å˜é‡ï¼Œä»¥ç¡®ä¿å¯¹è¿™äº›å˜é‡çš„è®¿é—®æ˜¯å¯è§çš„ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TA</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        x=<span class="number">1</span>;</span><br><span class="line">        BARRIER;</span><br><span class="line">        turn=B;</span><br><span class="line">        BARRIER;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!y) <span class="keyword">break</span>;</span><br><span class="line">            BARRIER;</span><br><span class="line">            <span class="keyword">if</span> (turn!=B) <span class="keyword">break</span>;</span><br><span class="line">            BARRIER;</span><br><span class="line">        &#125;</span><br><span class="line">        critical_section();</span><br><span class="line">        x=<span class="number">0</span>;</span><br><span class="line">        BARRIER;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TB</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        y=<span class="number">1</span>;</span><br><span class="line">        BARRIER;</span><br><span class="line">        turn=A;</span><br><span class="line">        BARRIER;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!x) <span class="keyword">break</span>;</span><br><span class="line">            BARRIER;</span><br><span class="line">            <span class="keyword">if</span> (turn!=A) <span class="keyword">break</span>;</span><br><span class="line">            BARRIER;</span><br><span class="line">        &#125;</span><br><span class="line">        critical_section();</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">        BARRIER;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    create(TA);</span><br><span class="line">    create(TB);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®ç°å¤šçº¿ç¨‹æ±‚å’ŒåŸå­æ€§">å®ç°å¤šçº¿ç¨‹æ±‚å’Œï¼ˆåŸå­æ€§ï¼‰</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;thread.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100000000</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> sum =<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">atomic_inc</span><span class="params">(<span class="type">long</span> *ptr)</span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    å†…è”æ±‡ç¼–ï¼Œä¿ºä¸ä¼šï¼ŒåŠŸèƒ½æ˜¯åŸå­è‡ªå¢</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">asm</span> <span class="title function_">volatile</span><span class="params">(</span></span><br><span class="line"><span class="params">        <span class="string">&quot;lock incq %0&quot;</span>  <span class="comment">// Atomic + memory fence</span></span></span><br><span class="line"><span class="params">        :<span class="string">&quot;+m&quot;</span>(*ptr)</span></span><br><span class="line"><span class="params">        :</span></span><br><span class="line"><span class="params">        :<span class="string">&quot;memory&quot;</span> <span class="comment">// å†…å­˜å±éšœ</span></span></span><br><span class="line"><span class="params">    )</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Tsum</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">atomic_inc</span>(&amp;sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    create(Tsum);</span><br><span class="line">    create(Tsum);</span><br><span class="line">    join();  <span class="comment">// ç»“æŸè¿›ç¨‹</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sum=%ld\n&quot;</span>,sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“">æ€»ç»“</h3><p>å¹¶å‘æä¾›äº†æ–°çš„åŠŸèƒ½ï¼Œä½†ç¡®ç¡®å®å®å¸¦æ¥äº†æå¤§çš„å®ç°æŒ‘æˆ˜ï¼Œæ³¨æ„ç†è§£é¡ºåºæ€§ï¼ŒåŸå­æ€§åœ¨å®ç°ä¸­çš„å¿…è¦æ€§ï¼Œè¦æ˜ç™½æˆ‘ä»¬å†™çš„é«˜çº§ä»£ç ï¼Œåœ¨è¿è¡Œæ—¶ä¼šå‡ºå¾ˆå¤šå¹ºè›¾å­,ä»è€Œæ›´å¥½åœ°ç†è§£å¹¶å‘çš„è¿›ç¨‹åŒæ­¥ã€‚</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><ahref="https://blog.csdn.net/wll1228/article/details/121875525">volatileå’Œç¼–è¯‘å™¨å±éšœ_asmvolatile("yield" ::: "memory");-CSDNåšå®¢</a></p><p><a href="https://jyywiki.cn/OS/2023/build/lect6.ipynb.html">6.å¹¶å‘æ§åˆ¶åŸºç¡€ (jyywiki.cn)</a></p><p><ahref="https://pages.cs.wisc.edu/~remzi/OSTEP/threads-api.pdf">single.dvi(wisc.edu)è¯¾æœ¬é˜…è¯»ææ–™</a></p><p><a href="https://godbolt.org/">Compiler Explorer (godbolt.org)å¾ˆå¥½ç©çš„ç¼–è¯‘ç½‘ç«™</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸å¾—ä¸çŸ¥é“çš„å®ç”¨æ•°æ®ç»“æ„ç®—æ³•ï¼ˆä¸€ï¼‰</title>
      <link href="/2024/01/13/%E4%B8%8D%E5%BE%97%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E5%AE%9E%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2024/01/13/%E4%B8%8D%E5%BE%97%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E5%AE%9E%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2id="ä¸å¾—ä¸çŸ¥é“çš„å®ç”¨æ•°æ®ç»“æ„ç®—æ³•ä¸€">ä¸å¾—ä¸çŸ¥é“çš„å®ç”¨æ•°æ®ç»“æ„ç®—æ³•ï¼ˆä¸€ï¼‰</h2><p>æ–°å‘è¯´å¼€å°±å¼€ï¼Œå°±æ˜¯è¿™ä¹ˆéšï¼ˆä¸ï¼‰å¿ƒï¼ˆçŸ¥ï¼‰æ‰€ï¼ˆæ­»ï¼‰æ¬²ï¼ˆæ´»ï¼‰ï¼Œè¿™ä¸ªç³»åˆ—å®é™…ä¸Šæ˜¯é’ˆå¯¹æ•°æ®ç»“æ„ä¸­çš„ä¸€äº›ä½æ—¶é—´å¤æ‚åº¦çš„å¸¸ç”¨æ¨¡æ¿oræ€è€ƒæ–¹å¼çš„æ€»ç»“ï¼Œokï¼Œä»Šå¤©å…ˆè¿›è¡Œçš„æ˜¯çº¿æ€§è¡¨ã€‚</p><h3 id="çº¿æ€§è¡¨">çº¿æ€§è¡¨</h3><p>å®šä¹‰ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> ElemType <span class="type">int</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">typedef</span> <span class="title">SeqList</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType  *data;  <span class="comment">// æŒ‰é“ç†è¿™é‡Œåº”è¯¥æœ‰å¾ˆå¤šå®ç°æ–¹æ³•ï¼Œæ¯”å¦‚ç›´æ¥ä¸Šä¸€ä¸ªæ•°ç»„ï¼Œé€šè¿‡å®å®šä¹‰æœ€å¤§æ•°ç»„é•¿åº¦</span></span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="type">int</span> capacity;</span><br><span class="line">&#125;SeqList;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> MAXSIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> ElemType <span class="type">int</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">typedef</span> <span class="title">SeqList</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType  data[MAXSIZE];</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">&#125;SeqList;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">init</span><span class="params">(SeqList *l)</span></span><br><span class="line">&#123;</span><br><span class="line">    l-&gt;length=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç§‰æ‰¿ç€ä¸ç»™è‡ªå·±æ‰¾éº»çƒ¦ï¼Œåè¾¹å°±ä¸ç”¨åŠ¨æ€åˆ†é…ç©ºé—´çš„ä»£ç äº†ï¼Œè™½ç„¶åœ¨æˆ‘åˆå­¦çš„æ—¶å€™è§‰å¾—åŠ¨æ€åˆ†é…çœŸçš„å¾ˆä¼˜é›…ï¼ˆèµ·ç ä¸æ€•çˆ†äº†ï¼‰</p><p>OKï¼Œç„¶åè¿…é€Ÿçš„è¿‡ä¸€ä¸‹åŸºæœ¬æ“ä½œä»¥åŠå…¶æ“ä½œçš„æµç¨‹ä»¥åŠå¼Šç«¯ï¼ˆæ‡’å¾—å†™äº†ï¼‰ï¼š</p><p><code>åˆ é™¤</code>ï¼šåˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œè¦å°†åè¾¹çš„å…ƒç´ éƒ½ç§»è¿‡æ¥ï¼Œå®é™…ä¸Šä¹Ÿå°±æ˜¯è¯´å¤æ‚åº¦æ˜¯O(n)</p><p><code>éå†</code>ï¼šè¿™ä¸å¿…å¤šè¯´ï¼Œè‡ªç„¶O(n)</p><p><code>éšæœºå­˜å–</code>ï¼šè¿™æ˜¯é¡ºåºè¡¨çš„å¼ºé¡¹</p><p><code>æ’å…¥</code>ï¼šå’Œåˆ é™¤å…¶å®ä¸€è‡´ï¼Œä½†æ˜¯è¦æ±‚åç§»åé¢çš„å…ƒç´ </p><p>ç„¶è€Œå¾ˆå¤šç®—æ³•é¢˜ä¼šé¢ è¦†ä½ å¯¹åŸºæœ¬æ“ä½œçš„è®¤è¯†ï¼Œä¹Ÿå°±æ˜¯ä¼šè®©ä½ ä¼˜åŒ–ä¸€ç§æ’å…¥æ“ä½œoråˆ é™¤æ“ä½œï¼Œä½¿ä¸€ä¸ªæœ¬æ¥æš´åŠ›è§£æ—¶é—´å¤æ‚åº¦ä¸ºO(n<sup>2</sup>)çš„ç®—æ³•ä¼˜åŒ–ä¸ºæ—¶é—´å¤æ‚åº¦ä¸ºO(n)çš„ç®—æ³•</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/e61190ef76c6a7ef54f88818eeaa655af2de6689.jpeg@f_auto"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>æˆ‘ä»¬å…ˆä¸¾ä¸ªä¾‹å­ï¼š</p><p><code>ç°åœ¨æœ‰ä¸€ä¸ªé¡ºåºè¡¨ï¼Œå…¶ä¸­æœ‰å…ƒç´ nä¸ªï¼Œç°åœ¨æˆ‘å¸Œæœ›åˆ é™¤å…¶ä¸­çš„æ‰€æœ‰å¶æ•°å…ƒç´ </code></p><p>æˆ‘ä»¬ä»ç›´è§‰ä¸Šå¾ˆå®¹æ˜“å†™å‡ºè¿™æ ·ä¸€ä¸ªä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">dele_even</span><span class="params">(SeqList *l)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (l==<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é¡ºåºè¡¨æœªåˆå§‹åŒ–&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; l-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (l-&gt;data[i]%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            delete(l,i); #æ—¶é—´å¤æ‚åº¦æ˜¯O(n)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•ç…ä¸€çœ¼ï¼Œå¾ˆæ˜æ˜¾å¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸ªO(n<sup>2</sup>)çš„æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œè¿™ä¸ªç®—æ³•å¯ä»¥è¢«ä¼˜åŒ–åˆ°O(n)ï¼Œè¿™å°±æ˜¯æŠ€å·§ä¸€ï¼šæœ‰æ•ˆçš„å¾ªç¯åˆå¹¶</p><h3 id="æŠ€å·§ä¸€æœ‰æ•ˆçš„å¾ªç¯åˆå¹¶">æŠ€å·§ä¸€ï¼šæœ‰æ•ˆçš„å¾ªç¯åˆå¹¶</h3><p>æˆ‘ä»¬å¯ä»¥åˆ†æä¸€ä¸‹åˆšæ‰åˆ é™¤çš„è¿‡ç¨‹ï¼Œå…¶å®æœ‰ä¸€äº›åŠ¨ä½œæ˜¯å¤šä½™çš„ï¼Œæˆ‘ä»¬å…¶å®æ²¡æœ‰å¿…è¦å»ç§»åŠ¨ä¸€ä¸ªå¯èƒ½ä¼šè¢«åˆ é™¤çš„å…ƒç´ ï¼šå½“æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå¶æ•°æ—¶ï¼Œå®é™…ä¸Šåè¾¹çš„å…ƒç´ ä¸­ä¾æ—§å¯èƒ½å­˜åœ¨å¶æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†è¿™äº›å¶æ•°ç§»åŠ¨åˆ°å‰é¢å°±æ˜¯ä¸€ä¸ªå¤šä½™çš„åŠ¨ä½œï¼Œå› ä¸ºä»¥åä¾æ—§è¦è¢«åˆ é™¤ï¼Œå…¶åè¾¹çš„å…ƒç´ ä»æ—§é¢ä¸´çš„å†ä¸€æ¬¡å¾ªç¯çš„å¢ƒåœ°ï¼Œå› æ­¤æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡æŸç§æ‰‹æ®µé¿å…æ— æ•ˆçš„éå†ç§»åŠ¨å‘¢ï¼Ÿ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">dele_even_good</span><span class="params">(SeqList *l)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (l==<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é¡ºåºè¡¨æœªåˆå§‹åŒ–&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> m=<span class="number">0</span>; <span class="comment">//ç”¨äºå­˜å‚¨æ‰¾åˆ°äº†å¤šå°‘å¶æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; l-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="keyword">if</span> (m!=<span class="number">0</span> &amp;&amp; i-m&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            l-&gt;data[i-m]=l-&gt;data[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (l-&gt;data[i]%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    l-&gt;length=l-&gt;length-m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé‡‡ç”¨äº†ä¸€è¾¹åˆ é™¤ä¸€è¾¹å¯»æ‰¾çš„æ–¹å¼ï¼Œå°†ä¸¤ä¸ªå¾ªç¯åˆå¹¶åˆ°äº†ä¸€èµ·ï¼Œä»è€Œæœ‰æ•ˆçš„é™ä½äº†æ—¶é—´å¤æ‚åº¦ã€‚è¿™ç§æ€æƒ³å¾ˆé€‚åˆäºä½¿ç”¨åœ¨å¤„ç†ä¸€äº›ä½ æƒ³æ— è„‘è°ƒAPIçš„æ—¶å€™çš„ä¼˜åŒ–ã€‚</p><h3id="æŠ€å·§äºŒä¸ºä»€ä¹ˆä¸è¯•è¯•å¤šæ¬¡å°±åœ°é€†ç½®å‘¢">æŠ€å·§äºŒï¼šä¸ºä»€ä¹ˆä¸è¯•è¯•å¤šæ¬¡å°±åœ°é€†ç½®å‘¢</h3><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå°±åœ°é€†ç½®æ˜¯å¤„ç†ä¸€äº›å¥‡å¥‡æ€ªæ€ªéœ€è¦ä¸€å¤§å †å¾ªç¯çš„é¢˜ç›®çš„åˆ©å™¨ï¼Œæ¯”å¦‚äº’æ¢ä¸¤å—é¡ºåºè¡¨çš„ä½ç½®ï¼š</p><p>æœ‰ä¸€ä¸ªæ•°ç»„A[m+n]ï¼Œè¦æ±‚å°†è¿™å‰mä¸ªå…ƒç´ å’Œånä¸ªå…ƒç´ å‰åäº’æ¢é‚£ä¹ˆå°±åœ°é€†ç½®å°±å¾ˆæœ‰ç”¨äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ•´ä½“ä¸€æ¬¡ï¼Œå†å±€éƒ¨ä¸¤æ¬¡ï¼š</p><p><code>ï¼ˆ1,2,3,â€¦â€¦,m,m+1,â€¦â€¦,m+nï¼‰</code></p><p>ç¬¬ä¸€æ¬¡å°±åœ°é€†ç½®ï¼š<code>ï¼ˆm+n,â€¦â€¦,m+1,m,â€¦â€¦,3,2,1ï¼‰</code></p><p>ç¬¬äºŒæ¬¡å±€éƒ¨é€†ç½®ï¼š<code>ï¼ˆm+1,â€¦â€¦,m+n,m,â€¦â€¦,3,2,1ï¼‰</code></p><p>ç¬¬ä¸‰æ¬¡å±€éƒ¨é€†ç½®ï¼š<code>ï¼ˆm+1,â€¦â€¦,m+n,1,2,3,â€¦â€¦,mï¼‰</code></p><p>æ¼‚äº®ï¼</p><h3id="æŠ€å·§ä¸‰ç©ºé—´æ¢æ—¶é—´éšæœºå­˜å–ä¹‹å…‰">æŠ€å·§ä¸‰ï¼šç©ºé—´æ¢æ—¶é—´ï¼Œéšæœºå­˜å–ä¹‹å…‰</h3><p>éšæœºå­˜å–å°±æ˜¯ä¸€ä¸ªå¾ˆçˆ½çš„æ€§è´¨ï¼Œè¿™æ„å‘³ç€åªè¦æˆ‘ä»¬æ‰¾åˆ°äº†å…ƒç´ çš„indexå°±å¯ä»¥è¿…é€Ÿçš„é”å®šå…ƒç´ ï¼Œæ¯”å¦‚ç°åœ¨éœ€è¦ç»™ä¸€ä¸ªé¡ºåºå‰”é™¤é‡å¤å…ƒç´ ï¼Œé‚£ä¹ˆæˆ‘æ€ä¹ˆçŸ¥é“å…ƒç´ é‡å¤äº†å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å†æ¥ä¸€ä¸ªé¡ºåºè¡¨é€šè¿‡å“ˆå¸Œçš„æ–¹å¼å¾—åˆ°ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><p>å‡å¦‚æˆ‘ä»¬æ‰«æåˆ°äº†ä¸€ä¸ªå…ƒç´ 3ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†hash[3]=1ï¼ˆå³æ–°åˆ›å»ºçš„é¡ºåºè¡¨ï¼‰çš„ä½ç½®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æ¯æ‰«æåˆ°ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œåªéœ€è¦å…¶æ¯”è¾ƒhash[data]æ˜¯å¦å€¼ä¸º1ï¼Œå¦‚æœä¸º1é‚£ä¹ˆå°±é‡å¤äº†ï¼Œå†å»æ‰§è¡Œæˆ‘ä»¬å‰é¢åšå¥½çš„åˆ é™¤ç®—æ³•å³å¯ã€‚</p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>è¿˜æœ‰ä¸€äº›é¡ºåºè¡¨çš„ç®—æ³•é¢˜ç›®ï¼Œå°±æ¯”è¾ƒæ²¡è§„å¾‹äº†ï¼Œéœ€è¦é€šè¿‡ç”»å›¾ï¼Œæ‰‹åŠ¨è¿ç®—ä¸€ä¸‹ï¼Œæ¥æ‰¾ä¸€ä¸‹å…¶ä¸­çš„è§„å¾‹ï¼Œå—¯ï¼Œè¿™äº›åº”ä»˜æ™®é€šè€ƒè¯•å·²ç»å¤Ÿäº†ï¼Œå‰©ä¸‹ç­‰æˆ‘åˆ·åˆ·Leecodeå†è¡Œæ€»ç»“ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Cè¯­è¨€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day4</title>
      <link href="/2024/01/12/%E6%90%93OS-day4/"/>
      <url>/2024/01/12/%E6%90%93OS-day4/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day4">æ‰‹æ“OS-day4</h2><p>ä»Šå¤©æ‰æ˜¯çœŸçœŸçš„æ“ä½œç³»ç»Ÿçš„éƒ¨åˆ†ï¼Œå¹¶å‘æ§åˆ¶ï¼Œä»Šå¤©è¦å­¦ä¹ çš„æ˜¯å¤šçº¿ç¨‹ç¼–ç¨‹åº“ï¼ˆæ²¡æ€ä¹ˆçœ‹ï¼Œå°‘æ›´ï¼‰ã€‚</p><h3 id="å¤ä¹ è¿›ç¨‹ä¸çº¿ç¨‹">å¤ä¹ ï¼šè¿›ç¨‹ä¸çº¿ç¨‹</h3><p><code>è¿›ç¨‹</code>ï¼šè¿è¡Œçš„ä¸€ä¸ªç¨‹åºä»¥åŠå…¶å·²ç»åœ¨è®¡ç®—æœºä¸­çš„æ‰€æ‹¥æœ‰çš„èµ„æºçš„å’Œï¼ˆç†è§£å‹è¯´æ³•ï¼Œå¹¶ä¸å‡†ç¡®ï¼‰ï¼Œè¿›ç¨‹æ˜¯<code>èµ„æºåˆ†é…</code>çš„åŸºæœ¬å•ä½ã€‚PCBç”¨äºæ ‡å¿—è¿›ç¨‹çš„å­˜åœ¨ã€‚æ­¤å¤–å…³äºè¿›ç¨‹è¿˜å­˜åœ¨<code>è¿›ç¨‹é—´é€šä¿¡é—®é¢˜</code>,<code>è¿›ç¨‹ç‰¹æ€§</code>ï¼Œ<code>è¿›ç¨‹åˆ‡æ¢</code>ç­‰é—®é¢˜ã€‚</p><p>å°±æˆ‘ä¸ªäººç†è§£ä¸ºä½•è¦å¼•å…¥è¿›ç¨‹æ¦‚å¿µï¼Œæ˜¯ä¸ºäº†ç®¡ç†èµ„æºåˆ†é…çš„é—®é¢˜ï¼Œä¸åªæ˜¯ç©ºé—´èµ„æºè¿˜æœ‰è®¡ç®—èµ„æºï¼Œå› ä¸ºè®¡ç®—æœºçš„èµ„æºæ˜¯ç´§ä¿çš„ï¼ˆå½“ç„¶ä¹Ÿæœ‰æœºåˆ¶é™åˆ¶ï¼‰ï¼Œå¹¶ä¸èƒ½æ»¡è¶³æ‰€æœ‰çš„æ‰€æœ‰çš„ç¨‹åº<code>åŒæ—¶</code>è¿è¡Œï¼ˆå½“ç„¶è¿™é‡Œé™åˆ¶åœ¨å•æ ¸å¤„ç†å™¨ï¼‰ã€‚ä½†æ˜¯ç”±äºåº”ç”¨æœ‰è¦æ±‚ï¼Œéœ€è¦å‘å±•å‡ºèƒ½åœ¨äººéš¾ä»¥æ„ŸçŸ¥çš„æƒ…å†µä¸‹â€åŒæ—¶â€œè¿è¡Œï¼ˆå¹¶å‘ï¼‰ï¼Œè€Œè¿›ç¨‹æ°å¥½é€šè¿‡æŠŠèµ„æºä¸ç¨‹åºè¿›è¡Œè€¦åˆï¼ˆä¸çŸ¥é“ç”¨è¯å¥½ä¸å¥½ï¼Œç±»ä¼¼ä¸€ä¸ªæ­ç§¯æœ¨çš„æ„Ÿè§‰ï¼‰æ—¢ä¿æŠ¤äº†ç¨‹åºçŠ¶æ€ï¼Œåˆå®ç°äº†ç¨‹åºè¿è¡Œçš„åˆ‡æ¢ã€‚</p><p>å½“äººä»¬çº¿ç¨‹ç”¨å‡ºæ¥äº†ç”œå¤´ï¼Œæƒ³è¦è¿›ä¸€æ­¥æ¦¨å¹²è®¡ç®—æœºèµ„æºï¼ˆbushiï¼‰ï¼Œç„¶åå°±æœ‰äº†çº¿ç¨‹ï¼Œçº¿ç¨‹å°±æ˜¯æ¦¨å¹²è®¡ç®—èµ„æºçš„ï¼ˆï¼‰ï¼Œä½†æ˜¯çº¿ç¨‹å¹¶ä¸æ˜¯èµ„æºåˆ†é…çš„å•ä½ã€‚</p><h3 id="å¤šçº¿ç¨‹ç¼–ç¨‹">å¤šçº¿ç¨‹ç¼–ç¨‹</h3><p>è²Œä¼¼å¹¶ä¸éš¾</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;thread.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Thello</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, <span class="string">&quot;_ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>[id]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    create(Thello);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ˆå¥½ç©ï¼Œä½¿å‘½ä»¤è¡Œçˆ†ç‚¸ã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240112211838011.png"alt="image-20240112211838011" /><figcaption aria-hidden="true">image-20240112211838011</figcaption></figure><p>è¿™ä¸‹å¾ˆæœ‰å¹¶å‘çš„é­…åŠ›ï¼ˆä¸æ˜¯ï¼‰ï¼Œä½†æ˜¯è”ç³»åº•å±‚è®©äººåèƒŒå‘å‡‰ï¼Œç»†ä¸€æƒ³è²Œä¼¼ä¹Ÿæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„</p><p><code>â€œå¤„ç†å™¨ä¸€æ¬¡æ‰§è¡Œä¸€æ¡æŒ‡ä»¤â€ çš„åŸºæœ¬å‡è®¾åœ¨ä»Šå¤©çš„è®¡ç®—æœºç³»ç»Ÿä¸Šä¸å†æˆç«‹</code>ï¼Œè™½ç„¶ä½†æ˜¯è¿™æ˜¯ä¸éš¾ç†è§£çš„ï¼Œä¸¤æ¡ç¨‹åºç”±äºå¹¶å‘orå¹¶è¡Œå¾ˆå¯èƒ½ä¼šå‡ºç°å…±äº«åŒºçš„å˜é‡å‡ºç°é—®é¢˜</p><p>åé¢çš„æ•…äº‹ï¼Œè¿˜æ˜¯è¯»å‚è€ƒé“¾æ¥å§ï¼Œå¦‚æœæœ‰æ“ä½œç³»ç»ŸåŸºç¡€çš„åŒå­¦ä¸€å®šæ˜ç™½ï¼Œè¿›ç¨‹åŒæ­¥äº’æ–¥çš„é—®é¢˜éƒ½æ˜¯ä»è¿™é‡Œè¡ç”Ÿå‡ºæ¥çš„ã€‚</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><a href="https://jyywiki.cn/OS/2023/build/lect5.ipynb.html">5.å¤šå¤„ç†å™¨ç¼–ç¨‹ï¼šä»å…¥é—¨åˆ°æ”¾å¼ƒ (jyywiki.cn)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day3</title>
      <link href="/2024/01/10/%E6%90%93OS-day3/"/>
      <url>/2024/01/10/%E6%90%93OS-day3/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day3">æ‰‹æ“OS-day3</h2><p>æŒºè¿‡äº†æ˜¨å¤©çš„æŠ½ï¼ˆç¡¬ï¼‰è±¡ï¼ˆä»¶ï¼‰ç©æ„ï¼Œä»Šå¤©ç»ˆäºè¦è¿æ¥ç¾ä¸½çš„å®æˆ˜äº†ï¼ˆ<del>å¾ˆèƒ½ç»·çš„ä½</del>ï¼‰ï¼Œä¸‹é¢æˆ‘ä»¬è¦è¿æ¥å¤§é‡çš„æ“ä½œç³»ç»Ÿæ¦‚å¿µï¼Œè™½ç„¶ä¿ºå¯èƒ½æè¿°ä¸æ¸…æ¥šï¼Œä½†æ˜¯æˆ‘ç›¸ä¿¡ä»£ç çš„åŠ›é‡ï¼Œä»ç°åœ¨è¦æŒ‘æˆ˜ç¼–ç¨‹èƒ½åŠ›æƒ¹ã€‚æˆ‘å°½å¯èƒ½æ‹†å¼€ä»£ç è®°å½•æˆ‘çš„ç¼–ç¨‹å¿ƒè·¯ï¼ˆ<u><strong>é˜¿é—¨</strong></u>worshipï¼‰</p><h3 id="æ¶æ„">æ¶æ„</h3><p>è¿™é‡Œè€å¸ˆé‡‡ç”¨äº†ä¸€ä¸ªåˆ†å±‚çš„æ–¹å¼è®¾è®¡çš„æ¶æ„ï¼Œåœ¨ç¡¬ä»¶ä¸Šé€šè¿‡ä¸€ä¸ªAbstractMachineæŠ½è±¡å‡ºäº†éƒ¨åˆ†APIï¼Œè¿™å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå°±ç±»ä¼¼ä¸€ä¸ªè™šæ‹Ÿå¹³å°ï¼Œå¯¹è·¨ç¡¬ä»¶æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œæ˜¾ç„¶Abstractçš„å¾ˆå¤šæ±‡ç¼–æˆ‘æ˜¯ä¸ä¼šå†™çš„ï¼Œä½†æ˜¯è€å¸ˆå¸®å¿™æ­å»ºå¥½äº†ï¼ˆæ„Ÿæ©ï¼‰</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240111095855963.png"alt="ç®€å•æ¶æ„" /><figcaption aria-hidden="true">ç®€å•æ¶æ„</figcaption></figure><p>æ“ä¸åŠ¨äº†ï¼Œå…ˆæ”¾ä¸€æ”¾ï¼Œç ”ç©¶ä¸€ä¸‹è®¾å¤‡æ— å…³ç¼–ç¨‹ï¼ˆèœï¼Œå“­ï¼‰</p><h3 id="æ–­è¨€çš„é‡è¦æ€§">æ–­è¨€çš„é‡è¦æ€§</h3><p>è¿™ä¸ªå’Œæˆ‘ä»¬åœ¨JAVAä¸­æ¥è§¦è¿‡çš„å•å…ƒæµ‹è¯•æœ‰äº›ç›¸ä¼¼ï¼Œè¯´ä»–é‡è¦ä½“ç°åœ¨å¿«é€Ÿå®šä½é”™è¯¯ï¼ˆä¸æ˜¯è¿è¡Œé”™è¯¯ï¼‰çš„é‡è¦æ€§ä¸Š</p><p>æ–­è¨€åŸºæœ¬ç”¨æ³•ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;assert.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">assert(<span class="type">bool</span> exppression) <span class="comment">//æ˜¾ç„¶è¿™é‡Œä¼ å…¥ä¸€ä¸ªboolé‡ï¼Œä½†æƒ³èµ·intä¸­0å’Œé0åˆ†åˆ«ä»£è¡¨falseå’Œtrue</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯ï¼š</p><ol type="1"><li><p>åœ¨å‡½æ•°å…¥å£åšåˆæ³•æ€§æ£€æŸ¥</p></li><li><p>å°†<code>assert(0)</code>æ”¾åœ¨ç»å¯¹ä¸ä¼šå‡ºç°çš„åœ°æ–¹</p></li><li><p>æ”¾åœ¨éœ€è¦ä¸€äº›æ¡ä»¶å¿…é¡»æ»¡è¶³çš„åœ°æ–¹</p></li></ol><p>ä½¿ç”¨åŸåˆ™ï¼š</p><ol type="1"><li>ä¸€ä¸ªæ–­è¨€æ£€æŸ¥ä¸€ä¸ªæ¡ä»¶</li><li>æ–­è¨€ä¸èƒ½ä»£æ›¿<code>if else</code></li><li>å¯ä»¥ç”¨å¼€å…³æ¡ä»¶ç¼–è¯‘æ‰“å¼€æˆ–å…³é—­æ–­è¨€ï¼Œä¸€èˆ¬debugæ¨¡å¼æ‰“å¼€è€Œåœ¨releaseæ¨¡å¼ä¸‹å…³é—­ã€‚</li></ol><h3 id="linuxä¸­procæ–‡ä»¶ä¸­çš„è¿›ç¨‹">Linuxä¸­procæ–‡ä»¶ä¸­çš„è¿›ç¨‹</h3><h4 id="cè¯­è¨€æ–‡ä»¶æ“ä½œ">Cè¯­è¨€æ–‡ä»¶æ“ä½œ</h4><p>ç”¨ä¸€ä¸ª<code>FILE*</code>çš„ä¸€ä¸ªæŒ‡é’ˆæ¥æŒ‡å®šä¸€ä¸ª<code>FILE</code>æ ¼å¼çš„ç»“æ„ä½“ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FILE *fp;</span><br></pre></td></tr></table></figure><h5 id="æ‰“å¼€å’Œå…³é—­">æ‰“å¼€å’Œå…³é—­</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FILE *<span class="title function_">fopen</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *filename,<span class="type">const</span> <span class="type">char</span> *model)</span>;</span><br><span class="line"><span class="comment">// æ–‡ä»¶åå’Œæ‰“å¼€å‚æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fclose</span><span class="params">(FILE *stream)</span>;</span><br><span class="line"><span class="comment">// ä¼ å…¥æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//æ‰“å¼€åä¸ºtest.txtçš„æ–‡ä»¶ï¼Œæ‰“å¼€æ–¹å¼wä¸ºåªè¯»</span></span><br><span class="line">FILE* pf = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;w&quot;</span>);  <span class="comment">//æ¥æ”¶è¿”å›çš„æ–‡ä»¶ä¿¡æ¯åŒºæŒ‡é’ˆ (å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º)</span></span><br><span class="line"><span class="comment">//å¦‚æœæ–‡ä»¶æ‰“å¼€å¤±è´¥ï¼ˆä¾‹å¦‚æ–‡ä»¶ä¸å­˜åœ¨ï¼‰ï¼Œä¼šè¿”å›NULL</span></span><br><span class="line"><span class="keyword">if</span> (pf == <span class="literal">NULL</span>) &#123;</span><br><span class="line">perror(<span class="string">&quot;fopen\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å…³é—­æ–‡ä»¶</span></span><br><span class="line">fclose(pf);</span><br><span class="line"><span class="comment">//è¿˜éœ€è¦å°†æŒ‡é’ˆç½®ç©º</span></span><br><span class="line">pf = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ–‡ä»¶é¡ºåºè¯»å†™">æ–‡ä»¶é¡ºåºè¯»å†™</h5><p>å­—ç¬¦è¾“å…¥</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fgetc(<span class="string">&#x27;A&#x27;</span>,pf);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>;i++)&#123;</span><br><span class="line">    fputc(<span class="string">&#x27;a&#x27;</span>+i,pf);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­—ç¬¦è¾“å‡ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ch=fgetc(pf);</span><br></pre></td></tr></table></figure><p>æŒ‰è¡Œå†™å…¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fputs</span>(<span class="string">&quot;hello\n&quot;</span>,pf)</span><br></pre></td></tr></table></figure><p>æŒ‰è¡Œè¯»å–ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *arr;</span><br><span class="line">fgets(arr,<span class="number">5</span>,pf);</span><br></pre></td></tr></table></figure><p>æ ¼å¼åŒ–è¾“å…¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fprintf</span>(pf,<span class="string">&quot;%s %d %f&quot;</span>,s.name,s.age,s.height)ï¼›</span><br></pre></td></tr></table></figure><p>æ ¼å¼åŒ–è¯»å…¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fscanf</span>(pf,<span class="string">&quot;%s %d %f&quot;</span>,s.name,&amp;(s.age),&amp;(s.height));</span><br></pre></td></tr></table></figure><h4 id="linux-procè¿›ç¨‹æ–‡ä»¶å«ä¹‰">Linux Procè¿›ç¨‹æ–‡ä»¶å«ä¹‰</h4><ul><li>commï¼šè¿›ç¨‹å</li><li>cwdï¼šå½“å‰å·¥ä½œç›®å½•ï¼Œæ˜¯ä¸ªè½¯é“¾æ¥ï¼ŒæŒ‡å‘å®é™…çš„è·¯å¾„</li><li>environï¼šç¯å¢ƒå˜é‡</li><li>exeï¼šè¿›ç¨‹å¯åŠ¨çš„äºŒè¿›åˆ¶ï¼Œä¹Ÿæ˜¯ä¸ªè½¯é“¾æ¥ï¼ŒæŒ‡å‘å®é™…çš„æ–‡ä»¶è·¯å¾„</li><li>fdï¼šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œæ¯ä¸ªæè¿°ç¬¦ä¹Ÿæ˜¯ä¸ªè½¯é“¾æ¥ï¼ŒæŒ‡å‘æ‰“å¼€çš„æ–‡ä»¶ï¼Œå¦‚æœæ¶‰åŠåˆ°socketï¼Œåˆ™ä¼šæ˜¾ç¤ºsocketçš„inodeå·fdinfo/ï¼šè¿›ç¨‹æ‰“å¼€æ–‡ä»¶æ—¶çš„ä¸€äº›å±æ€§</li><li>rootï¼šæ ¹è·¯å¾„</li><li>statï¼šè¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…æ‹¬ppidã€è¿›ç¨‹åã€è¿›ç¨‹å¯åŠ¨æ—¶é—´ç­‰ï¼ˆè¿™ä¸ªæ˜¯æœ‰ç”¨çš„ï¼‰</li><li>statusï¼šè¿›ç¨‹çš„ä¸€äº›å‚æ•°ä¿¡æ¯ï¼ŒåŒ…æ‹¬uidã€gidã€è™šæ‹Ÿå†…å­˜ã€capabilityç­‰</li><li>task/ï¼šè¿›ç¨‹çš„å­çº¿ç¨‹ï¼Œæ¯ä¸ªå­ç›®å½•å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹çš„ä¿¡æ¯</li></ul><p>å…¶ä½™è§ä¸‹é“¾æ¥</p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>å—¯ï¼Œä»Šå¤©ç¼–ç¨‹çš„éš¾åº¦æœ‰ç‚¹å¤§ï¼Œå¯¼è‡´æ€»ç»“éš¾äº§ï¼Œä¸»è¦çœ‹çš„å†…å®¹ä¹Ÿåœ¨å‚è€ƒé“¾æ¥é‡Œè´´å‡ºæ¥äº†ï¼ŒCè¯­è¨€å¥½éš¾ï¼ˆæˆ‘å¥½èœï¼‰ï¼Œ<del>æ˜å¤©é¢„å‘Šmaybeæ›´éš¾äº§</del></p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><ahref="https://zhuanlan.zhihu.com/p/619966043?utm_id=0">Linuxå†…æ ¸ï¼šè¿›ç¨‹ç®¡ç†â€”â€”è¿›ç¨‹æ–‡ä»¶ç³»ç»Ÿ/procè¯¦è§£ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://jyywiki.cn/OS/2023/labs/M1.html">M1: æ‰“å°è¿›ç¨‹æ ‘(pstree) (jyywiki.cn)</a></p><p><ahref="https://blog.csdn.net/RongLin02/article/details/116244719">Linuxå­¦ä¹ ä¹‹æ‰“å°è¿›ç¨‹æ ‘_åˆ©ç”¨/procè¿›è¡Œè¿›ç¨‹æ ‘çš„æ‰“å°-CSDNåšå®¢</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day2</title>
      <link href="/2024/01/10/%E6%90%93OS-day2/"/>
      <url>/2024/01/10/%E6%90%93OS-day2/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day2">æ‰‹æ“OS-day2</h2><p>ä»Šå¤©çœ‹çš„ä¸œè¥¿å…¨éƒ½å›´ç»•è¿™ä¸¤ä¸ªCè¯­è¨€ä»£ç å±•å¼€</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// say.c</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">putch</span><span class="params">(<span class="type">char</span> ch)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">putchar</span><span class="params">(<span class="type">int</span> ch)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">say</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (; *s; s++) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __ARCH__</span></span><br><span class="line">    putch(*s); <span class="comment">// AbstractMachineï¼Œæ²¡æœ‰ libcï¼Œè°ƒç”¨ TRM API æ‰“å°å­—ç¬¦</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">putchar</span>(*s); <span class="comment">// æ“ä½œç³»ç»Ÿï¼Œè°ƒç”¨ libc æ‰“å°å­—ç¬¦</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.c</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">say</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  say(<span class="string">&quot;hello\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ“ä½œç³»ç»Ÿä¸Šçš„cç¨‹åº">æ“ä½œç³»ç»Ÿä¸Šçš„Cç¨‹åº</h3><h4 id="ç¼–è¯‘è¿‡ç¨‹çš„ä¸€äº›å‚æ•°å«ä¹‰">ç¼–è¯‘è¿‡ç¨‹çš„ä¸€äº›å‚æ•°å«ä¹‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gcc -c -O2 -o main.o main.c</span><br><span class="line">gcc -c -O2 -o say.o say.c</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-c è¡¨ç¤ºç”Ÿæˆç›®æ ‡æ–‡ä»¶è€Œä¸è¿›è¡Œé“¾æ¥</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-O2 è¡¨ç¤ºä½¿ç”¨ä¼˜åŒ–çº§åˆ«ä¸ºO2</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-o main.o è¡¨ç¤ºç”Ÿæˆçš„æŒ‡å®šæ–‡ä»¶çš„åç§°ä¸ºmain.o</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file say.o main.o</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç”¨äºæŸ¥çœ‹ç›®æ ‡æ–‡ä»¶ç±»å‹</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">say.o:  ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), not stripped</span><br><span class="line">main.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), not stripped</span><br></pre></td></tr></table></figure><p>è¡¨æ˜ä¸¤ä¸ªæ–‡ä»¶éƒ½æ˜¯64ä½çš„ELFæ ¼å¼å¯é‡å®šä½æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">objdump -d main.o</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">objdump GNUå·¥å…·ï¼Œç”¨äºæ˜¾ç¤ºäºŒè¿›åˆ¶æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d è¡¨ç¤ºæ˜¾ç¤ºç›®æ ‡æ–‡ä»¶çš„æ±‡ç¼–ä»£ç ï¼ˆåç¼–è¯‘ï¼‰</span></span><br></pre></td></tr></table></figure><p>æ±‡ç¼–ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0000000000000000 &lt;main&gt;:</span><br><span class="line">   0:   f3 0f 1e fa             endbr64 </span><br><span class="line">   4:   48 83 ec 08             sub    $0x8,%rsp</span><br><span class="line">   8:   48 8d 3d 00 00 00 00    lea    0x0(%rip),%rdi        # f &lt;main+0xf&gt;</span><br><span class="line">   f:   e8 00 00 00 00          call   14 &lt;main+0x14&gt;</span><br><span class="line">  14:   31 c0                   xor    %eax,%eax</span><br><span class="line">  16:   48 83 c4 08             add    $0x8,%rsp</span><br><span class="line">  1a:   c3                      ret    </span><br></pre></td></tr></table></figure><p>å‘ç°åœ°å€æ˜¯ä»0å¼€å§‹çš„ï¼ˆ<del>æ­»å»çš„ç»„æˆåŸç†å¼€å§‹è¢­å‡»æˆ‘</del>ï¼‰ï¼Œå¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸€ä¸ªCISCæŒ‡ä»¤é›†ï¼Œé‡‡ç”¨å°ç«¯å­˜å‚¨ï¼Œç³»ç»Ÿåœ°å€æŒ‰å­—èŠ‚ç¼–å€ï¼Œ<code>call</code>æŒ‡ä»¤å¯¹åº”æœºå™¨ç ä¸ºï¼š<code>0xe8H</code>ï¼Œå¯ä»¥çœ‹è§åç§»é‡ç°åœ¨æ˜¯0ï¼Œå› ä¸ºå¹¶ä¸çŸ¥é“ä»å“ªå„¿è°ƒç”¨</p><p><code>lea</code>æ˜¯è·å–è°ƒç”¨sayå‚æ•°çš„æŒ‡ä»¤</p><h4 id="é“¾æ¥">é“¾æ¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc main.o say.o</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./a.out</span> </span><br><span class="line">hello</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¸èƒ½ç›´æ¥ç”¨<code>ld</code>è¿›è¡Œé“¾æ¥ï¼Œè¿™å…¶å®å¯ä»¥ç†è§£çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰å¯¹<code>putchar</code>åšä»»ä½•å®šä¹‰ã€‚è€ŒçœŸæ­£çš„é“¾æ¥æµç¨‹ä¸ä¸‹é¢çš„åŠ è½½æµç¨‹çš„2ä¸­çš„ç»†èŠ‚å…¶å®æ˜¯å®Œå…¨å¯¹åº”çš„ï¼ˆè¿™ä¹Ÿä¸éš¾ç†è§£ï¼Œé“¾æ¥å¥½ååŠ è½½åˆ°å†…å­˜æ˜¯å¾ˆåˆç†çš„å§ï¼‰</p><p>åŒç†è¿™é‡Œä¹Ÿå¯ç”¨ä½¿ç”¨<code>objdump</code>æ¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">objdump -d a.out</span></span><br></pre></td></tr></table></figure><h4 id="åŠ è½½">åŠ è½½</h4><p>æµç¨‹ï¼š</p><ol type="1"><li>Shellæ¥å—å‘½ä»¤åä½¿ç”¨<code>fork()</code>åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹</li><li>åœ¨å­è¿›ç¨‹ä¸­ä½¿ç”¨<code>execve()</code>åŠ è½½<code>a.out</code>ï¼Œåœ¨è¿™é‡Œåšå‡ºå¿…è¦çš„å†…å­˜æ˜ å°„ï¼š</li></ol><p>â€‹ â‘  æ‰§è¡ŒåŠ¨æ€é“¾æ¥åº“</p><p>â€‹ â‘¡è·³è½¬åˆ°<code>a.out</code>çš„<code>_start</code>è¿è¡Œï¼Œåˆå§‹åŒ–Cè¯­è¨€è¿è¡Œç¯å¢ƒ</p><p>â€‹ â‘¢ æ‰§è¡Œ<code>main</code></p><ol start="3" type="1"><li>å¦‚éœ€è¦è¾“å…¥è¾“å‡ºä¼šä½¿ç”¨ç‰¹æ®ŠæŒ‡ä»¤è¿›è¡Œç³»ç»Ÿè°ƒç”¨</li></ol><p><u><strong>è¡¥æ¼</strong></u>ï¼š</p><p>gdbæŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(gdb) starti #è¿è¡Œåˆ°ç¬¬ä¸€æ¡æŒ‡ä»¤ä¾¿åœæ­¢</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt f  # backtrace full æ‰“å°å †æ ˆä¿¡æ¯</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(gdb)info inferiors # æ‰“å°çº¿ç¨‹/è¿›ç¨‹ä¿¡æ¯</span><br></pre></td></tr></table></figure><p>LinuxæŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!cat /proc/&#123;PID&#125;/maps #æ‰“å°è¿›ç¨‹å†…å­˜ä¿¡æ¯</span><br></pre></td></tr></table></figure><p>å…·ä½“æµç¨‹æˆ‘ä¹Ÿæ²¡çœ‹æ‡‚ï¼Œåè¾¹çœ‹æ‡‚äº†å†è¡¥</p><h3 id="bare-metalä¸Šçš„cç¨‹åº">Bare-Metalä¸Šçš„Cç¨‹åº</h3><p>Bare-Metalå°±æ˜¯ä¸€å—çº¯é“ï¼ˆbushiï¼‰ï¼Œå°±æ˜¯ç±»ä¼¼ä¸€ä¸ªæ²¡æœ‰</p><p>æ“ä½œç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼ˆæˆ‘å…ˆè¿™ä¹ˆç†è§£ï¼‰ï¼Œç»­ï¼šé€šå¸¸ç”¨æ¥æè¿°åœ¨æ²¡æœ‰æ“ä½œç³»ç»Ÿæˆ–è½¯ä»¶å±‚çš„æ”¯æŒçš„æƒ…å†µä¸‹è¿è¡Œçš„è®¡ç®—æœºç³»ç»Ÿï¼ˆchatGPTå¦‚æ˜¯è¯´ï¼‰ã€‚</p><p><del>å”‰ï¼Œè¿˜æ˜¯è¦å†™Makefile</del></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NAME := hello</span><br><span class="line">SRCS := main.c say.c</span><br><span class="line"><span class="keyword">include</span> <span class="variable">$(AM_HOME)</span>/Makefile.app</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -nB ARCH=x86_64-qemu</span><br></pre></td></tr></table></figure><h4 id="ç¼–è¯‘">ç¼–è¯‘</h4><p>åœ¨ä¹‹å‰Cè¯­è¨€çš„éƒ¨åˆ†ä¸Šç ”ç©¶è¿‡ï¼Œç¼–è¯‘å°±æ˜¯å¯¹.cæ–‡ä»¶ç¿»è¯‘ä¸ºå¯é‡å®šä½çš„ï¼ˆrelocatabelï¼‰çš„äºŒè¿›åˆ¶ç›®æ ‡æ–‡ä»¶ï¼ˆ.oï¼‰ã€‚æ²¡æœ‰æ“ä½œç³»ç»Ÿæ„å‘³ç€æ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨éƒ½æ˜¯ä¸æˆç«‹çš„ï¼Œæ‰€ä»¥æ²¡å•¥å¤ªå¤§åŒºåˆ«ï¼ˆï¼‰ã€‚éœ€è¦åŠ ä¸€ä¸ªå‚æ•°ã€‚</p><h4 id="é“¾æ¥-1">é“¾æ¥</h4><p>é“¾æ¥å‘½ä»¤ï¼ˆ<del>çœ‹ç€å“äºº</del>ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ld -melf_x86_64 -N -Ttext-segment=0x00100000 -o build/hello-x86_64-qemu.o \</span><br><span class="line">  main.o say.o am-x86_64-qemu.a klib-x86_64-qemu.a</span><br></pre></td></tr></table></figure><p><code>-melf_x86_64</code>ï¼šæŒ‡å®šé“¾æ¥ä¸º<code>x86_64 ELF</code>æ ¼å¼</p><p><code>-N</code>ï¼šæ²¡çœ‹æ‡‚ï¼ˆï¼‰</p><p><code>-Ttext-segment=0x00100000</code>ï¼šè®¾ç½®åŠ è½½åœ°å€</p><p>åè¾¹ç»™å‡ºäº†è¦é“¾æ¥çš„æ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯<code>main.o</code>,<code>say.o</code>å’Œå¿…è¦çš„åº“å‡½æ•°ï¼ˆAbstractMachineå’Œklibï¼‰</p><p>æ€»ç»“ä¸€ä¸‹ï¼Œè¿™ä¸ªé“¾æ¥åçš„æ–‡ä»¶å¹¶ä¸èƒ½ç›´æ¥åœ¨æ“ä½œç³»ç»Ÿä¸Šæ­£å¸¸è¿è¡Œï¼ˆä¸èƒ½ä¸èƒ½è·‘ï¼Œè€Œæ˜¯ä¼šæŠ¥é”™ï¼‰ï¼ŒåŸå› åœ¨äºä¼šéæ³•è®¿é—®ï¼Œéœ€è¦åœ¨bare-mentalä¸Šè¿è¡Œï¼Œè¦åˆ›å»ºä¸€ä¸ªé•œåƒæ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">( cat abstract-machine/am/src/x86/qemu/boot/mbr \</span><br><span class="line">  head -c 1024 /dev/zero \</span><br><span class="line">  cat build/hello-x86_64-qemu.o ) \</span><br><span class="line"><span class="meta prompt_">  &gt; </span><span class="language-bash">/tmp/hello/build/hello-x86_64-qemu</span></span><br></pre></td></tr></table></figure><p>é•œåƒç”±ä¸€ä¸ª512å­—èŠ‚çš„MBRï¼ˆä¸»å¼•å¯¼è®°å½•ï¼‰ï¼Œ1024å­—èŠ‚çš„ç©ºæ–‡ä»¶å’Œhello-x86_64-qemu.oç»„æˆ</p><p>è¿™é‡Œæä¸€ä¸‹qemuçš„å«ä¹‰ï¼šQUEMï¼ˆQuickEmulatorï¼‰æ˜¯ä¸€æ¬¾å¼€æºçš„æ¨¡æ‹Ÿå™¨å’Œè™šæ‹Ÿæœºç›‘è§†å™¨ï¼Œæ”¯æŒæ¨¡æ‹Ÿå¤šç§ä½“ç³»ç»“æ„ï¼ˆåŒ…æ‹¬x86ã€ARMã€MIPS ç­‰ï¼‰ä»¥åŠåœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚</p><p>å¯åŠ¨qemuçš„æ–¹å¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">qemu-system-x86_64 -hda your_disk_image.img </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åé¢æŸä¸ªç£ç›˜æ˜ åƒ</span></span><br></pre></td></tr></table></figure><h4 id="åŠ è½½-1">åŠ è½½</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">qemu-system-x86_64 -S -s -serial none -nographic hello-x86_64-qemu</span></span><br></pre></td></tr></table></figure><p>è¿™ä¹Ÿæ˜¯åœ¨å¯åŠ¨é•œåƒæ–‡ä»¶ï¼Œå…¶ä¸­åŠ äº†ä¸å°‘å‚æ•°ï¼Œå…·ä½“å«ä¹‰ï¼š</p><p><code>-S</code>ï¼šåœ¨æ¨¡æ‹Ÿå™¨åˆå§‹åŒ–å®Œæˆï¼ˆCPU Resetï¼‰åæš‚åœ</p><p><code>-s</code>ï¼šå¯åŠ¨gdbè°ƒè¯•æœåŠ¡</p><p><code>-serial none</code>ï¼šå¿½ç•¥ä¸²å£è¾“å…¥è¾“å‡º</p><p><code>-nographic</code>ï¼šä¸å¯åŠ¨å›¾å½¢åŒ–ç•Œé¢</p><h5 id="cpu-reset">CPU Reset</h5><p>è¿è¡Œå®Œæˆåé‡‡ç”¨<code>info registers</code>æŸ¥çœ‹å¯„å­˜å™¨çŠ¶æ€ã€‚è¿™é‡Œå…³å¿ƒä¸¤ä¸ªçŠ¶æ€ï¼š</p><ul><li><p><code>CR0=60000010</code>ï¼šå…ˆè§£é‡ŠCR0æ˜¯ä¸ªä»€ä¹ˆç©æ„ï¼ˆ<del>æ¯•ç«Ÿæˆ‘ä¹Ÿä¸çŸ¥é“</del>ï¼‰ï¼ŒCR0æ˜¯x86æ¶æ„ä¸­çš„æ§åˆ¶å¯„å­˜å™¨ï¼Œæ˜¯æ§åˆ¶å¤„ç†å™¨è¡Œä¸ºçš„ä¸€ä¸ªå¯„å­˜å™¨ï¼Œå…³é”®ä½æœ‰ï¼š</p><table><colgroup><col style="width: 37%" /><col style="width: 11%" /><col style="width: 50%" /></colgroup><thead><tr class="header"><th>å…³é”®ä½</th><th>ä½ç½®</th><th>ä½œç”¨</th></tr></thead><tbody><tr class="odd"><td>PEï¼ˆProtection Enableï¼‰</td><td>æœ€ä½ä½</td><td>PE=1æ—¶ä¸ºä¿æŠ¤æ¨¡å¼ PE=0æ—¶ä¸ºå®æ¨¡å¼</td></tr><tr class="even"><td>MPï¼ˆMonitor Coprocessorï¼‰</td><td>é€šå¸¸ä¸ç”¨</td><td>æ§åˆ¶æ˜¯å¦å¯ç”¨ç›‘è§†åå¤„ç†å™¨ç›‘è§†</td></tr><tr class="odd"><td>EMï¼ˆEmulationï¼‰</td><td></td><td>æ§åˆ¶x87æµ®ç‚¹æŒ‡ä»¤</td></tr><tr class="even"><td>TSï¼ˆTask Switchedï¼‰</td><td></td><td>ä»»åŠ¡åˆ‡æ¢ä½</td></tr><tr class="odd"><td>ETï¼ˆExtension Typeï¼‰</td><td></td><td>ç”¨äºæ ‡è¯†å¤„ç†å™¨æ”¯æŒçš„æµ®ç‚¹å•å…ƒç±»å‹</td></tr><tr class="even"><td>NEï¼ˆNumber Errorï¼‰</td><td></td><td>æµ®ç‚¹å¼‚å¸¸</td></tr></tbody></table></li><li><p><code>%cs = 0xf000</code>,<code>%ip = 0xfff0</code>,ç›¸å½“äºPCæŒ‡é’ˆä½äº<code>0xfff0</code></p><p>è¿™é‡Œè¿˜æ˜¯å¾—è§£é‡Šï¼š</p><p><code>CS</code>å¯„å­˜å™¨æ ‡è¯†çš„æ˜¯ä»£ç æ®µå¯„å­˜å™¨ï¼Œæ ¹æ®å†…å­˜åˆ†æ®µå¼å­˜å‚¨çš„åŸç†ï¼Œè¿™é‡Œå­˜å‚¨çš„ä»£ç çš„èµ·å§‹åœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬çŒœä¸€çŒœä¹Ÿèƒ½çŒœå‡ºè¿™ä¸ª<code>IP</code>(instructionpoint)å®é™…ä¸Šä»£è¡¨çš„å°±æ˜¯åç§»é‡ï¼Œå› æ­¤èƒ½å¤Ÿç®—å‡ºå®é™…çš„<code>PC=CS+IP</code>ï¼ˆæ­¤å¤„éœ€è¦åšä¸€ä¸ªé€»è¾‘æ‰©å±•ï¼Œå½“ç„¶ç®—æ•°æ‰©å±•ä¹Ÿæ— æ‰€è°“ï¼‰ï¼Œ<del>æ­»å»çš„ç»„æˆåŸç†å’Œæ“ä½œç³»ç»Ÿç–¯ç‹‚æ”»å‡»</del></p></li></ul><h5 id="firmwareåŠ è½½master-boot-record">Firmwareï¼šåŠ è½½Master BootRecord</h5><p>ä¸‹é¢ä¼šç›¸å¯¹äº²åˆ‡ä¸€ç‚¹ï¼Œè¿™å°±æ˜¯æ“ä½œç³»ç»Ÿå¯åŠ¨çš„è¿‡ç¨‹</p><ol type="1"><li>CPUä»ä¸€ä¸ªç‰¹å®šä¸»å­˜åœ°å€ï¼ˆBIOSä¸­æ–­å‘é‡ï¼Œè¿™ä¸ªä¸œè¥¿å°±æ˜¯æˆ‘ä»¬ä¸Šé¢åˆšæ‰ç®—å‡ºçš„PCï¼‰å¼€å§‹ï¼Œå–æŒ‡ä»¤ï¼Œæ‰§è¡ŒROMä¸­çš„å¼•å¯¼ç¨‹åºï¼Œè¿™é‡Œä¼šè¿›è¡Œç¡¬ä»¶è‡ªæ£€</li><li>è¯»å…¥ä¸»å¼•å¯¼è®°å½•ï¼ˆMaster BootRecordï¼‰ï¼Œæ‰§è¡Œç£ç›˜å¼•å¯¼ç¨‹åºï¼Œæ‰«æåˆ†åŒºè¡¨</li><li>ä»ä¸»åˆ†åŒºï¼ˆæ´»åŠ¨åˆ†åŒºï¼‰è¯»å…¥åˆ†åŒºå¼•å¯¼è®°å½•ï¼Œæ‰§è¡Œç¨‹åº</li><li>ä»æ ¹ç›®å½•ä¸‹æ‰¾åˆ°æ“ä½œç³»ç»Ÿåˆå§‹åŒ–ç¨‹åºå¹¶æ‰§è¡Œ</li></ol><h5 id="boot-loaderè§£æå¹¶åŠ è½½-elf-æ–‡ä»¶">Boot Loaderï¼šè§£æå¹¶åŠ è½½ ELFæ–‡ä»¶</h5><p>è¿™å—å±å®çœ‹å¤ªä¸æ‡‚ï¼Œæ€»ç»“ä¸€æ‰‹å°±æ˜¯æˆ‘ä»¬é€šè¿‡æŸç§ç¨‹åºå°†æˆ‘ä»¬è¦è¿è¡Œçš„ELFæ–‡ä»¶åŠ è½½åˆ°äº†MBRï¼Œå¹¶é€šè¿‡å¯åŠ¨æ“ä½œç³»ç»Ÿçš„ç±»ä¼¼çš„æ–¹æ³•ï¼ŒæˆåŠŸå°†ç¨‹åºæ”¾å…¥äº†å†…å­˜</p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>è¿™ä¸‹æ˜¯ç¡®å®æ·±å…¥äº†è§£æ“ä½œç³»ç»Ÿäº†ï¼Œæˆ‘ä»¬é€šè¿‡é˜…è¯»è¿™ä¸ªåœ¨è£¸æœºä¸Šçš„å¦‚ä½•å®ç°ä¸€ä¸ªCè¯­è¨€ç¨‹åºçš„è¿è¡Œï¼Œæ¯”è¾ƒé€å½»çš„ç†è§£äº†Cè¯­è¨€çš„ç¼–è¯‘é“¾æ¥ï¼Œä»¥åŠå…·ä½“åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œç†è§£æ“ä½œç³»ç»Ÿå®é™…ä¸Šå»ºç«‹åœ¨ä¸€ä¸ªAbstractMachineä¸Šçš„ä¸€ä¸ªç¨‹åºï¼Œåœ¨é“¾æ¥ç¨‹åºæ—¶è¡¨ç°çš„å°¤å…¶æ˜æ˜¾ã€‚ï¼ˆè¿™é‡Œæœ‰å¤§é‡ç»†èŠ‚æ¨èå»çœ‹è€å¸ˆçš„è¯¾ç¨‹ä¸»é¡µï¼Œé“¾æ¥è´´åœ¨ä¸‹é¢äº†ï¼Œç‚¹æŸ¥çœ‹åŸæ–‡å¯çœ‹ï¼‰</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><p><a href="https://jyywiki.cn/AbstractMachine/AM_Programs.html">ä¸ºBare-Metal ç¼–ç¨‹ï¼šç¼–è¯‘ã€é“¾æ¥ä¸åŠ è½½ (jyywiki.cn)</a></p><p>æ„Ÿè°¢chatGPTçš„å‹æƒ…å›ç­”ï¼ˆ<del>éº»æœ¨.jpg</del>ï¼‰</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day1</title>
      <link href="/2024/01/09/%E6%90%93OS-day1/"/>
      <url>/2024/01/09/%E6%90%93OS-day1/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day1">æ‰‹æ“OS-day1</h2><p>ä»Šå¤©è¿›å…¥æ­£å¼å¼€æ“çš„é˜¶æ®µï¼ˆ<del>éœ‰æ¯”</del>maybeï¼‰ï¼Œä»Šå¤©æ¯”è¾ƒå¤§çš„é˜»ç¢è¿˜æ˜¯ä»£ç éšœç¢æ¯”è¾ƒå¤§ï¼Œéœ€è¦å›é¡¾å’Œæ€»ç»“å¤§é‡çš„åŸºç¡€ï¼Œæ‰€ä»¥ä¼šæ˜¾å¾—äººæ¯”è¾ƒèœï¼ˆå…¶å®å°±æ˜¯èœï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è°ƒè¯•æ–¹å¼ã€‚ç„¶åå°±æ˜¯å¯¹è€å¸ˆå£ä¸­çš„ç©å…·çš„åˆ†æï¼ˆ==<del>å¥½éš¾ç©çš„ç©å…·</del>==ï¼‰ï¼Œä»ä¸­ç»“åˆæˆ‘ä»¬å­¦è¿‡çš„åŸºæœ¬çš„æ“ä½œç³»ç»Ÿçš„çŸ¥è¯†è¿›è¡Œç»“åˆï¼Œä½“ä¼šå…¶ä¸­çŠ¶æ€æœºå’Œç¨‹åºçš„æ¦‚å¿µã€‚</p><h3 id="pythonéƒ¨åˆ†">Pythonéƒ¨åˆ†</h3><h4 id="generatorå‡½æ•°ç”Ÿæˆå™¨">Generatorï¼ˆå‡½æ•°ç”Ÿæˆå™¨ï¼‰</h4><p>å…¶ä¸­çš„é‡è¦å…³é”®å­—<code>yield</code>ï¼ˆç”Ÿäº§ï¼Œç”Ÿæˆçš„æ„æ€<del>è€ƒç ”è¯æ±‡</del>ï¼‰ï¼Œä»£ç è¿è¡Œåˆ°<code>yield</code>å…³é”®å­—åä¼šè‡ªåŠ¨ä¿å­˜</p><p>ä¸€ä¸ªå¼¯å¼¯ç»•çš„å°æ —å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">number_generator</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        a=i+<span class="number">10</span></span><br><span class="line">        <span class="keyword">yield</span> a</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_generator</span>():</span><br><span class="line">    f=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        a=i+<span class="number">10</span>+f</span><br><span class="line">        <span class="built_in">print</span>(a)</span><br><span class="line">        f=<span class="keyword">yield</span> a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    generator_1=number_generator() <span class="comment"># æ¥æ”¶ç”Ÿæˆå™¨å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(generator_1.__next__())</span><br><span class="line">    </span><br><span class="line">    generator_2=add_generator()</span><br><span class="line">    <span class="comment"># ç›´æ¥è°ƒç”¨next</span></span><br><span class="line">    <span class="built_in">next</span>(generator_2)</span><br><span class="line">    <span class="comment"># é‡‡ç”¨sendæ–¹å¼</span></span><br><span class="line">    generator_2.send(<span class="number">10</span>)  <span class="comment">#  æŒ‰é“ç†è¿™é‡Œåº”è¯¥æ˜¯11ï¼Œä½†é€šè¿‡sendå‡½æ•°æ”¹å˜fçš„å€¼åå˜ä¸º21</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ç¬¬ä¸€æ¬¡å¯åŠ¨ç”Ÿæˆå™¨æ˜¯ä¸èƒ½ä½¿ç”¨sendæ–¹æ³•ï¼Œä¼šæŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: can&#x27;t send non-None value to a just-started generator</span><br></pre></td></tr></table></figure><p>å¯¹æ­¤æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š â‘  ç¬¬ä¸€æ¬¡å¯åŠ¨æ˜¯ä½¿ç”¨<code>next()</code>å‡½æ•°</p><p>â‘¡ ç¬¬ä¸€æ¬¡ä¼ å…¥<code>send()</code>çš„å€¼ä¸º<code>None</code></p><h4 id="matchå‡½æ•°">matchå‡½æ•°</h4><p>matchè¯­å¥æ˜¯ Python 3.10ä¸­å¼•å…¥çš„ä¸€ç§ç»“æ„æ¨¡å¼åŒ¹é…çš„ç‰¹æ€§ï¼Œå…è®¸åœ¨æ•°æ®ç»“æ„ä¸­åŒ¹é…å¤æ‚çš„æ¨¡å¼ã€‚åŸºæœ¬å½¢å¼å¦‚ä¸‹ï¼ˆ==è¿™ä¸ªçœŸæŒºå¥½ç”¨çš„==ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">match a,args:</span><br><span class="line">case <span class="string">&quot;haha&quot;</span>,xs:</span><br><span class="line">        <span class="built_in">print</span>(xs)</span><br><span class="line">    case <span class="string">&quot;lala&quot;</span>,(f,args):</span><br><span class="line">        .....</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€äº›æ¥å—å‡½æ•°è¿”å›å‚æ•°çš„æŠ€å·§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">syscall,args,*_=self._func.send(self.retval)</span><br></pre></td></tr></table></figure><p><code>*_</code>å’Œ<code>_</code>å¯ä»¥æœ‰æ•ˆçš„æ‰”æ‰ä¸æƒ³è¦çš„å˜é‡ï¼Œä¿ç•™æœ‰æ•ˆå˜é‡</p><h4 id="è¿ç®—ç¬¦">:= è¿ç®—ç¬¦</h4><p><code>:=</code>è¿ç®—ç¬¦æ˜¯Python3.10ä¸­çš„æ–°ç‰¹æ€§ï¼Œæä¾›åœ¨èµ‹å€¼çš„åŒæ—¶å¹¶è¿ç®—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t:=<span class="number">1</span>+<span class="number">2</span></span><br><span class="line"><span class="comment"># ç­‰ä»·äº</span></span><br><span class="line">t=<span class="number">1</span></span><br><span class="line">t+<span class="number">2</span></span><br></pre></td></tr></table></figure><h4 id="exec-å‡½æ•°">exec å‡½æ•°</h4><p>execå‡½æ•°æ˜¯Pythonæ ‡å‡†åº“ä¸­çš„å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span>(<span class="built_in">str</span>,variables)</span><br></pre></td></tr></table></figure><p><code>str</code>æ˜¯ä¸€æ®µä»£ç ï¼Œ<code>exec</code>æ‰§è¡Œè¯¥æ®µä»£ç ï¼Œå°†è¿è¡Œåçš„å‡½æ•°æ¥å£ä¼ é€’åˆ°variableå­—å…¸</p><p>ä¸€ä¸ªå°æ —å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">code = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">def greet(name):</span></span><br><span class="line"><span class="string">    print(f&quot;Hello, &#123;name&#125;!&quot;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">greet(&quot;John&quot;)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œå­—ç¬¦ä¸²ä¸­çš„ä»£ç </span></span><br><span class="line"><span class="built_in">exec</span>(code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ªå…¨å±€å­—å…¸ï¼Œä»¥æ–¹ä¾¿è°ƒç”¨</span></span><br><span class="line">globals_dict = &#123;&#125;</span><br><span class="line"><span class="built_in">exec</span>(code, globals_dict)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä» globals_dict ä¸­è·å– greet å‡½æ•°</span></span><br><span class="line">greet_func = globals_dict[<span class="string">&#x27;greet&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨ greet å‡½æ•°</span></span><br><span class="line">greet_func(<span class="string">&quot;111&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="sysåŒ…">SYSåŒ…</h4><p>sysï¼Œå°±æ˜¯systemçš„ç®€å†™ï¼Œç§‰æ‰¿ç€ç”¨å¤šå°‘å­¦å¤šå°‘çš„ç†å¿µæˆ‘ä»¬å…ˆè¡¥ä¸€ç‚¹ï¼Œä»¥åé‡åˆ°äº†å†è¡¥ï¼ˆ<del>æ‡’ç‹—</del>ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sys.avg <span class="comment">#è¯»å–å‘½ä»¤è¡Œä¸­å‚æ•°</span></span><br><span class="line"><span class="comment">#æ­¤å¤–è¿˜æœ‰å¸¸ç”¨çš„pathï¼Œå…ˆæ‘†äº†</span></span><br></pre></td></tr></table></figure><h3 id="gdb">GDB</h3><p>è¿˜æ˜¯ç§‰æ‰¿ç”¨å¤šå°‘å­¦å¤šå°‘ï¼Œgdbæ˜¯ä¸€ç§å‘½ä»¤è¡Œè°ƒè¯•å·¥å…·ï¼Œé‚£å°±æ„å‘³ç€æ²¡æœ‰IDEè¦ç”¨å‘½ä»¤è¡Œæ‰“æ–­ç‚¹ã€‚</p><p>å¯ä»¥ç±»æ¯”ä½¿ç”¨IDEçš„debugï¼Œç¨‹åºåœ¨debugçš„æ¨¡å¼ä¸‹è¿è¡Œï¼ŒåŒç†åœ¨ç”¨gdbè°ƒè¯•æ—¶ä¹Ÿå°±è¦åœ¨gdbæ¨¡å¼ä¸‹è°ƒè¯•ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol type="1"><li>ç¼–è¯‘è¦è°ƒè¯•çš„ä»£ç ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -g -o tst tst.c</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦æçš„æ˜¯ï¼Œ<code>-g</code>ä½¿å¾—èƒ½å¤Ÿåœ¨æ ˆå¸§ä¸­æŸ¥çœ‹ä»£ç å’Œå¯¹åº”è¡Œå·ï¼Œå…·ä½“å¯¹äºæ ˆå¸§çš„æè¿°å¯ä»¥å»æŸ¥ä¸€ä¸‹å†…å­˜çš„è™šæ‹Ÿæ˜ å°„ï¼Œ</p><ol start="2" type="1"><li>åœ¨gdbä¸‹è¿è¡Œï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb ./tst</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240109185527196.png" alt="è¿è¡Œç»“æœ" style="zoom:67%;" /></p><ol start="3" type="1"><li>ç„¶åå°±å¯ä»¥ç”¨gdbæŒ‡ä»¤è¿›è¡Œè°ƒè¯•äº†ï¼Œä¸‹é¢ç½—åˆ—æŒ‡ä»¤å¹¶ä¸”ç»™å‡ºæ‰§è¡Œæ•ˆæœ</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ä»£ç </span></span><br><span class="line">list</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æˆ–è€…</span></span><br><span class="line">l</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240109185757649.png" alt="lsæŸ¥çœ‹ä»£ç " style="zoom:67%;" /></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿è¡Œ</span></span><br><span class="line">run </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æˆ–è€…</span></span><br><span class="line">r</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240109185933173.png"alt="è¿è¡Œ" /><figcaption aria-hidden="true">è¿è¡Œ</figcaption></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰“æ–­ç‚¹</span></span><br><span class="line">break n # nä¸ºè¡Œå· æˆ–è€…ç”¨</span><br><span class="line">b n</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ–­ç‚¹</span></span><br><span class="line">info b</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¦ç”¨æ–­ç‚¹</span></span><br><span class="line">disable b</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡æ–°å¯ç”¨</span></span><br><span class="line">enable b</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œä½†ä¸è¿›å…¥å‡½æ•°ä½“</span></span><br><span class="line">next # æˆ–è€…</span><br><span class="line">n</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥å‡½æ•°ä½“</span></span><br><span class="line">step</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç›‘è§†å˜é‡å€¼</span></span><br><span class="line">print # æˆ–è€…</span><br><span class="line">p</span><br></pre></td></tr></table></figure><p>å‰©ä¸‹çš„åŠŸèƒ½ç”¨åˆ°å†å­¦ï¼ˆ<del>å’•å’•</del>ï¼‰</p><h3 id="vscodeçš„ä¸€ç§è°ƒè¯•æ–¹å¼">VScodeçš„ä¸€ç§è°ƒè¯•æ–¹å¼</h3><p>å› ä¸ºè¦è¿è¡Œä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python os-model.py hello.py</span><br></pre></td></tr></table></figure><p>æ‰èƒ½è¿è¡Œæ•´ä¸ªç¨‹åºï¼Œæ‰€ä»¥è¿™ç»™è°ƒè¯•å¸¦æ¥äº†å›°æ‰°ï¼Œå› ä¸ºæˆ‘å¹¶ä¸çŸ¥é“å¦‚ä½•åœ¨debugçš„åŒæ—¶è¾“å…¥å‘½ä»¤è¡Œï¼Œè¿™é‡Œæˆ‘æƒ³åˆ°äº†ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p><p>â‘ é€šè¿‡å†å†™ä¸€ä¸ªPythonæ–‡ä»¶ï¼Œé€šè¿‡osåŒ…æ‰§è¡ŒæŒ‡ä»¤å°±å¯ä»¥æ‰“ä¸Šæ–­ç‚¹ï¼ˆ<del>å¤©æ‰</del>ï¼‰ï¼Œç»“æœå°±æ˜¯è·¯å¾„å§‹ç»ˆå¯¹ä¸ä¸Š</p><p>â‘¡ å¦‚ä¸‹ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240109191717359.png" alt="æ·»åŠ é…ç½®" style="zoom:67%;" /></p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240109191821830.png" alt="æ·»åŠ å‚æ•°args" style="zoom:67%;" /></p><p>è¿™ä¸ªargså°±ä»£è¡¨çš„æ˜¯å‘½ä»¤ä¸­çš„å‚æ•°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python xx.py paramter</span><br></pre></td></tr></table></figure><p>äºæ˜¯å°±å¯ä»¥é¡ºåˆ©è°ƒè¯•äº†ã€‚</p><h3 id="osç©å…·æ¨¡å‹">OSç©å…·æ¨¡å‹</h3><p>è¿™é‡Œè¿˜æ˜¯ç®€å•ç”»ä¸ªå›¾ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240109193054392.png" alt="OSæ¨¡å‹" style="zoom:67%;" /></p><p>ç®€å•è§£é‡Šä¸€ä¸‹ï¼Œstepæä¾›äº†ä¸€ä¸ªè·å–è¿è¡Œçº¿ç¨‹çš„ä¸‹ä¸€æ­¥æŒ‡ä»¤çš„åŠŸèƒ½ï¼Œè€Œrunå‡½æ•°æä¾›äº†ä¸€ä¸ªå°†ä¸‹ä¸€æ­¥æŒ‡ä»¤è½¬åŒ–ä¸ºæœºå™¨æŒ‡ä»¤ï¼ˆå¯æ‰§è¡Œï¼‰çš„åŠŸèƒ½ï¼Œè€Œrunä¸­ä¹Ÿå°±æä¾›äº†å„ç§ç³»ç»Ÿè°ƒç”¨çš„æ¥å£ï¼šæ¯”å¦‚éšæœºåˆ‡æ¢çº¿ç¨‹ï¼Œçº¿ç¨‹ä¼‘çœ ï¼Œè¯»å†™è°ƒç”¨ç­‰ç­‰ã€‚</p><p>åœ¨å®ç°ä¸­é‡‡ç”¨äº†ä¸€ä¸ªå¾ˆç²¾å¦™çš„æ–¹æ³•ï¼Œé€šè¿‡å¯¹å¾…è¿è¡Œæ–‡ä»¶çš„å†…å®¹è¯»å–ï¼Œå¹¶ä¿®æ”¹å…¶ä¸­çš„ç³»ç»Ÿè°ƒç”¨ä¸ºä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œè½¬å…¥OSç³»ç»Ÿçš„æ ˆä¸­å­˜å‚¨å‡½æ•°å…¥å£ï¼Œç„¶åé€šè¿‡OSè¿è¡Œå°±å¾—åˆ°äº†è¿è¡Œç»“æœï¼ˆå¦™å•Š~ï¼‰ï¼Œè¿™é‡Œå»ºè®®å¤§å®¶å»çœ‹çœ‹ä»£ç ã€‚</p><p>Makefileå…ˆä¸å†™äº†ï¼Œç”¨åˆ°å†å†™ï¼ˆ<del>å’•å’•</del>ï¼‰</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3><hr /><p>ä»Šæ—¥æ— </p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“OS-day0</title>
      <link href="/2024/01/08/%E6%90%93OS-day0/"/>
      <url>/2024/01/08/%E6%90%93OS-day0/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‰‹æ“os-day0">æ‰‹æ“OS-day0</h2><p>ä»Šå¤©ï¼Œä¿ºå¼€äº†ä¸€ä¸ªæ–°çš„å·¨å‘ï¼Œæˆ‘è¦æ‰‹æ“ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„æ¨¡æ‹Ÿï¼Œä¸»è¦å‚è€ƒçš„æ˜¯å—äº¬å¤§å­¦çš„è’‹è€å¸ˆçš„è¯¾ç¨‹ï¼Œæœ€åé™„è¯¾ç¨‹é“¾æ¥ï¼ˆéœ€è¦çš„åŒå­¦ç‚¹æŸ¥çœ‹åŸæ–‡å³å¯çœ‹åˆ°é“¾æ¥ï¼‰ï¼Œç›®å‰å·²ç»ä¸Šæ‰‹ä¸¤å¤©ï¼Œå—¯ï¼Œæ€ä¹ˆè¯„ä»·å‘¢ï¼Œå¾ˆéš¾ï¼Œè¿™ä¸ªæ–°å‘ä¹Ÿä¸»è¦æ˜¯è®°å½•æˆ‘çš„å¿ƒè·¯å†ç¨‹å’Œä¸­é—´é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºæ¶‰åŠçš„æŠ€æœ¯å¥‡å¤šæ— æ¯”ï¼Œå…¶ä¸­æœ‰è®¸å¤šæˆ‘ä¸æŒæ¡çš„è¯­æ³•ï¼Œå› æ­¤å¯èƒ½ä¼šæ˜¾å¾—æ¯”è¾ƒå•°å—¦ã€‚</p><p><strong>day0</strong>ä¸»è¦åšçš„éƒ½æ˜¯å‡†å¤‡å·¥ä½œï¼Œä½†æ˜¯å‡†å¤‡å·¥ä½œä¹Ÿç›¸å½“éš¾åšï¼Œä¸‹é¢ç®€å•è®°å½•ä¸€ä¸‹ï¼š</p><h3 id="é…ç½®ä¸€å°linuxæœºå™¨">é…ç½®ä¸€å°Linuxæœºå™¨</h3><p>å·²ç»å¤´å¤§äº†å¼€å§‹ï¼Œè¿™æ¬¡é…ç½®å› ä¸ºæœåŠ¡å™¨åˆ°æœŸäº†ï¼Œäºæ˜¯é€‰æ‹©äº†ä¸€ä¸ªå¾ˆæ–°çš„é…ç½®æ–¹å¼ï¼šWSL</p><p>WSLå…¨åæ˜¯Windows Subsystem ForLinuxï¼ˆå¤§æ¦‚æ˜¯ï¼Œæ„æ€åº”è¯¥æ˜¯å¯¹çš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯Windowsè‡ªå¸¦çš„ä¸€ä¸ªå­ç³»ç»Ÿï¼ŒåŒæ—¶å…¼å®¹äº†Windowsä¸Linuxï¼Œå¥½å¤„å°±æ˜¯åˆ‡æ¢è‡ªç”±ï¼Œå ç”¨èµ„æºå°‘ï¼Œç¼ºç‚¹å°±æ˜¯ç¨å¾®æ…¢ä¸€ç‚¹ï¼ˆä½†æ˜¯ä¹Ÿæ— æ‰€è°“å…¶å®ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¸éœ€è¦è¶…çº§é«˜çš„å“åº”é€Ÿåº¦ï¼Œèƒ½åŠ¨å°±è¡Œï¼‰ã€‚</p><p>å¤§æ¦‚çš„é…ç½®æµç¨‹ä¸æ˜¯å¾ˆå¤æ‚ï¼ˆçœŸçš„å—ï¼Ÿï¼‰ï¼š</p><ol type="1"><li>å¯ç”¨Windowsä¸­çš„WSLæœåŠ¡ï¼ˆåœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹çš„powershellä¸­è¿è¡Œï¼‰</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br></pre></td></tr></table></figure><ol start="2" type="1"><li>å¯åŠ¨è™šæ‹ŸåŒ–</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure><ol start="3" type="1"><li>ä¸‹è½½WSL2å¹¶å®‰è£…ã€<ahref="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">é“¾æ¥</a>ï¼ˆç‚¹äº†å°±ä¼šè‡ªåŠ¨ä¸‹è½½å“¦ï¼Œé˜…è¯»åŸæ–‡å¯ä»¥ç‚¹é“¾æ¥ï¼‰ã€‘</li><li>è®¾ç½®é»˜è®¤ç‰ˆæœ¬ä¸ºWSL2</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-default-version 2</span><br></pre></td></tr></table></figure><ol start="5" type="1"><li>ä»åº”ç”¨å•†åº—ä¸‹è½½Ubantuï¼Œå¦‚ä¸‹ï¼š</li></ol><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240108232817639.png" alt="åº”ç”¨å•†åº—" style="zoom:50%;" /></p><ol start="6" type="1"><li>å®‰è£…åç›´æ¥è¿è¡Œï¼Œæ ¹æ®æç¤ºè®¾ç½®è´¦å·å¯†ç </li><li>è®¾ç½®rootå¯†ç ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240108233254220.png" alt="ç»ˆç«¯ç•Œé¢" style="zoom:67%;" /></p><ol start="8" type="1"><li>å¦‚æœä¸è€ƒè™‘å›¾å½¢åŒ–ç•Œé¢çš„è¯ï¼ˆ<del>å›¾å½¢åŒ–ç•Œé¢å´©æºƒäº†</del>ï¼‰ï¼Œåˆ°è¿™é‡ŒåŸºæœ¬å°±Okäº†ï¼Œç„¶åå°±æ˜¯è¿æ¥Vscodeï¼ŒåŸºæœ¬ä¸éœ€è¦æ€ä¹ˆé…ç½®ç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œå³å¯ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code.</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20240108233413032.png" alt="æ¥å…¥VScode" style="zoom:67%;" /></p><h3 id="é…ç½®anaconda">é…ç½®Anaconda</h3><p>ä¹ æƒ¯ä¸Šä¸ºäº†æœ‰ä¸€ä¸ªèˆ’é€‚çš„Pythonçš„ç¯å¢ƒä½“éªŒï¼Œè¿˜æ˜¯é…ç½®äº†ä¸€ä¸ªAnacondaï¼Œè¿™é‡Œè¦è®°å½•ä¸€ä¸‹æ‹‰å–æ–¹å¼çš„Anacondaä¸‹è½½æ–¹å¼ï¼š</p><ol type="1"><li>æ‹‰å–ä¸‹è½½</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.3.1-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><p>æˆ–è€…é‡‡ç”¨ä¸‹é¢çš„æº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2023.07-2-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><ol start="2" type="1"><li>è¿è¡Œå®‰è£…</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash Anaconda3-5.3.1-Linux-x86_64.s</span><br></pre></td></tr></table></figure><p>æ— è„‘åŒæ„ï¼Œå°å¿ƒä¸è¦è·³è¿‡å¤ªå¤šã€‚</p><ol start="3" type="1"><li>é…ç½®è·¯å¾„ï¼ˆè¿™æ­¥è²Œä¼¼ä¸åšä¹Ÿæ²¡å•¥é—®é¢˜ï¼‰</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰“å¼€é…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo gedit ~/.bashrc</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æœ€åä¸€è¡Œæ·»åŠ è·¯å¾„</span></span><br><span class="line">export PATH=&quot;/home/ç”¨æˆ·å/anaconda3/bin:$PATH&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿å­˜åæ›´æ–°</span></span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><h3 id="cä¸c-ç®€å•é…ç½®">Cä¸C<sup>++</sup> ç®€å•é…ç½®</h3><p>ä¸ºäº†èƒ½è·‘Cå’ŒC<sup>++</sup> çš„ä»£ç ï¼Œè¦ç®€å•é…ç½®ä¸€ä¸‹äºŒè€…çš„ç¼–è¯‘ç¯å¢ƒ</p><p>Cè¯­è¨€ï¼ˆé…ç½®å¥½åä¹Ÿå°±æ˜¯gccç¼–è¯‘ï¼Œä¹‹å‰çš„æ–‡ç« æœ‰æè¿‡ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install build-essential</span><br></pre></td></tr></table></figure><p>C<sup>++</sup> ç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install g++</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šg++è²Œä¼¼å¹¶ä¸æ€ä¹ˆç”¨ï¼Œåœ¨VScodeé‡Œæœ‰gccå°±å¤Ÿäº†ï¼Œåè¾¹è¿˜æœ‰è°ƒè¯•æ–­ç‚¹ç”¨çš„GDBï¼Œæœ‰ç‚¹å¤æ‚ï¼ˆ<del>è¿˜æ²¡çœ‹å®Œ</del>æ˜å¤©å†å†™ï¼‰,è™½ç„¶ä½†æ˜¯è¿™äº›ä¸œè¥¿éƒ½æ˜¯ä¸€æœˆä¸ƒå·åšçš„ï¼ˆï¼‰ï¼Œæ˜å¤©å†å†™ä»Šå¤©çš„å·¥ä½œã€‚</p><h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ï¼š</h3><p>[1] <ahref="https://blog.csdn.net/dally2/article/details/108206234">ã€Linuxç³»ç»Ÿä¸‹è½½Anaconda3ã€‘_anacondalinuxä¸‹è½½-CSDNåšå®¢</a></p><p>[2] <ahref="https://www.cnblogs.com/dwingzone/p/12619781.html">å®éªŒå››Linuxç³»ç»Ÿæ­å»ºCè¯­è¨€ç¼–ç¨‹ç¯å¢ƒ - Dwingzone - åšå®¢å›­ (cnblogs.com)</a></p><p>[3] <ahref="https://zhuanlan.zhihu.com/p/386590591">å²ä¸Šæœ€å…¨çš„WSLå®‰è£…æ•™ç¨‹ -çŸ¥ä¹ (zhihu.com)</a></p><p>[4] <ahref="https://jyywiki.cn/OS/2023/index.html">æ“ä½œç³»ç»Ÿï¼šè®¾è®¡ä¸å®ç° (2023æ˜¥å­£å­¦æœŸ) (jyywiki.cn)</a></p><p>[5] <ahref="https://zhuanlan.zhihu.com/p/409547049">WSL+VSCodeé£Ÿç”¨æŒ‡å— - çŸ¥ä¹(zhihu.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ“OS.log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2024/01/06/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2024/01/06/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2id="linuxå¸¸ç”¨å‘½ä»¤ä»¥åŠå¤‡å¿˜è‡ªç”¨ç•¥ä¹±">linuxå¸¸ç”¨å‘½ä»¤ä»¥åŠå¤‡å¿˜ï¼ˆè‡ªç”¨ç•¥ä¹±ï¼‰</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤æ ¼å¼ï¼šå‘½ä»¤[-é€‰é¡¹][å‚æ•°]</span><br></pre></td></tr></table></figure><p>é€‰é¡¹ï¼šæ“ä½œã€å‚æ•°ï¼šå¯¹è±¡</p><h3 id="æ–‡ä»¶ç›¸å…³">æ–‡ä»¶ç›¸å…³</h3><h4 id="vim">vim</h4><p>ESCï¼šé€€å‡ºç¼–è¾‘æ¨¡å¼</p><p>iï¼šè¿›å…¥ç¼–è¾‘</p><p>:q é€€å‡ºvim</p><p>:w å†™å›</p><p>:wq å†™å›å¹¶é€€å‡ºvim</p><p>vim filename.type åˆ›å»ºæ–‡ä»¶</p><h4 id="mkdir">mkdir</h4><p>åˆ›å»ºæ–‡ä»¶å¤¹</p><h4 id="cd">cd</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd .. #å›åˆ°ä¸Šä¸€å±‚</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /ç›®å½• #æ‰“å¼€æŸæ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure><h4 id="ls">ls</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls #æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å</span><br></pre></td></tr></table></figure><h4 id="mv">mv</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv oldname.txt newname.txt #æ”¹å</span><br></pre></td></tr></table></figure><p>ä½†ä¹Ÿå…·æœ‰åŠŸèƒ½ç§»åŠ¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv hello.txt hello # æ–‡ä»¶ + ç›®å½•</span><br></pre></td></tr></table></figure><h4 id="cp">cp</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -rp[åŸæ–‡ä»¶æˆ–ç›®å½•][ç›®æ ‡ç›®å½•]  # -r å¤åˆ¶ç›®å½• -p ä¿ç•™æ–‡ä»¶å±æ€§</span><br></pre></td></tr></table></figure><h4 id="cat">cat</h4><h3 id="gccå‘½ä»¤">gccå‘½ä»¤</h3><h3 id="gå‘½ä»¤">g++å‘½ä»¤</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å›¾ç¥ç»ç½‘ç»œâ€”â€”gnn</title>
      <link href="/2023/09/03/gnn/"/>
      <url>/2023/09/03/gnn/</url>
      
        <content type="html"><![CDATA[<h1 id="å›¾ç¥ç»ç½‘ç»œgnnåˆæ­¥">å›¾ç¥ç»ç½‘ç»œâ€”â€”GNNåˆæ­¥</h1><h2id="æœ€ç®€å•çš„å›¾ç¥ç»ç½‘ç»œç€çœ¼äºèŠ‚ç‚¹">æœ€ç®€å•çš„å›¾ç¥ç»ç½‘ç»œâ€”â€”ç€çœ¼äºèŠ‚ç‚¹</h2><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E9%A1%B5-1(2).png"alt="é¡µ-1(2)" /><figcaption aria-hidden="true">é¡µ-1(2)</figcaption></figure><p>è¿™å¼ å›¾å°±æŒºæ¸…æ¥šäº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰ä¸€äº›é—®é¢˜æ²¡æœ‰è¯´æ¸…æ¥šï¼Œæ•°æ®æ˜¯ä»€ä¹ˆï¼Œæ•°æ®åœ¨å“ªå„¿ï¼Œæ•°æ®æ€ä¹ˆè¿ç®—ï¼Œç›®çš„æ˜¯ä»€ä¹ˆ</p><p>ä»æ´¾åˆ«ä¸Šï¼Œæ›´åƒæ˜¯é¢‘ç‡æ´¾ï¼Œå®é™…ä¸Šæ˜¯åœ¨åˆ†æå„ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„ä¸€ä¸ªå…³ç³»ã€‚</p><h3 id="targetèŠ‚ç‚¹åµŒå…¥éšçŠ¶æ€h_v">targetï¼šèŠ‚ç‚¹åµŒå…¥(éš)çŠ¶æ€ï¼ˆ<spanclass="math inline">\(h_v\)</span>ï¼‰</h3><h3 id="æ•°å­¦è¡¨è¾¾">æ•°å­¦è¡¨è¾¾ï¼š</h3><p>èŠ‚ç‚¹é‚»å±…ï¼š</p><ul><li>ç‚¹é›†ï¼š<span class="math inline">\(co[v]\)</span></li><li>è¾¹é›†ï¼š<span class="math inline">\(ne[v]\)</span></li></ul><p>èŠ‚ç‚¹åµŒå…¥ï¼š<span class="math inline">\(x_v\)</span></p><p>è¾“å‡ºåµŒå…¥ï¼š<span class="math inline">\(o_v\)</span></p><p>å±€éƒ¨è½¬ç§»å‡½æ•°ï¼š <span class="math display">\[h_v=f(x_v,x_{co[v]},h_{ne[v]},x_{ne[v]})\]</span> å±€éƒ¨è¾“å‡ºå‡½æ•°ï¼š <span class="math display">\[o_v=g(h_v,x_v)\]</span> å­¦ä¹ æ–¹æ³•ï¼šæ¢¯åº¦ä¸‹é™ <span class="math display">\[loss=\sum_{i=1}^{p}{(t_i-o_i)}\]</span> pæ˜¯æ‰€æœ‰çš„ç›®æ ‡èŠ‚ç‚¹çš„æ•°ç›®</p><h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3><p>ç¼ºç‚¹å®é™…ä¸Šæ˜¯ç›¸å½“æ˜¾ç„¶çš„</p><ol type="1"><li>ç¼ºä¹å¯¹è¾¹çš„å­¦ä¹ </li><li>ä¼ é€’æ•ˆç‡ä½</li><li>æ¢¯åº¦æ¶ˆå¤±</li><li>å¤šæ¬¡è¿­ä»£åç‚¹çš„å€¼æ˜¯å›ºå®šçš„ã€å¹³æ»‘çš„ï¼Œfixednodeï¼Œå¯¼è‡´æ•´ä¸ªå›¾çš„åŒºåˆ†æ„ä¹‰ä¸å¤§</li></ol><h2 id="gcnç€çœ¼å…¨å›¾">GCNâ€”â€”ç€çœ¼å…¨å›¾</h2><h3 id="å‚…é‡Œå¶å˜æ¢">å‚…é‡Œå¶å˜æ¢</h3><p>é€šä¿—æ¥è®²ï¼Œæˆ‘ä»¬å¹³æ—¶è§åˆ°çš„è¿ç»­å¯å¯¼å‡½æ•°ï¼Œéƒ½æ˜¯å»ºç«‹åœ¨æ—¶åŸŸï¼Œå‚…é‡Œå¶å˜æ¢å°±è¦è¦å°†ä»–å˜æ¢åˆ°é¢‘åŸŸ</p><p>é‚£ä¹ˆé¢‘åŸŸåˆæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ</p><p>é¢‘åŸŸé¦–å…ˆè¦æœ‰é¢‘ç‡ï¼Œé‚£ä¹ˆæ˜¯ä»€ä¹ˆå‡ºç°çš„é¢‘ç‡ï¼Œæ¯”å¦‚æ˜¯å‘¨æœŸå‡½æ•°æ‰æœ‰é¢‘ç‡ï¼Œæœ€ç»å…¸çš„å‘¨æœŸå‡½æ•°æ­£æ˜¯ä¸‰è§’å‡½æ•°ï¼Œå‚…é‡Œå¶å¾ˆå¼€åˆ›çš„æå‡ºæ¥äº†æ‰€æœ‰çš„å‡½æ•°éƒ½å¯ä»¥ç”¨ä¸‰è§’å‡½æ•°æ¥åˆ†è§£çš„ä¸€ä¸ªå˜æ¢ï¼Œå°±æ˜¯å‚…é‡Œå¶å˜æ¢ã€‚</p><p>ç©ºé—´åŸŸï¼šç©ºåŸŸï¼Œåˆç§°å›¾åƒç©ºé—´ï¼Œè¯´ç™½äº†å°±æ˜¯åƒç´ çº§å¤„ç†ã€‚</p><h3 id="å›¾è°±ç†è®º">å›¾è°±ç†è®º</h3><h4 id="æ‹‰æ™®æ‹‰æ–¯ç®—å­">æ‹‰æ™®æ‹‰æ–¯ç®—å­</h4><p>ä¸€ä¸ªå¤šå…ƒå‡½æ•°çš„æ‰€æœ‰äºŒé˜¶åå¯¼æ•° <span class="math display">\[\Delta f=\sum^{n}_{i}{\frac{\part^2 f }{\part x_i^2}}\]</span> è€ƒè™‘ä¸€ä¸ªäºŒå…ƒå‡½æ•°<spanclass="math inline">\(f(x,y)\)</span>ï¼Œåˆ™æ‹‰æ™®æ‹‰æ–¯ç®—å­å¯ä»¥è¡¨ç¤ºä¸ºï¼š <spanclass="math display">\[\Delta f=\frac{\part^2f}{\part x^2}+\frac{\part^2f}{\part y^2}\]</span> å¯ä»¥ä»å•ä¾§å·®åˆ†å…¬å¼ä¸­æœ‰ï¼š <span class="math display">\[\Delta f \approx \frac{f(x+\Delta x,y)+f(x-\Delta x,y)-2f(x,y)}{(\Deltax)^2}+\frac{f(x,y+\Delta y)+f(x,y-\Delta y)-2f(x,y)}{(\Delta y)^2}\]</span> å¯¹äºŒå…ƒå‡½æ•°ç¦»æ•£åŒ–é‡‡æ ·ï¼š <span class="math display">\[\begin{bmatrix}  f(x_1,y_1)&amp;f(x_2,y_1)  &amp;\cdot\cdot\cdot  &amp; f(x_n,y_1)\\   f(x_1,y_2)&amp; f(x_2,y_2)  &amp;\cdot\cdot\cdot  &amp;f(x_n,y_2) \\\cdot\cdot\cdot&amp;\cdot\cdot\cdot  &amp;\cdot\cdot\cdot  &amp;\cdot\cdot\cdot \\  f(x_1,y_n)&amp; f(x_2,y_n)  &amp;\cdot\cdot\cdot  &amp;f(x_n,y_n)\end{bmatrix}\]</span> ä»¤<span class="math inline">\(\Delta x=x_{i+1}-x_i=1,\Deltay=y_{i+1}-y_i=1\)</span></p><p>åˆ™ç‚¹<spanclass="math inline">\((x_i,y_i)\)</span>çš„laplaceç®—å­å¯ä»¥å¦‚ä¸‹å…¬å¼è¿‘ä¼¼è®¡ç®—ï¼š<span class="math display">\[\frac{f(x_i+\Delta x,y_i)+f(x_i-\Delta x,y_j)-2f(x_i,y_j)}{(\Deltax)^2}+\frac{f(x_i,y_j+\Delta y)+f(x_i,y_j-\Delta y)-2f(x_i,y_j)}{(\Deltay)^2}\]</span></p><p><span class="math display">\[=\frac{f(x_{i+1},y_j)+f(x_{i-1},y_j)-2f(x_i,y_j)}{1^2}+\frac{f(x_i,y_{j+1})+f(x_i,y_{j-1})-2f(x_i,y_j)}{1^2}\]</span></p><p><span class="math display">\[=f(x_{i+1},y_j)+f(x_{i-1},y_j)+f(x_i,y_{j+1})+f(x_i,y_{j-1})-4f(x_i,y_j)\]</span></p><p>äºæ˜¯ä»–å°±å˜æˆäº†ä¸€ä¸ªç¦»æ•£çš„ä¸€ä¸ªä¸­å¿ƒå’Œå››ä¸ªç›¸é‚»èŠ‚ç‚¹çš„å›¾çš„ç»“æ„ï¼Œå°†laplaceç®—å­ç¦»æ•£åŒ–è¡¨ç¤ºï¼š<span class="math display">\[\Delta f=\sum_{(k,l)\in N(i,j)}^{}{(f(x_k,y_l)-f(x_i,y_j))}\]</span> å¾ˆæƒŠå–œçš„å‘ç°ï¼Œå·ç§¯å‡ºç°äº†ï¼</p><p><ahref="https://zhuanlan.zhihu.com/p/81502804">è°±èšç±»æ–¹æ³•æ¨å¯¼å’Œå¯¹æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µçš„ç†è§£- çŸ¥ä¹ (zhihu.com)</a></p><h4 id="laplace-çŸ©é˜µ">laplace çŸ©é˜µ</h4><p>æœ‰æ— å‘å›¾<span class="math inline">\(G=ï¼ˆE,Vï¼‰\)</span>,<spanclass="math inline">\(V\)</span>æœ‰nä¸ªèŠ‚ç‚¹ï¼Œé‚»æ¥çŸ©é˜µä¸ºWï¼ŒåŠ æƒåº¦çŸ©é˜µDï¼Œå°†lapaceç®—å­æ‰©å±•åˆ°å›¾ä¸Šï¼š<span class="math display">\[\Delta f_i=\sum_{j \in N_i}{w_{ij}(f_i-f_j)}\]</span> é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ”¹å†™æˆçŸ©é˜µå½¢å¼ï¼š <span class="math display">\[\Delta f=\begin{bmatrix}\Delta f_1 \\\cdot \cdot \cdot \\\Delta f_n \\\end{bmatrix}=\begin{bmatrix}d_1f_1-w_1f \\\cdot \cdot \cdot \\d_nf_n-w_nf\\\end{bmatrix}=\begin{bmatrix}d_1 &amp;&amp; &amp;&amp; \\&amp;&amp; \cdot \cdot \cdot&amp;&amp;\\&amp;&amp; &amp;&amp;d_n\\\end{bmatrix}\begin{bmatrix}f1 \\\cdot \cdot \cdot \\f2\\\end{bmatrix}-\begin{bmatrix}w_1\\\cdot \cdot \cdot \\w_2\\\end{bmatrix}\begin{bmatrix}f_1\\\cdot \cdot \cdot \\f_2\\\end{bmatrix}\]</span></p><p><span class="math display">\[=\mathbf{(D-W)f}\]</span></p><p>é‚£ä¹ˆå°±æœ‰laplaceçŸ©é˜µ <span class="math display">\[\mathbf{L}=\mathbf{D-W}\]</span> æ€§è´¨ï¼š</p><ol type="1"><li>å¯¹ä»»æ„å‘é‡<span class="math inline">\(f \in\mathbb{R^n}\)</span>ï¼Œæœ‰<span class="math inline">\(\mathbf{f^TLf}=\frac{1}{2}\sum_{i=1}^{n}{\sum_{j=1}^{n}{w_{ij}(f_i-f_j)^2}}\)</span></li><li>laplaceçŸ©é˜µæ—¶åŠæ­£å®šçŸ©é˜µ</li><li>laplaceçŸ©é˜µçš„æœ€å°ç‰¹å¾å€¼ä¸º0ï¼Œå…¶å¯¹åº”çš„ç‰¹å¾å‘é‡å¸¸å‘é‡1ï¼Œçº§æ‰€æœ‰åˆ†é‡ä¸º1</li><li>laplaceçŸ©é˜µæœ‰nä¸ªéè´Ÿå®æ•°ç‰¹å¾å€¼ã€‚</li></ol><h4 id="å½’ä¸€åŒ–laplaceçŸ©é˜µ">å½’ä¸€åŒ–laplaceçŸ©é˜µ</h4><p>å¯¹ç§°å½’ä¸€åŒ–ï¼š <span class="math display">\[L=D^{-1/2}LD^{-1/2}=I-D^{-1/2}WD^{-1/2}\]</span> éšæœºæ¼«æ­¥å½’ä¸€åŒ–ï¼š <span class="math display">\[L_{rw}=D^{-1}L=I-D^{-1}W\]</span></p><h3 id="è°±ç½‘ç»œåˆ°gcn">è°±ç½‘ç»œåˆ°GCN</h3><p>è°±ç½‘ç»œé€šè¿‡å¯¹å½’ä¸€åŒ–laplaceè¿›è¡Œç‰¹å¾åˆ†è§£åœ¨é¢‘åŸŸä¸Šå»ºç«‹äº†å·ç§¯æ ¸ï¼š <spanclass="math display">\[g_{\theta} *x=Ug_{\theta}(\Lambda) U^Tx\]</span> å…¶ä¸­<spanclass="math inline">\(U\)</span>æ˜¯å¯¹ç§°å½’ä¸€åŒ–çš„laplaceçŸ©é˜µè¿›è¡Œç‰¹å¾å€¼åˆ†è§£åçš„ç‰¹å¾å‘é‡ï¼Œ<spanclass="math inline">\(\Lambda\)</span>æ˜¯ç›¸å¯¹åº”çš„ç‰¹å¾å€¼</p><p>å¾ˆæ˜¾ç„¶æ­¤è¿ç®—æå…¶å¤æ‚ï¼ŒåŒ…æ‹¬ä¸€ä¸ªå¾ˆå¤§çš„çŸ©é˜µå‡½æ•°ï¼Œè€Œä¸”å·ç§¯æ ¸è§„æ¨¡å—é™ï¼Œå› æ­¤å¼•å…¥äº†å¤šé¡¹å¼è¿›è¡Œé€¼è¿‘æˆªæ–­ï¼š<span class="math display">\[g_{\theta}(\Lambda)\approx \sum_{k=0}^{K}{\theta_k \Lambda^k}\]</span> ChebNetå¼•å…¥äº†åˆ‡æ¯”é›ªå¤«å¤šé¡¹å¼ <spanclass="math inline">\(T_k\)</span>å¯¹ <spanclass="math inline">\(g_\theta\)</span>è¿›è¡Œæ‹Ÿåˆã€‚åˆ‡æ¯”é›ªå¤«å¤šé¡¹å¼æœ‰ä¸ªé‡è¦æ€§è´¨: <span class="math display">\[T_n(cos(\theta))=cos(n\theta)\]</span> <imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230905113021320.png"alt="image-20230905113021320" /></p><p><spanclass="math inline">\(\tilde{\Lambda}=2\frac{\Lambda}{\lambda_{max}}-I\)</span>ï¼Œé‚£ä¹ˆå·ç§¯æ ¸å°±è½¬åŒ–ä¸ºï¼š<span class="math display">\[g_{\theta} *x=\sum_{k=0}^{K}{\theta_K^`UT_{k}(\tilde \Lambda) U^Tx}\]</span> ä»¤K=1ï¼Œåˆ™ <span class="math display">\[g_{\theta} *x=\sum_{k=0}^{1}{\theta_K^`UT_{k}(\tilde \Lambda)U^Tx}=\theta_0x+\theta_1(\frac{2}{\lambda_{max}}L-I_N)x\]</span> ç”±äºæ­£åˆ™åŒ–åçš„æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µç‰¹å¾å€¼æœ€å¤§ä¸è¶…è¿‡2ï¼Œä»¤<spanclass="math inline">\(\lambda_{max}=2\)</span> <spanclass="math display">\[g_{\theta} *x=\theta_0x+\theta_1(\frac{2}{\lambda_{max}}L-I_N)x=\theta_0x+\theta_1(L-I_N)x\]</span> åˆå› ä¸ºï¼š <span class="math display">\[L=D^{-1/2}LD^{-1/2}=I-D^{-1/2}WD^{-1/2}\]</span> å› æ­¤ï¼š <span class="math display">\[g_{\theta} *x=\theta_0x-\theta_1D^{-1/2}WD^{-1/2}x\]</span> ä»¤<spanclass="math inline">\(\theta=\theta_0=-\theta_1\)</span>ï¼Œå…±äº«å‚æ•°å¾—ï¼š<span class="math display">\[g_{\theta} *x\approx\theta(I_N-D^{-1/2}WD^{-1/2})x=\theta(D^{-1/2}\tildeWD^{-1/2})x\]</span> å †å å·ç§¯å±‚ï¼Œå¹¶è¿›è¡Œé‡æ•´åŒ–ï¼ˆæˆ–è€…å«é‡æ­£åˆ™åŒ–ï¼‰ï¼š <spanclass="math display">\[H^{(l+1)}=\sigma(\mathbf{\tilde {D}^{-1/2}\tilde {A}\tilde{D}^{-1/2}H^{(l)}W^{(l)} })\]</span></p><p>over</p><h3 id="ç©ºé—´æ–¹æ³•">ç©ºé—´æ–¹æ³•</h3><h4 id="neural-fps">neural FPS</h4><p><span class="math display">\[x=h_v^{t-1}+\sum_{i=1}^{|N_v|}{h_i^{t-1}} \\h_v^t=\sigma(xW_t^{|N_v|})\]</span></p><p>è¿˜æ˜¯ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œhæ˜¯èŠ‚ç‚¹åµŒå…¥æˆ–è€…å«éšå±‚çŠ¶æ€ï¼Œwæ˜¯æŸä¸ªèŠ‚ç‚¹æœ‰å¤šå°‘ä¸ªé‚»å±…çš„æƒé‡</p><h4 id="patchy-san">PATCHY-SAN</h4><ol type="1"><li>èŠ‚ç‚¹åºåˆ—é€‰æ‹©</li><li>é€‰æ‹©é‚»å±…èŠ‚ç‚¹ä½œä¸ºæ„Ÿå—é‡ï¼Œå…±é€‰æ‹©kä¸ª</li><li>å›¾æ ‡å‡†åŒ–ï¼Œä¸ºæ„Ÿå—é‡èŠ‚ç‚¹æ’åºï¼Œæ˜ å°„åˆ°å‘é‡ç©ºé—´</li><li>é‡‡ç”¨CNNæ¶æ„è¿›è¡Œå·ç§¯è¿ç®—</li></ol><h4 id="dcnn">DCNN</h4><p>æ‰©æ•£å·ç§¯ç¥ç»ç½‘ç»œï¼Œç”¨äºèŠ‚ç‚¹åˆ†ç±»ï¼š <span class="math display">\[\mathbf{H}=\sigma(\mathbf{W^c} \odot P*X)\]</span></p><h4 id="dgcn">DGCN</h4><p>dual graph convolutional networkï¼ˆDGCNï¼‰ï¼Œ</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230905123536601.png"alt="image-20230905123536601" /><figcaption aria-hidden="true">image-20230905123536601</figcaption></figure><p>ç½‘ç»œæ¶æ„å¦‚ä¸Šï¼Œä¸Šé¢ä¸€å±‚é‡‡ç”¨äº†æœ€åŸºæœ¬çš„GCNæ¥åšè¿ç®—ï¼Œåœ¨ä¸‹ä¸€å±‚ç”¨PPMIçŸ©é˜µPä»£æ›¿æ­£åˆ™åŒ–é‚»æ¥çŸ©é˜µã€‚å…¶ç›®çš„æ˜¯ä¸ºäº†ç»Ÿåˆå±€éƒ¨ä¸€è‡´æ€§å’Œå…¨å±€ä¸€è‡´æ€§ã€‚</p><p>PMIæ˜¯ä¸€ç§æ¥è¡¡é‡ä¸¤ç§äº‹ç‰©ä¹‹é—´ç›¸ä¼¼æ€§çš„æŒ‡æ ‡ï¼š <spanclass="math display">\[PMI(x,y)=ln\frac{p(xy)}{p(x)p(y)}\]</span> ä»¤ä¸ç›¸å…³å’Œè´Ÿç›¸å…³çš„PMIå€¼éƒ½ä¸º0ï¼Œå³å¾—çŸ©é˜µ<spanclass="math inline">\(P\)</span></p><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå·§å¦™çš„æ„æ€ï¼Œå®é™…ä¸Šå°†å…¶è½¬å˜æˆäº†ä¸€ä¸ªå¾ˆç»å…¸çš„losså‡½æ•°ï¼Œå¯ä»¥åº”ç”¨å„ç§æ­£åˆ™åŒ–æŠ€å·§ã€‚</p><h4 id="lgcn">LGCN</h4><p>learnable graph convolution networks</p><p>è¿™ä¸ªç½‘ç»œæ˜¯åŸºäºå¯å­¦ä¹ ç½‘ç»œå·ç§¯å±‚å’Œå­å›¾è®­ç»ƒç­–ç•¥</p><p>å¯å­¦ä¹ ç½‘ç»œå·ç§¯å±‚ï¼Œåˆ©ç”¨CNNä½œä¸ºèšåˆå™¨ï¼Œé€šè¿‡é‚»æ¥çŸ©é˜µè·å¾—å‰kä¸ªç‰¹å¾å…ƒç´ ï¼Œç„¶ååˆ©ç”¨ä¸€ç»´CNNè®¡ç®—éšå±‚ï¼š<span class="math display">\[\hat{H}_t=g(H_t,A,k)\\H_{t+1}=c(\hat{H}_t)\]</span> å…¶ä¸­<spanclass="math inline">\(g(\cdot)\)</span>å‡½æ•°ä¸ºè·å–ç‰¹å¾å…ƒç´ </p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230905151902605.png"alt="image-20230905151902605" /><figcaption aria-hidden="true">image-20230905151902605</figcaption></figure><h2 id="æŒ‘æˆ˜">æŒ‘æˆ˜ï¼š</h2><p>å¦‚æœä»è‚¡ç¥¨ä»·æ ¼å…¥æ‰‹ï¼Œéš¾ä»¥æ„é€ ä¸€ä¸ªå›¾ï¼Œå…¶æ¬¡å¦‚ä½•æ„é€ ä¸€ä¸ªåŠ¨æ€çš„å›¾ï¼Œå¦‚ä½•æœ‰GNNæ¥å­¦ä¹ è¿™ä¸ªåŠ¨æ€çš„å›¾ï¼Œéƒ½å¾ˆå…·æœ‰æŒ‘æˆ˜æ€§</p>]]></content>
      
      
      
        <tags>
            
            <tag> å›¾ç¥ç»ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿¡ç®¡ä¸“ä¸šæŒ‡å—</title>
      <link href="/2023/08/11/xgGuide/"/>
      <url>/2023/08/11/xgGuide/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¿¡ç®¡ä¸“ä¸šæŒ‡å—">ä¿¡ç®¡ä¸“ä¸šæŒ‡å—</h1><blockquote><p>æ›´æ–°è®°å½•ï¼š</p><p>8.14 è¡¥å……å­¦å§çš„è¯´æ³•ï¼Œæ›´æ–°è¯¾ç¨‹ä»‹ç»</p><p>8.16 ä¿®æ­£éƒ¨åˆ†æ›´æ¢ä¿¡æ¯ï¼Œå®Œæˆè¯¾ç¨‹ä»‹ç»</p><p>8.22 ç§‘åˆ›å—¯å†™</p></blockquote><blockquote><p>åƒä¸‡åˆ«å¤–ä¼ ï¼Œå­¦é•¿è¿˜æƒ³è¦æ¯•ä¸šè¯ï¼ˆ</p></blockquote><p>ä¿¡æ¯ç®¡ç†ä¸ä¿¡æ¯ç³»ç»Ÿæ˜¯ç®¡ç†ç§‘å­¦ä¸å·¥ç¨‹çš„äºŒçº§å­¦ç§‘ï¼Œæˆäºˆç®¡ç†å­¦å­¦æœ¯å­¦ä½ã€‚</p><blockquote><p><strong><em>æœ€é‡è¦çš„äº‹æƒ…</em></strong></p></blockquote><p>ä¸€å®šè¦æ‰¾æ¸…æ¥šè‡ªå·±çš„è·¯ï¼Œæ˜ç™½è‡ªå·±çš„é“ï¼Œè¯´ç™½äº†å°±æ˜¯è¦æ˜ç™½è‡ªå·±æƒ³å¹²ä»€ä¹ˆï¼Œè¿™æ˜¯å¾ˆéš¾çš„ï¼Œè¦å¯¹è‡ªå·±çš„æœªæ¥åšå¥½è§„åˆ’ã€‚</p><h2 id="ä¸“ä¸šå­¦ä¹ ">ä¸“ä¸šå­¦ä¹ </h2><p>ä¸“ä¸šå­¦ä¹ éƒ¨åˆ†æˆ‘ä»¬è¦å…ˆæ•´ä½“åå±€éƒ¨çš„è®¤è¯†ï¼Œç°æœ‰ä¸€ä¸ªå¤§æ¦‚çš„è®¤è¯†ï¼Œæˆ‘ä»¬å†ç»†è¯´ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬åªè®²ä¸“ä¸šè¯¾æˆ–è€…å«ä¸“ä¸šåŸºç¡€è¯¾ï¼Œä»€ä¹ˆæ€æ”¿è¯¾æˆ‘ä»¬å°±ä¸ç»†è¯´äº†ï¼Œä¸€ä¼šå„¿ä¼šåœ¨è€å¸ˆä»‹ç»ï¼ˆå­¦ç”Ÿè§†è§’ï¼‰é‡Œæä¸€ä¸‹ã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E9%A1%B5-1(1).png"alt="é¡µ-1(1)" /><figcaption aria-hidden="true">é¡µ-1(1)</figcaption></figure><h3id="ä¸“ä¸šæ–¹å‘å¹¶ä¸å›ºå®šå¯ä»¥è‡ªå·±å¼€å‘">ä¸“ä¸šæ–¹å‘ï¼ˆå¹¶ä¸å›ºå®šï¼Œå¯ä»¥è‡ªå·±å¼€å‘ï¼‰</h3><p>è‚‰çœ¼å¯è§çš„å‡ ä¸ªæ–¹å‘å•Šï¼š</p><ol type="1"><li><p>ä¿¡æ¯ç³»ç»Ÿå¼€å‘ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªå±‚æ¬¡ï¼š</p><p>â‘  ä¸€èˆ¬ç®¡ç†ä¿¡æ¯ç³»ç»Ÿï¼ŒåŸºæœ¬å·²ç»è¢«æ·˜æ±°äº†</p><p>â‘¡ å†³ç­–æ”¯æŒç³»ç»Ÿï¼Œå®šä¹‰æå…¶å®½æ³›ï¼Œå› æ­¤æ²¡æ³•è¯´ä»–è¢«æ·˜æ±°äº†</p><p>â‘¢ AI or å¤§æ•°æ®ç³»ç»Ÿï¼Œæ¯”è¾ƒç«çš„ä¸œè¥¿</p></li><li><p>é‡‘èå·¥ç¨‹å¸ˆï¼Œæ­£åœ¨æ‘¸ç´¢çš„ä¸€ä¸ªå°±ä¸šæ–¹å‘ï¼Œéš¾åº¦è¾ƒé«˜ï¼Œç®¡åŸ¹ç”Ÿå’Œé‡‘èæ–¹å‘é—¨æ§›é«˜ï¼Œå¿…é¡»å¾—æ•´ä¸ªå¥½å­¦æ ¡çš„ç ”ç©¶ç”Ÿï¼ˆé‡åŒ–å²—å’Œå¤´éƒ¨åˆ¸å•†åŸºæœ¬ä¸Šå’±å­¦æ ¡åŸºæœ¬ä¸Šæ˜¯å·ä¸ä¸Šï¼Œå¯ä»¥ä¸åœ¨è¿™ä¸ªè·¯çº¿ä¸ŠèŠ±è´¹å¤ªå¤šç²¾åŠ›<img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/18B4C9C0.png" alt="18B4C9C0" style="zoom:33%;" />)</p></li><li><p>ç®¡ç†æ–¹å‘ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºäº§å“ç»ç†ã€äº§å“è¿è¥ã€äººåŠ›èµ„æºã€å¸‚åœºè¥é”€ç­‰ç­‰</p></li><li><p>è‡ªå·±æ‰¾æ–¹å‘ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç¡¬ä»¶å¼€å‘ã€ç®—æ³•ã€ç§‘ç ”ç­‰ç­‰</p></li></ol><h3 id="è¯¾ç¨‹è”ç³»">è¯¾ç¨‹è”ç³»</h3><p>ç®€å•ä»‹ç»ä¸€ä¸‹è¯¾ç¨‹ä¹‹é—´çš„è”ç³»ï¼Œæ•°å­¦ç›¸å…³çš„è¯¾ç¨‹æ˜¯ä¸‰é—¨AIè¯¾ç¨‹ç›¸å…³çš„é‡è¦åŸºç¡€ï¼ŒåŸºæœ¬å¼€å‘ä¸ŠJAVAå’Œæ•°æ®åº“æ˜¯å¤§éƒ¨åˆ†å¼€å‘çš„åŸºç¡€ã€‚åé¢éƒ½æ˜¯å¯¹å¼€å‘çš„ä¸€äº›å»¶æ‹“ã€‚</p><p>è¿™é‡Œç‰¹åˆ«æä¸€ä¸‹ç³»ç»Ÿå·¥ç¨‹ï¼Œç³»ç»Ÿå·¥ç¨‹æ˜¯å¾ˆç®¡ç†çš„ä¸€é—¨è¯¾ï¼Œä½†æ˜¯å‡†ç¡®æ¥è¯´æ˜¯ç®¡ç†ç§‘å­¦å·¥ç¨‹çš„ä¸€ä¸ªå…¥é—¨ï¼Œè¿™æ˜¯ä¸€é—¨å­¦æœ¯å¼•è·¯çš„è¯¾ç¨‹ï¼Œä»–ä¼šå¼•å¯¼ä½ è¿›å…¥ç®¡ç†ç§‘å­¦çš„å­¦æœ¯ä¸–ç•Œã€‚</p><h3 id="ä¸“ä¸šåˆ©å¼Š">ä¸“ä¸šåˆ©å¼Š</h3><p>è™½ç„¶è¯´æ—¢æ¥ä¹‹åˆ™å®‰ä¹‹ï¼Œä½†æ˜¯æˆ‘ä»¬è¦çŸ¥å·±çŸ¥å½¼ï¼Œæ‰èƒ½ç™¾æˆ˜ç™¾èƒœã€‚</p><p>ä¼˜åŠ¿ï¼šç›¸æ¯”äºè®¡ç®—æœºç§‘å­¦æˆ‘ä»¬æ›´åƒæ˜¯å›½å¤–çš„è½¯ä»¶å·¥ç¨‹ã€‚ï¼Œæˆ‘ä»¬åœ¨è½¯ä»¶ä¸šçš„æ™‹å‡æ˜¯éå¸¸é¡ºç•…çš„ï¼Œä½†æ˜¯å›½å†…çš„è½¯ä»¶ä¸šè²Œä¼¼å¯¹äºæ™‹å‡å¹¶ä¸æ˜¯å¾ˆæ„Ÿå†’ï¼›è€å¸ˆå¯¹çƒ­ç‚¹æŠŠæ¡ä¼šå¾ˆå‡†ï¼Œè€ƒç ”å¯é€‰æ‹©æ€§å¾ˆå¤§ã€‚</p><p>ç¼ºç‚¹ï¼šå¤§éƒ¨åˆ†è€å¸ˆéƒ½ä¸å¤§è¡Œï¼Œä¸ä¸“ç²¾ï¼Œè¦è‡ªå·±é€‰æ‹©ä¸“ç²¾å“ªä¸ªæ–¹å‘ï¼Œäººè¯ï¼Œè¦è‡ªå­¦ã€‚</p><h3 id="æ•™å¸ˆä»‹ç»è¯´çœŸè¯">æ•™å¸ˆä»‹ç»ï¼ˆè¯´çœŸè¯ï¼‰</h3><p>ä¸æ–Œï¼šä½ ä»¬æœ€å…ˆæ¥è§¦åˆ°çš„ä¸“ä¸šè€å¸ˆï¼Œè´Ÿè´£çš„è¯¾ä¸ºé¢å‘å¯¹è±¡å¼€å‘ã€æ•°æ®ç»“æ„ã€Javawebï¼›æœ€å¤§ç‰¹å¾å°±æ˜¯ï¼š<strong>æ‘†</strong>ï¼Œå¦‚æœä½ å¬ä¸æ‡‚ä»–è®²è¯¾é‚£å°±å¯¹äº†ï¼Œä»–ç¡®å®è®²ä¸æ˜ç™½ï¼Œå› æ­¤è¿™ä¸‰é—¨è¯¾è¦åŠªåŠ›è‡ªå­¦ï¼Œè‡ªå·±å¼€æ‚Ÿï¼›å› ä¸ºè¿™ä¸‰é—¨è¯¾éƒ½æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œå¥½åœ¨dbï¼ˆç®€ç§°ï¼‰çš„æœŸæœ«å‘½é¢˜æ€è·¯éå¸¸ç®€å•ï¼Œå°±æ˜¯ä½ å¹³æ—¶åšçš„é¢˜ï¼Œ<strong><em>åŸºæœ¬ä¸Šæ‰€æœ‰çš„æœŸæœ«è€ƒè¯•é¢˜ç›®éƒ½æ¥æºäºä½œä¸šé¢˜åº“å’Œå®éªŒé¢˜åº“</em></strong>ï¼Œæ‰€ä»¥åªè¦ä½ è‚¯å·å·ï¼Œæ‹¿ä¸ªé«˜åˆ†è¿˜æ˜¯ä¸éš¾çš„ã€‚</p><p>èµµèŒï¼šéå¸¸å¥½çš„ä¸€ä¸ªè€å¸ˆï¼Œå¾ˆä¸“ä¸šï¼Œç›®å‰å­¦æ ¡é‡Œåšå­¦æœ¯åšçš„æ¯”è¾ƒå¥½çš„è€å¸ˆï¼Œ<strong>ç»„é‡Œä¼šæ”¶æœ¬ç§‘ç”Ÿ</strong>ï¼Œä¸»è¦ç ”ç©¶æ–¹å‘æ˜¯ä¸€äº›å…ˆè¿›æ•°å­¦æ–¹æ³•ã€è®¡ç®—æœºç®—æ³•åœ¨ç®¡ç†ç§‘å­¦ä¸Šçš„åº”ç”¨ï¼Œ<strong>å¦‚æœä½ æœ‰ä¿ç ”æˆ–è€…å­¦æœ¯æƒ³æ³•å¯ä»¥å¤§äºŒå°±å»èµµè€å¸ˆçš„ç»„é‡Œå»è·Ÿç€è€å¸ˆè¯»è®ºæ–‡</strong>ã€‚æ•™æˆçš„è¯¾ç¨‹ä¸ºç³»ç»Ÿå·¥ç¨‹ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå­¦æœ¯å¯è’™çš„è¯¾ç¨‹ï¼Œè€å¸ˆä¼šå‘Šè¯‰ä½ æœ€ç®€å•çš„å­¦æœ¯ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œè€å¸ˆå¾ˆä¸¥æ ¼ï¼Œä¸Šè¯¾å¾ˆæœ‰æ¿€æƒ…ï¼ˆå—“é—¨å¾ˆå¤§ï¼‰ã€‚</p><p>è’‹å­¦è‹±ï¼šè€å¸ˆäººä¹Ÿè¿˜å¯ä»¥ï¼Œè´Ÿè´£çš„è¯¾ç¨‹æ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿã€è®¤è¯†å®ä¹ ã€ä¿¡æ¯ç³»ç»Ÿå¼€å‘ä¸ç®¡ç†ï¼Œ<strong>ä¸Šè¯¾äº‹æƒ…æ¯”è¾ƒå¤š</strong>ï¼Œä¼šæœ‰å¾ˆé¢‘ç¹çš„ç­¾åˆ°ã€ä½œä¸šï¼Œè€Œä¸”ä½œä¸šçš„è¦æ±‚ä¹Ÿå¾ˆå¤šï¼Œ<strong>ä½œä¸šæƒ³æ‹¿é«˜åˆ†æœ‰æ—¶å€™è¿˜è¦åˆ«å‡ºå¿ƒè£</strong>ï¼ˆä¸€ä¼šå„¿åœ¨è¯¾ç¨‹ä»‹ç»é‡Œç»†è¯´ï¼‰ã€‚</p><p>ç‹å†›ï¼š<strong>è„¾æ°”æ¯”è¾ƒæ€ªçš„è€å¸ˆï¼Œå¦‚æœä½ å’Œæ‰“å¥½å…³ç³»ä»–ä¼šåˆ†æ•°ç»™çš„ä¸é”™</strong>ï¼Œè‡³å°‘ä¸éš¾çœ‹ï¼ˆï¼Œè´Ÿè´£çš„è¯¾ç¨‹ï¼šè¿ç­¹å­¦ã€é‡‘èå­¦ã€æ•°å­¦å»ºæ¨¡ã€Rè¯­è¨€ä¸é‡åŒ–é‡‘èï¼Œæˆ‘ä¸ªäººè®¤ä¸ºä»–è¿ç­¹å­¦å’Œé‡‘èå­¦æ•™çš„è¿˜å‡‘åˆï¼Œå…¶ä»–çœŸä¸è¡Œï¼Œç½‘è¯¾çš„æ•ˆæœè¦æ¯”çº¿ä¸‹å¥½ï¼Œçº¿ä¸‹è®²è¯¾ä»–ä¼šåå­—ä¸æ¸…ï¼Œï¼ˆRè¯­è¨€ä¸é‡åŒ–é‡‘èå¾ˆå¤šå¹´æ²¡å¼€å‡ºæ¥äº†ï¼Œæ‰€ä»¥ä¹Ÿä¸çŸ¥é“ä»–æ•™çš„æ€ä¹ˆæ ·ï¼‰ï¼Œæ•°å­¦å»ºæ¨¡æ•™çš„æ˜¯çœŸçš„ä¸è¡Œï¼Œå®Œå…¨ä¸æ‡‚æ•°å­¦ï¼ˆï¼‰ã€‚</p><p>è®¡ç½‘è€å¸ˆæ¢äº†ï¼Œæˆ‘ä¸çŸ¥é“å’‹æ ·ï¼ˆ</p><p>èµµç…œè¾‰ï¼šæˆ‘æ¯”è¾ƒå–œæ¬¢çš„ä¸€ä¸ªè€å¸ˆï¼Œéå¸¸ä¸¥æ ¼ï¼Œä¼šåœ¨å¤§ä¸‰å¼€ä¸€ä¸ªç»„ï¼ˆä¸“é—¨ç»™æœ¬ç§‘ç”Ÿï¼‰ï¼Œä¸»è¦ç ”ç©¶é‡åŒ–é‡‘èæˆ–è€…nlpå·¥ä½œï¼Œ<strong>å¹³æ—¶çš„ç ”ç©¶ç”Ÿç»„é‡Œä¹Ÿæ˜¯æ”¶æœ¬ç§‘ç”Ÿçš„</strong>ã€‚è´Ÿè´£çš„è¯¾ä¸ºä¸‰é—¨AIä»¥åŠæ•°æ®åˆ†æç›¸å…³çš„è¯¾ç¨‹ï¼Œè¯¾ç¨‹éš¾åº¦è¾ƒå¤§ï¼Œæ¶‰åŠç¨‹åºè®¾è®¡å’Œæ•°å­¦ç®—æ³•æ¨å¯¼ï¼Œå¦‚æœèƒ½è·Ÿä¸‹æ¥ä¼šæœ‰å¾ˆå¤§çš„è¿›æ­¥ã€‚</p><p>ç¨‹é›ªï¼šè€å¸ˆäººè¿˜è¡Œï¼Œä¹Ÿæ˜¯ä¸»æ‰“æ‘†çƒ‚çš„è€å¸ˆã€‚è´Ÿè´£çš„è¯¾ç¨‹å†…å®¹ä¸ºï¼šå†³ç­–æ”¯æŒç³»ç»Ÿï¼Œæˆ‘ä¸å¥½è¯„ä»·ï¼Œæˆ‘æ„Ÿè§‰è¿™ä¸ªè¯¾ç¡®å®æ²¡å•¥å¤§ç”¨ï¼Œæ˜¯ä¸€ä¸ªä»‹ç»æ€§è¯¾ç¨‹ï¼Œå­¦ä¸åˆ°å¤ªå¤šæ–°ä¸œè¥¿ã€‚</p><p>ç‹ç´ æ¬£ï¼šå¤§å¥½äººï¼Œè´Ÿè´£ä¾›åº”é“¾ç®¡ç†è¯¾ç¨‹ï¼Œä¸»æ‰“ä¸€ä¸ªæ‘†å¤§çƒ‚ï¼Œè€ƒè¯•æå…¶ç®€å•ï¼Œæ˜¯æ•™æœºæ¢°å’Œä¾›åº”é“¾æ–¹é¢çš„ï¼Œä¾›åº”é“¾ç®¡ç†è¿™é—¨è¯¾è®²çš„å†…å®¹ä¸å¤ªç¡¬æ ¸ï¼Œä½†æ˜¯è€ƒè¯•çœŸçš„ä¸å¥½æ‹¿é«˜åˆ†å‘€ï¼Œå¤§å®¶å°å¿ƒ</p><p>å­™å»ºå‹‡ï¼šå­™å»ºå‹‡è€å¸ˆï¼Œæ•™çš„å¾ˆå¥½å¾ˆå®ç”¨ï¼Œæ˜¯å·¥ä¸šå·¥ç¨‹æ–¹å‘çš„ï¼Œæ•™çš„è¯¾å«åšerp</p><p>é»„äº®ï¼šä¸“ä¸šä¸»ä»»ï¼Œè´Ÿè´£è¯¾ç¨‹ï¼šæ•°æ®åº“ç³»ç»Ÿæ¦‚è®ºã€å¤§æ•°æ®å¼€å‘æŠ€æœ¯ã€ä¸“ä¸šå®ä¹ ï¼Œå¤§å¥½äººï¼Œé™¤äº†æ•°æ®åº“ä¼šæŒ‚äººï¼Œå…¶ä»–çš„éƒ½åŸºæœ¬ä¸ä¼šï¼Œæ˜¯å®å®åœ¨åœ¨çš„å¤§å¥½äººï¼Œè€ƒè¯•ä¼šç²¾å‡†çš„ç»™ä½ ç”»é‡ç‚¹ï¼Œå°±æ˜¯å¯èƒ½ä½ æŠŠæ¡ä¸ä½ï¼ˆå“­ï¼‰ã€‚</p><h3 id="è¯¾ç¨‹ä»‹ç»">è¯¾ç¨‹ä»‹ç»</h3><blockquote><p><strong>å¤§äºŒä¸Šå­¦æœŸ</strong></p></blockquote><p>æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ï¼šé‡åœ¨ç†è§£ï¼Œæœªæ¥åœ¨æœºå™¨å­¦ä¹ ä¸ç»Ÿè®¡å­¦ä¹ ä¸­æ¦‚ç‡è®ºå°†å‘æŒ¥ä»–å¼ºå¤§çš„åŠ›é‡ã€‚å¤šåšåšå¾€å¹´é¢˜ï¼Œè¦æ¯”é«˜æ•°çº¿ä»£ç®€å•çš„å¤šã€‚</p><p>å¤§å­¦ç‰©ç†ï¼šæ˜¯ä¸¤é—¨è¯¾ï¼Œåˆ†åˆ«æ˜¯åŠ›å­¦å’Œç”µç£å­¦ï¼Œéš¾åº¦ä¸å¤§ï¼Œç”¨é€”æ²¡æœ‰ï¼ˆæ˜¯çœŸçš„å®Œå…¨æ²¡ç”¨ï¼‰ï¼Œæ˜¯ç”±èµ„æå­¦é™¢çš„è€å¸ˆè´Ÿè´£æ•™ï¼Œ<strong>è€ƒè¯•å°é¢˜é€‰æ‹©æ¯”è¾ƒç®€å•ï¼Œå¤§é¢˜åŸºæœ¬ä¸ºè¯¾æœ¬ä¸Šçš„è¯¾åé¢˜åŸé¢˜ï¼Œ</strong>å¯ä»¥å¸¦è®¡ç®—å™¨ï¼Œæ¯”è¾ƒå®¹æ˜“æ‹¿é«˜åˆ†ã€‚</p><p>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼šä¿—ç§°JAVAï¼Œåˆ†ä¸ºå®éªŒå’Œè€ƒè¯•ä¸¤éƒ¨åˆ†ï¼Œéšç€è¿‘ä¸¤å¹´dbçš„æŒç»­æ‘†çƒ‚ï¼Œé¢å‘å¯¹è±¡è®¾è®¡è€ƒè¯•ä¹Ÿé€æ¸ç®€å•äº†ï¼Œä¹Ÿä¸»è¦ä»¥ä»–åœ¨æ¸…è§ˆäº‘å¹³å°å’Œå¤´æ­Œå¹³å°ï¼ˆéƒ½æ˜¯ä»–ç•™ä½œä¸šåšå®éªŒç”¨çš„å¹³å°ï¼‰ä¸Šçš„é¢˜åº“ä¸ºä¸»ã€‚<strong>ä½†æ˜¯è¿™é—¨è¯¾éå¸¸é‡è¦ï¼Œè¦ä»ä¸­æ˜ç™½é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºæœ¬æ€æƒ³ï¼Œç›®å‰é€Ÿåº¦è¦æ±‚ä¸é«˜çš„å¼€å‘ä¾æ—§æ˜¯ä»¥JAVAå…¨æ ˆä¸ºä¸»ï¼Œå¦‚æœæœªæ¥æœ‰å¼€å‘çš„æƒ³æ³•ï¼Œè¦åœ¨JAVAä¸Šä¸æ–­æ‹“å±•ã€‚</strong></p><p>ç¦»æ•£æ•°å­¦ï¼šæ˜¯å’Œæ•°å­¦å­¦é™¢ä¸€èµ·ä¸Šçš„è¯¾ï¼Œç”±æ•°ç»Ÿçš„è€å¸ˆæ•™æˆï¼Œä¸€èˆ¬æ˜¯éƒ­é™æ¢…è€å¸ˆï¼Œæ•™çš„ä¸é”™ï¼Œè€å¸ˆäººä¹Ÿä¸é”™ï¼Œä½†æ˜¯ç¦»æ•£æ•°å­¦æœ¬èº«å¾ˆéš¾ï¼Œä¸»è¦æ˜¯ç ”ç©¶ä»£æ•°ç†è®ºã€é›†åˆè®ºã€é€»è¾‘æ¨ç†ã€å›¾è®ºã€ç®€å•æ•°è®ºç­‰ï¼ˆéƒ½å¯ä»¥è¢«ä»£æ•°ç»Ÿä¸€ï¼‰ï¼Œç†è§£æ¯”è¾ƒå›°éš¾ï¼Œ<strong>æƒ³è¦è€ƒä¸€ä¸ªé«˜åˆ†é‡åœ¨ç†è§£</strong>ï¼Œè€Œä¸”ç¦»æ•£æ•°å­¦æ˜¯ä½ æœªæ¥ç ”ç©¶ä»£æ•°ã€è®¡ç®—æœºæ•°å­¦çš„ä¸€ä¸ªé‡è¦åŸºç¡€ã€‚</p><p>ç»Ÿè®¡å­¦ï¼šæ²¡å­¦æ˜ç™½ï¼ˆï¼Œè€å¸ˆè®²è¯¾è®²çš„ä¸å¤ªå¥½ï¼Œæ˜¯å¯ä»¥å¸¦è®¡ç®—å™¨çš„è€ƒè¯•ï¼Œå…·ä½“æ€ä¹ˆå¤ä¹ è¿™ä¸ªä¸å¤ªä¼šï¼Œè€ƒè¯•éš¾åº¦æˆ‘æ„Ÿè§‰ä¸å¤§ï¼Œä½†æ˜¯ä¸å¥½è€ƒé«˜åˆ†ï¼Œå»ºè®®å¤šåšåšè¯¾åé¢˜ã€‚</p><p>åˆ›ä¸šåŸºç¡€ï¼šäº”çº§åˆ†åˆ¶ï¼Œå°ç»„å±•ç¤ºç»“è¯¾ï¼Œæƒ³è¦æ‹¿95ï¼Œè¦çœ‹è€å¸ˆè¯„åˆ¤æ–¹å¼ï¼Œæœ‰äº›è€å¸ˆæ˜¯æŒ‰æŠ•ç¥¨æ¥çš„ï¼Œé‚£æ—¶å€™å°±æ‰¾ä¸€äº›äººç¼˜å¥½çš„äººç»“ç»„ï¼Œå¯ä»¥æé«˜æ‹¿95çš„æ¦‚ç‡ã€‚</p><blockquote><p><strong>å¤§äºŒä¸‹å­¦æœŸ</strong></p></blockquote><p>æ¯›æ¦‚ï¼šå¥½å¥½èƒŒèƒŒï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°ä¸€ä¸ªå«å­™æˆ¬çš„è€å¸ˆæ•™çš„å­¦ç”Ÿï¼Œå¦‚æœä½ æ˜¯ä»–æ•™çš„è¯·åŠ¡å¿…å¥½å¥½åšè¯¾ä¸Šå±•ç¤ºï¼Œè¿™ä¸ªè€å¸ˆä¼šç»™ä½ ç”»è€ƒç‚¹çš„ã€‚</p><p>ä¹ æ¦‚ï¼šæ²¡å­¦è¿‡ï¼ŒåŸºæœ¬åŒç†</p><p>è¿ç­¹å­¦ï¼šç‹å†›æ•™çš„è¯¾ï¼Œä»–å¯èƒ½ä¼šç»™ä½ æ•´ç‚¹æœ‰çš„æ²¡çš„ï¼Œå¯èƒ½ä½ è§‰å¾—æ²¡ä»€ä¹ˆç”¨çš„ç©æ„æˆ–è€…å’Œè¿™è¯¾æ²¡ä»€ä¹ˆå…³ç³»çš„ä¸œè¥¿ï¼Œè¿™äº›ä¸œè¥¿å°±è‡ªå·±è¯¾ä¸‹æ‰¾æ—¶é—´å»äº†è§£ä¸€ä¸‹ï¼Œä½ è®©ä»–è®²ä»–ä¹Ÿè¯´ä¸æ˜ç™½ï¼Œæˆ‘ä»¬é‚£å¹´æ²¡æœ‰è€ƒè¯•ï¼Œæ˜¯è®ºæ–‡ç»“è¯¾ï¼Œä¸çŸ¥é“ç°åœ¨å¦‚ä½•ï¼Œä»–è€ƒè¯•å‡ºçš„ä¼šæ¯”è¾ƒéš¾ï¼ˆä¸€äº›å­¦é•¿å­¦å§è¯´çš„ï¼‰ï¼Œå¥½å¥½å¤ä¹ ã€‚</p><p>æ•°æ®ç»“æ„ï¼šå¦‚æœä½ æƒ³è·¨è€ƒè®¡ç®—æœºï¼Œæ•°æ®ç»“æ„æ˜¯å¿…è€ƒçš„ï¼Œè™½ç„¶dbæ•™çš„å¾ˆä¸è¡Œï¼ˆ<img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/18C9DA25.png" alt="18C9DA25" style="zoom:33%;" />)ï¼Œä½†æ˜¯åŠ¡å¿…æŠŠå®éªŒéƒ½å¥½å¥½åšäº†ï¼Œè™½ç„¶ä¸€èˆ¬è®¡ç®—æœºè€ƒç ”è¦æ±‚ç”¨cè¯­è¨€æˆ–c++ä½†æ˜¯åŸºæœ¬çš„é€»è¾‘éƒ½æ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯è¡¨è¿°æ–¹å¼å˜äº†ä¸€ç‚¹ï¼Œå®éªŒåšå¥½äº†ä»¥åæ”¹æ¢ä¸€ä¸ªè¯­è¨€æ˜¯å¾ˆå®¹æ˜“çš„ä¸€ä¸ªäº‹æƒ…ã€‚è€ƒè¯•çš„è¯é€‰æ‹©éƒ½æ˜¯é¢˜åº“åŸé¢˜ï¼Œå¤§é¢˜æ˜¯æ–°é¢˜ï¼Œä½†æ˜¯è€ƒçš„ä¸éš¾ï¼Œæ‰‹å†™ä»£ç ä¸€èˆ¬æ˜¯ä»åä¸¤ç« æŸ¥æ‰¾æ’åºå‡ºï¼Œå°±ç®—ä¸æ˜¯ä¹Ÿä¼šå¾ˆç®€å•ï¼Œåœ¨åè¡Œä¹‹å†…è€Œä¸”å¦‚æœä¸ä¼šå†™ä»£ç å¯ä»¥ç›´æ¥å†™æ–‡å­—æµç¨‹ã€‚</p><p>æ•°æ®åº“ç³»ç»Ÿæ¦‚è®ºï¼šé»„äº®è€å¸ˆè´Ÿè´£ï¼Œè¯¾è®²å¾—å¯èƒ½ä¼šè®©ä½ è§‰å¾—æ¯”è¾ƒæ— èŠï¼Œä½†æ˜¯ä»–ä¸Šè¯¾è®²å¾—æ¯ä¸€å¥è¯åŸºæœ¬éƒ½æœ‰ç”¨ï¼Œé»„è€å¸ˆçš„ç‰¹ç‚¹å°±æ˜¯æ¯”è¾ƒæ¥åœ°æ°”ï¼Œä»–æ¯”è¾ƒå–œæ¬¢ç”¨ç®€å•çš„æŠ€æœ¯åšä¸€äº›çš®å®å¥½ç”¨çš„ä¸œè¥¿ã€‚æ•°æ®åº“ä¼šæœ‰å‡ æ¬¡è¯•éªŒï¼Œå°è±¡ä¸­éš¾åº¦ä¸å¤§ï¼Œæ•°æ®åº“çš„æŸ¥è¯¢sqlæ˜¯ä¸€ä¸ªé‡éš¾ç‚¹ï¼Œä¸€å®šè¦å¥½å¥½å­¦ï¼Œ<strong>è€Œä¸”æ•°æ®åº“æ˜¯å”¯ä¸€ä¸€ä¸ªä¼šæŒ‚äººçš„ä¸“ä¸šè¯¾</strong>ã€‚ä¸´è€ƒå‰ä»–ä¼šç”»é¢˜å‹ã€è€ƒç‚¹ï¼Œæœ€åè€ƒè¯•å°±æ˜¯æŒ‰é¢˜å‹è€ƒã€‚</p><p>ç³»ç»Ÿå·¥ç¨‹å¯¼è®ºï¼šèµµèŒè€å¸ˆè´Ÿè´£ï¼Œå¹³æ—¶åˆ†æœ‰ä¸Šè¯¾å›ç­”é—®é¢˜å’Œä½œä¸šï¼Œè¿˜æœ‰ä¸€ä¸ªè¯¾å ‚æµ‹éªŒã€‚ç»“è¯¾æ˜¯ä¸€ä¸ªå°ç»„è®ºæ–‡ï¼Œæœ‰ç­”è¾©ï¼›å› æ­¤å°ç»„è®ºæ–‡ä¸€å®šè¦åšçš„ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå°½å¯èƒ½è¦æœ‰åˆ›æ–°ç‚¹ï¼Œ<strong>è¿™é—¨è¯¾æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„è¯¾</strong>ï¼Œä¸€å®šè¦å¥½å¥½å­¦ä¸€ä¸‹ï¼Œè¿™é—¨è¯¾åŸºæœ¬ä¸Šå°±æŠŠç®¡ç†ç§‘å­¦çš„æ¡†æ¶è¯´æ˜ç™½äº†ã€‚</p><p>æ•°æ®é€šä¿¡ä¸ç½‘ç»œï¼šè®¡ç½‘ï¼Œ408ç§‘ç›®ä¹‹ä¸€ï¼Œè®¡ç®—æœºç½‘ç»œçš„çŸ¥è¯†ç‚¹æ¯”è¾ƒåºæ‚ï¼Œä½†æ˜¯æ˜¯å¾ˆæˆç³»ç»Ÿçš„ï¼Œå­¦è®¡ç½‘çš„æ—¶å€™ä¸€å®šè¦å­¦å®Œä¸€ç« å°±å¾€å›å¤ä¹ ä¸€ç« è¿›è¡Œæ€»ç»“ï¼Œå› ä¸ºæˆ‘ä»¬å­¦çš„æ˜¯è‡ªä¸‹å‘ä¸Šçš„ï¼Œæ¯å­¦ä¸‹ä¸€ç« éƒ½æ˜¯å¯¹ä¸Šä¸€ç« çš„å±è”½ï¼Œå½“ä½ å­¦å®Œä¸€ç« å›é¡¾çš„æ—¶å€™ä½ å°±èƒ½å¾ˆå¥½çš„ç†è§£ä¸Šä¸€å±‚çš„ä½œç”¨å’Œå±‚ä¸å±‚çš„å…³ç³»ã€‚å­¦å®Œä½ ä¼šå‘ç°è¿™ä¸ªé€šä¿¡ç»“æ„æ˜¯å¾ˆå·§å¦™çš„ã€‚</p><p>è®¡ç®—æœºæ“ä½œç³»ç»Ÿï¼šç”±è’‹å­¦è‹±è€å¸ˆæ•™æˆï¼Œå¼€å·è€ƒè¯•ï¼Œ4æ¬¡ä½œä¸šï¼Œå¹³æ—¶åˆ†å¾ˆå¤æ‚ï¼Œ4æ¬¡ä½œä¸šä»–ä¼šç»™ä½ æŒ‘å¾ˆå¤šå¥‡æ€ªçš„é”™è¯¯ï¼Œå°±åŠ¡å¿…é¡ºç€ä»–çš„æ„æ€å†™ï¼Œç¬¬ä¸€æ¬¡ä½œä¸šåŠ¡å¿…æŠŠè®ºæ–‡æ’ç‰ˆå¥½çœ‹ä¸€ç‚¹ï¼Œä»–å¾ˆçœ‹é‡è¿™ä¸ªï¼Œ<strong>æ“ä½œç³»ç»Ÿåœ¨åˆšå¼€å§‹å­¦çš„æ—¶å€™å¯èƒ½ä¼šä¼šå­¦ä¸æ˜ç™½ï¼Œå»ºè®®å¿«é€Ÿè¡¥ä¸€ä¸‹è®¡ç®—æœºåŸºç¡€ï¼Œå› ä¸ºä½ å¯èƒ½åˆšå¼€å§‹ç”šè‡³åˆ†ä¸æ¸…ä¸»å­˜å’Œè¾…å­˜â€¦â€¦</strong>è€ƒè¯•çš„è¯ï¼Œé¢˜é‡å¾ˆå¤§ï¼Œä½†é¢˜ç›®ä¸éš¾ï¼Œéœ€è¦ç†è§£åæ‰èƒ½åšå®Œã€‚</p><p>è®¤è¯†å®ä¹ ï¼šè¿˜æ˜¯è’‹å­¦è‹±è€å¸ˆè´Ÿè´£ï¼Œè¿™ä¸ªä¸€èˆ¬ä»¤å¤§å®¶æ¯”è¾ƒéš¾ç»·ï¼Œå› ä¸ºæ‰¾ä¸åˆ°åˆé€‚çš„å®ä¹ ï¼Œè¿™é‡Œæµ‡ä¸ªå†·æ°´ï¼Œä»¥å¤§äºŒçš„æ°´å¹³æ˜¯æ‰¾ä¸åˆ°å¼€å‘å®ä¹ å²—ä½çš„ã€‚è¿™ä¸ªè¯¾çš„é‡ç‚¹æ˜¯äº†è§£ä½ å·¥ä½œå•ä½çš„ç®¡ç†ä¿¡æ¯ç³»ç»Ÿï¼Œæ‰€ä»¥å…¶å®æ˜¯ä¸ªå•ä½å°±å¯ä»¥ï¼Œç„¶åè¦è®©è€å¸ˆæœ‰ä¸€ç§è€³ç›®ä¸€æ–°çš„æ„Ÿè§‰ï¼Œç»™ä»–ä¸€ç§ä½ éå¸¸ç”¨å¿ƒçš„æ„Ÿè§‰ï¼Œè®ºæ–‡æ’ç‰ˆä¸€å®šè¦æœ‰å›¾æœ‰æ–‡å­—ï¼Œå›¾ä¸‹è¾¹è¦æœ‰æ–‡å­—è§£é‡Šï¼Œæ ¼å¼ä¸€å®šè¦éƒ½å†™å¯¹ã€‚äº”çº§åˆ†åˆ¶ï¼Œå¦‚æœè¦æƒ³æ‹¿95åˆ†æ˜¯éœ€è¦ç­”è¾©çš„ã€‚</p><blockquote><p>å¤§ä¸‰ç¬¬ä¸€å­¦æœŸ</p></blockquote><p>ä»è¿™å­¦æœŸå¼€å§‹å°±è¦ä¸Šè‡ªå·±é€‰ä¿®çš„è¯¾ç¨‹äº†ï¼Œè¯¾ç¨‹ä¹Ÿå¼€å§‹æ¯”è¾ƒé‡é‡çº§ã€‚</p><p>Webå¼€å‘æŠ€æœ¯ï¼šdbçš„è¯¾ç¨‹ï¼Œçœ‹äº†ä¸Šè¾¹é‚£ä¸¤ä¸ªä½ ä¹ŸçŸ¥é“ä»–çš„é£æ ¼äº†ï¼Œæœ‰å®éªŒï¼Œè€ƒè¯•ç»“è¯¾ï¼Œè€ƒè¯•å¾ˆç®€å•ï¼Œä¹Ÿæ˜¯æŠ½é¢˜åº“ï¼Œä¸æ˜¯æŠ½é¢˜åº“çš„å¤§é¢˜å°±ç¨å¾®å†™å†™ï¼Œéƒ½æ¯”è¾ƒç®€å•ã€‚</p><p>ä¿¡æ¯ç³»ç»Ÿå¼€å‘ä¸ç®¡ç†ï¼šè’‹å­¦è‹±çš„è¯¾ç¨‹ï¼Œç±»ä¼¼è½¯ä»¶å·¥ç¨‹ï¼Œæœ‰å®éªŒè¯¾ï¼Œå®éªŒè¯¾æå…¶é€†å¤©ï¼Œä»¥åŠå¤©ä¸ºå•ä½ä¸Šè¯¾ï¼Œä¸‹è¯¾å‰è¦äº¤å®éªŒæŠ¥å‘Šï¼Œå®éªŒå†…å®¹å…¨æ˜¯ç”»å›¾è®¾è®¡ï¼Œä¸Šè¯¾ä¸€å®šå¥½å¥½å¬ï¼Œä¸ä¼šç”»ä¸€å®šå»é—®ä»–ï¼Œè¦ä¸ç„¶æ ¹æœ¬ç”»ä¸å¯¹ã€‚è€ƒè¯•é—­å·ï¼Œæœ‰é‡ç‚¹ï¼Œä½†æ˜¯ç»™åˆ†å¾ˆè¿·ï¼Œæ²¡ä»€ä¹ˆæŠ€å·§ï¼Œå°±æ˜¯çŒ›èƒŒã€‚</p><p>ä¿¡æ¯æ³•åŸºç¡€ï¼šé€‰ä¿®ï¼Œæ²¡å•¥ç”¨ï¼Œä¸æ¨èï¼ˆè™½ç„¶ä»–ç»™äº†æˆ‘ç›®å‰çš„æœ€é«˜åˆ†ï¼‰ï¼Œå–œæ¬¢æ³•å¾‹çš„å¯ä»¥å­¦ä¸‹ï¼Œåˆ†ä¸ºè¯¾ä¸Šå±•ç¤ºå’Œç»“è¯¾è®ºæ–‡ï¼Œéš¾åº¦ä¸å¤§ã€‚</p><p>å¤§æ•°æ®å¼€å‘æŠ€æœ¯ï¼šé»„äº®è€å¸ˆè´Ÿè´£ï¼Œå¼€å·ï¼Œå¯ä»¥å¸¦PPTï¼Œè€ƒè¯•å†…å®¹å…¨åœ¨PPTä¸Šï¼ŒPPTä¸Šä¼šæœ‰å°é—®é¢˜ï¼Œä¸Šè¯¾ä»–ä¼šç»™ä½ è¯´ç­”æ¡ˆï¼Œè¯´ç­”æ¡ˆçš„æ—¶å€™åŠ¡å¿…è®°ä¸€ä¸‹ï¼Œå› ä¸ºç®€ç­”é¢˜å°±æ˜¯é‚£äº›å°é—®é¢˜ï¼ˆï¼ï¼‰ï¼Œæœ‰å¹³æ—¶ä½œä¸šï¼Œä½†æ˜¯å¥½åƒæƒé‡ä¸å¤§ã€‚</p><p>é¡¹ç›®ç®¡ç†ï¼šé€‰ä¿®ï¼Œ<del>æ˜¯ä¸€ä¸ªå·¥å•†ç®¡ç†çš„è€å¸ˆè´Ÿè´£ï¼Œç‹æ—è€å¸ˆï¼Œä»–çš„ç»„ä¹Ÿæ”¶æœ¬ç§‘ç”Ÿï¼Œä½ ä»¬æƒ³å»ä¹Ÿå¯è”ç³»ä¸€ä¸‹ï¼Œç›®å‰å­¦æœ¯åšçš„ä¹Ÿæ˜¯é£å¤´æ­£ç››ï¼Œä½†æ˜¯ä½†æ˜¯è€å¸ˆå¾ˆä¸¥æ ¼ï¼Œæœ‰ä¸€ä¸ªè¯¾ä¸Šå±•ç¤ºå¾ˆä¸å¥½åšï¼Œè€ƒè¯•ä¹Ÿæ¯”è¾ƒéš¾ï¼Œå¦‚æœä½ å®åœ¨ä¸æƒ³å­¦ä»£ç äº†å¯ä»¥å°è¯•ã€‚</del>ç°åœ¨å·²ç»åŠ å…¥èµµç…œè¾‰å®‡å®™ï¼Œç¬¬ä¸€å¹´ä¸çŸ¥é“æ€ä¹ˆæ ·ï¼Œå¾…æ›´æ–°</p><p>ä¼šè®¡å­¦ï¼šé€‰ä¿®ï¼Œè´¾æ­£æ­¦è´Ÿè´£ï¼Œä¼šè®¡çš„ä¸€ä¸ªè€å¸ˆï¼Œå¥½åƒæ˜¯æˆ‘ä»¬å­¦é™¢çš„å…šå§”ä¹¦è®°ï¼Œè¿™ä¸ªæˆ‘å°±ä¸å¥½è¯„ä»·äº†ï¼Œä½ éƒ½æ¥å­¦ä¿¡ç®¡äº†ï¼Œä¸ºç”šä¹ˆè¦é€‰ä¿®ä¼šè®¡å­¦å‘¢ï¼Œä¸è¿‡ä½ è¦æ˜¯æƒ³çº¯ç®¡ç†ï¼Œé‚£å°±é€‰å§ï¼Œè¦ä¸ç„¶å­¦åˆ†å‡‘ä¸å¤Ÿï¼ˆ</p><p>æ•°æ®æŒ–æ˜ä¸æ•°æ®ä»“åº“ï¼šé€‰ä¿®ï¼Œ<strong>èµµç…œè¾‰è€å¸ˆçš„è¯¾æ˜¯æœ‰ç›¸äº’å…³ç³»çš„ï¼Œåƒä¸‡ä¸è¦è·³ç€é€‰ï¼Œå¦åˆ™ä¼šæ¯”è¾ƒéš¾å—</strong>ï¼Œæ•°æ®æŒ–æ˜ä¸æ•°æ®ä»“åº“æ˜¯ä¸€ä¸ªä»‹ç»æ€§çš„è¯¾ç¨‹ï¼Œè¯¾æœ¬å«introductionto date miningï¼Œæ˜¯è¿™å¥—åˆ†æçš„èµ·æ­¥è¯¾ç¨‹ï¼Œä»–ä¸»è¦ä»‹ç»äº†ä¸€å¥—ä»æ•°æ®åˆ°æ•°æ®åˆ†æçš„æµç¨‹ï¼Œä»¥åŠæµç¨‹çš„éƒ¨åˆ†ç»†èŠ‚ï¼Œ<strong>è®ºæ–‡ç»“è¯¾</strong>ï¼Œä¸­é—´ä¼šæœ‰å¾ˆå¤šå°ä½œä¸šï¼Œä½†æ˜¯ä¸ä¼šå¾ˆåŠæ—¶çš„æ”¶ï¼Œå¦‚æœä½ æƒ³å¥½å¥½å­¦çš„è¯çš„ä¸€å®šè¦è®°ä½æ¯æ¬¡çš„å°ä½œä¸šï¼Œ<strong>ä»–ç•™å®Œä½œä¸šå°±åœ¨è®°äº‹æœ¬ä¸Šå†™ä¸€ä¸‹ä»¥é˜²å¿˜è®°</strong>ï¼Œæœ‰å®éªŒè¯¾ï¼Œå®éªŒè¯¾æœ‰ä¸€å®šéš¾åº¦ï¼Œå¦å¤–ï¼Œ<strong>æ•°æ®æŒ–æ˜é‡Œè™½ç„¶æ²¡æœ‰Pythonå­—æ ·ï¼Œä½†æ˜¯åŒæ ·éœ€è¦å­¦ä¹ Python</strong>ï¼Œè€Œä¸”Pythonè¯¾ä¸Šæ˜¯ä¸æ•™çš„ï¼Œä½ è¦åœ¨æš‘å‡è‡ªå­¦ã€‚</p><p>Pythoné«˜ç»´æ•°æ®åˆ†æï¼šé€‰ä¿®ï¼Œèµµç…œè¾‰è€å¸ˆè´Ÿè´£ï¼Œ<strong>ç›¸å½“äºæ•°æ®æŒ–æ˜çš„è¿›é˜¶è¯¾ç¨‹</strong>ï¼Œå…¶ä¸»è¦æ˜¯ç ”ç©¶åŸºæœ¬çš„çŸ©é˜µå˜æ¢ä¼˜åŒ–ä»¥åŠå¤šå…ƒç»Ÿè®¡çš„åº”ç”¨ï¼Œä¸»è¦æŠ“ä½é«˜ç»´æ•°æ®è¿™ä¸€ç‰¹æ®Šæ•°æ®è¿›è¡Œåˆ†æï¼Œå› æ­¤ä¸å†æ˜¯å…¨æµç¨‹çš„ä»‹ç»ï¼Œæ˜¯ä¸»è¦å¯¹ï¼ˆæ•°æ®æŒ–æ˜ï¼‰ç®—æ³•çš„ç ”ç©¶ï¼Œå¹¶ç”¨Pythonè¿›è¡Œç¼–ç¨‹ï¼Œ<strong>æ˜¯å¾ˆç¡¬æ ¸çš„ä¸€é—¨è¯¾</strong>ï¼Œç†è§£ä¸Šæ˜¯æœ‰é—¨æ§›çš„ï¼Œæ•™æçº¯è‹±æ–‡ï¼Œ<strong>è®ºæ–‡ç»“è¯¾</strong>ï¼Œå’Œæ•°æ®æŒ–æ˜ä¸€æ ·ä¹Ÿæ˜¯æœ‰å¾ˆå¤šå°ä½œä¸šï¼Œç›¸æ¯”æ•°æ®æŒ–æ˜å®éªŒä¼šæ›´å¤šã€‚</p><blockquote><p>å¤§ä¸‰ç¬¬äºŒå­¦æœŸ</p></blockquote><p>å°±ä¸šæŒ‡å¯¼ï¼šè¾…å¯¼å‘˜æ•™ï¼Œæ²¡å•¥å¯è¯´çš„ï¼Œç»“è¯¾ä¸€èˆ¬ä¸ºç®€å†+é¢è¯•</p><p>é‡‘èå­¦ï¼šé€‰ä¿®ï¼Œå®é™…ä¸Šæ˜¯é‡‘èå·¥ç¨‹ï¼Œä¸»è¦å†…å®¹æ˜¯äº†è§£è´§å¸çš„è¡ç”Ÿç‰©ï¼ˆæˆ‘å¬è¯´é‡‘èå·¥ç¨‹æ˜¯æœ€ç®€å•çš„é‡‘èï¼‰ï¼Œç‹å†›çš„è¯¾ï¼Œè¿™<strong>æ˜¯ä»–è®²çš„å”¯ä¸€è¿˜è¡Œçš„è¯¾ï¼Œè®²çš„æ¯”è¾ƒé€šä¿—æ˜“æ‡‚</strong>ï¼Œå¦‚æœä»–è¿˜æ˜¯è®ºæ–‡ç»“è¯¾æ˜¯å¯ä»¥é€‰çš„ï¼Œå¦‚æœä»–æ”¹æˆäº†å¼€å·è€ƒè¯•ï¼Œå—¯ï¼Œç‹å†›çš„è€ƒè¯•å¬è¯´ä¸æ˜¯å¾ˆè¡Œã€‚</p><p>ä¿¡æ¯èµ„æºç»„ç»‡ä¸ç®¡ç†ï¼šé€‰ä¿®ï¼Œè¿˜æ˜¯ç‹å†›çš„è¯¾ï¼Œæ²¡ä¸Šè¿‡å…·ä½“è®²å•¥ä¹Ÿä¸æ¸…æ¥šï¼Œå»å¹´æ˜¯è®ºæ–‡ç»“è¯¾ï¼Œä¸è¿‡ä»–çš„è¯¾ç»“è¯¾æœ‰å•†é‡çš„ä½™åœ°ã€‚</p><p>ä¿¡æ¯å®‰å…¨æŠ€æœ¯ï¼šé€‰ä¿®ï¼Œæ˜¯ç”±è®¡ç®—æœºå­¦é™¢çš„è€å¸ˆäºä¸ƒé¾™è´Ÿè´£ï¼Œæ˜¯ä¸€ä¸ªä»‹ç»æ€§è´¨çš„è¯¾ç¨‹ï¼Œå¼€å·è€ƒè¯•ï¼Œè€ƒçš„æ¯”è¾ƒç®€å•ï¼Œè€å¸ˆäººå¾ˆå¥½ã€‚</p><p>ERPç³»ç»ŸåŠå…¶åº”ç”¨ï¼šé€‰ä¿®ï¼Œä»‹ç»ç›´æ¥å¤åˆ¶å­™å»ºå‹‡è€å¸ˆçš„ä»‹ç»äº†ï¼Œå­™å»ºå‹‡è€å¸ˆï¼Œæ•™çš„å¾ˆå¥½å¾ˆå®ç”¨ï¼Œæ˜¯å·¥ä¸šå·¥ç¨‹æ–¹å‘çš„ï¼Œæ•™çš„è¯¾å«åšerpï¼Œæ¯”è¾ƒå¥½ç©å„¿å¬è¯´ã€‚</p><p>å†³ç­–æ”¯æŒç³»ç»Ÿï¼šé€‰ä¿®ï¼Œç¨‹é›ªè€å¸ˆè´Ÿè´£ï¼Œå†³ç­–æ”¯æŒç³»ç»Ÿæ˜¯ä¸€ä¸ªéå¸¸ç¬¼ç»Ÿçš„ä»‹ç»æ€§è¯¾ç¨‹ï¼Œåªè´Ÿè´£ä»‹ç»ä»€ä¹ˆæ˜¯ï¼Œç”¨ä»€ä¹ˆçŸ¥è¯†æ„é€ ï¼Œä¸åŒ…å«ä»»ä½•å®æ“ï¼Œè€Œä¸”ç›¸å¯¹ä»‹ç»çš„ä¸å¤Ÿå…ˆè¿›ï¼Œæ‰€ä»¥è¯¾æ˜¯æ²¡å•¥ç”¨çš„ï¼Œå®éªŒä¹Ÿæ¯”è¾ƒæ— èŠï¼Œç»“è¯¾è®ºæ–‡çš„æ¨èä¹Ÿä»¤äººæ¯”è¾ƒéº»ï¼Œå—¯ï¼Œä¸æ˜¯éå¸¸æ¨èã€‚</p><p>æ•°å­¦å»ºæ¨¡ï¼šé€‰ä¿®ï¼Œç‹å†›æ•™çš„ï¼Œä¸Šè¯¾ä½“éªŒæå·®ï¼Œä¸Šè¯¾ä¼šè®²Rè¯­è¨€ï¼ˆä½†æ˜¯ä»–å®Œå…¨ä¸æ‡‚æ•°å­¦å»ºæ¨¡ï¼ŒRè¯­è¨€è®²çš„ä¹Ÿéå¸¸ä¸€èˆ¬ï¼ï¼‰å¦‚æœï¼Œä»–æœ‰ä¸€ä¸æƒ³è¦è€ƒè¯•ç»“è¯¾çš„å¿µå¤´ï¼Œ<strong>ä½ ä»¬ä¸€å®šè¦é€¼ä»–æ”¹æˆè®ºæ–‡ç»“è¯¾ï¼</strong>å› ä¸ºæ•°å­¦å»ºæ¨¡æ˜¯ä¸€ä¸ªéå¸¸é¢å‘åº”ç”¨çš„è¯¾ç¨‹ï¼Œæ˜¯å¯¹å„ç§ç°å®é—®é¢˜çš„æ•°å­¦å»ºæ¨¡ï¼Œè€ƒè¯•å®Œå…¨æ²¡åŠæ³•è€ƒå‡ºæ¥ï¼Œ<strong>ä½†æ˜¯ä½ è¦å¿½æ‚ å¥½äº†ï¼Œæ‹¿ä¸ªé«˜åˆ†å¾ˆå®¹æ˜“</strong>ã€‚</p><p>ä¾›åº”é“¾ç®¡ç†ï¼šé€‰ä¿®ï¼Œç‹ç´ æ¬£è€å¸ˆè´Ÿè´£ï¼Œå¤§å¥½äººï¼Œè´Ÿè´£ä¾›åº”é“¾ç®¡ç†è¯¾ç¨‹ï¼Œä¸»æ‰“ä¸€ä¸ªæ‘†å¤§çƒ‚ï¼Œè€ƒè¯•æå…¶ç®€å•ï¼Œæ˜¯æ•™æœºæ¢°å’Œä¾›åº”é“¾æ–¹é¢çš„ï¼Œ<strong>ä¾›åº”é“¾ç®¡ç†è¿™é—¨è¯¾è®²çš„å†…å®¹ä¸å¤ªç¡¬æ ¸ï¼Œä½†æ˜¯è€ƒè¯•çœŸçš„ä¸å¥½æ‹¿é«˜åˆ†å‘€</strong>ï¼Œå¤§å®¶å°å¿ƒã€‚</p><p>ç»Ÿè®¡å­¦ä¹ ä¸æœºå™¨å­¦ä¹ ï¼šé€‰ä¿®ï¼Œèµµç…œè¾‰å®‡å®™ç¬¬ä¸‰éƒ¨ï¼Œè¿™ä¸€éƒ¨æ‘†è„±äº†ä¹‹å‰ä½“ç³»ï¼Œä»è´å¶æ–¯ç»Ÿè®¡çš„è§’åº¦è¿›è¡Œå»ºæ¨¡ï¼Œæ¦‚ç‡è§’åº¦çš„å»ºæ¨¡å¾ˆå¤§ç¨‹åº¦å¼¥è¡¥äº†æ ·æœ¬å¯¹ä¸è¶³çš„ç¼ºç‚¹ï¼Œæ˜¯å¯¹ä¹‹å‰è¯¾ç¨‹çš„å‡åï¼Œä¸€èˆ¬åˆ°è¿™é‡Œï¼Œç»å¤§éƒ¨åˆ†åŒå­¦å·²ç»æ”¾å¼ƒäº†ï¼Œæˆ‘ä¸Šè¿™è¯¾çš„æ—¶å€™äº¤ä½œä¸šçš„åªæœ‰ä¸ƒå…«ä¸ªäººï¼Œå› æ­¤éš¾åº¦å…¶å®éå¸¸å¤§äº†ï¼Œ<strong>ç»“è¯¾è¿˜æ˜¯è®ºæ–‡ç»“è¯¾</strong>ã€‚</p><p>Rè¯­è¨€ä¸é‡åŒ–é‡‘èï¼šé€‰ä¿®ï¼Œç‹å†›è´Ÿè´£ï¼Œä¸¤å¹´æ²¡å¼€å‡ºæ¥äº†ï¼Œä¸çŸ¥é“æ€ä¹ˆæ ·ã€‚</p><p>ä¸“ä¸šå®ä¹ ï¼šæœ€åä¸€é—¨ä¿ç ”è¦ç”¨çš„è¯¾äº†ï¼Œé»„äº®è€å¸ˆè´Ÿè´£ï¼Œè¦æ±‚åº”ç”¨æ–°æŠ€æœ¯ï¼Œåšä¸€äº›<strong>æœ‰ç”¨çš„ä¸œè¥¿</strong>ï¼Œä¸€å®šå¾—æœ‰ç”¨ï¼Œæ²¡å•¥ç”¨çš„ä¸œè¥¿é»„è€å¸ˆä¸€èˆ¬ä¸å’‹è®¤å¯ï¼Œè¿™é—¨è¯¾å¯ä»¥å‚è€ƒç§‘åˆ›æ¯”èµ›çš„ä¸€äº›äº§å“ã€‚</p><h3 id="ä¸Šè¯¾ä¸æ•™çš„å°å·¥å…·">ä¸Šè¯¾ä¸æ•™çš„å°å·¥å…·</h3><p>éƒ½æ˜¯æˆç†Ÿçš„å¸¦å­¦ç”Ÿäº†ï¼Œæœ‰äº›ä¸œè¥¿è€å¸ˆä¸Šè¯¾æ˜¯ä¸æ•™çš„ï¼Œä½†æ˜¯ä½ æ˜¯å¿…é¡»ä¼šçš„ï¼ŒåŒ…æ‹¬ä¸€äº›æŸ¥èµ„æ–™ã€æ‰¾èµ„æºã€çœ‹è®ºæ–‡çš„ä¸œè¥¿ï¼Œè¿˜æœ‰ä¸€äº›å®ç”¨å·¥å…·ã€‚</p><p><strong>ç§‘å­¦ä¸Šç½‘ï¼š</strong>ä¸èƒ½ç»†è¯´ï¼Œä¼šå°±æ˜¯ä¼šä¸ä¼šå°±æ˜¯ä¸ä¼šï¼Œä½œä¸ºä¸€åå­¦ä¿¡ç®¡çš„äººï¼Œä½ ä¸ä¼šä¸çŸ¥é“ä¸€äº›å›½å¤–çš„åšå®¢æ¯”å›½å†…å†™çš„å¥½å¤ªå¤šå§ï¼ˆï¼‰</p><p><strong>å­¦æ ¡VPNï¼š</strong><ahref="http://vpn.neuq.edu.cn/login">æ ¡å¤–è¿œç¨‹èµ„æºè®¿é—®ç³»ç»Ÿï¼ˆWebVPNï¼‰(neuq.edu.cn)</a>å¯ä»¥é€šè¿‡è¿™ä¸ªç©æ„è®¿é—®æ ¡å†…ç½‘ï¼ˆç­‰ä»·äºè¿æ¥æ ¡å›­ç½‘ï¼‰ï¼Œå¯ä»¥è®¿é—®çŸ¥ç½‘ã€websciç­‰è®ºæ–‡ç½‘ç«™ï¼Œå¹¶ä¸”å…è´¹ä¸‹è½½ã€‚ç¼ºç‚¹æ˜¯ä¸å¤ªç¨³å®šï¼Œ</p><p><strong>æ€»æ ¡VPNï¼š</strong><ahref="https://pass.neu.edu.cn/tpass/login?service=https%3A%2F%2Fwebvpn.neu.edu.cn%2Flogin%3Fcas_login%3Dtrue">æ™ºæ…§ä¸œå¤§--ç»Ÿä¸€èº«ä»½è®¤è¯(neu.edu.cn)</a>åŠŸèƒ½ä¸Šæ˜¯å·®ä¸å¤šçš„ï¼Œè®ºæ–‡å¯èƒ½ä¹°çš„ç›¸å¯¹å…¨ä¸€ç‚¹ï¼Œæ›´åŠ ç¨³å®šã€‚</p><p><strong>æ€»æ ¡é‚®ç®±ï¼š</strong>åˆ†æ ¡çš„é‚®ç®±ç”³è¯·æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œä½†æ˜¯å½“ä½ æå®Œæ€»æ ¡VPNçš„æ—¶å€™ä½ å°±æåˆ°äº†ä¸€ä¸ªæ€»æ ¡çš„é‚®ç®±ï¼Œè€Œå¤§éƒ¨åˆ†ä¸“ä¸šè½¯ä»¶éƒ½æ˜¯å¯ä»¥å‡­å€Ÿå­¦ç”Ÿé‚®ç®±å…è´¹ä½¿ç”¨çš„å“¦ã€‚</p><p><strong>JetBrainsï¼š</strong>ä¸€ä¸ªå…¬å¸çš„åå­—ï¼Œä¸»è¦æ˜¯å„ç§IDEï¼Œå…¶IDEï¼ˆç»§æ‰¿å¼€å‘ç¯å¢ƒï¼‰éƒ½éå¸¸å¥½ç”¨ï¼Œä¸“ä¸šç‰ˆæ”¶è´¹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ€»æ ¡é‚®ç®±ç™½å«–ã€‚</p><p><strong>easyScholarï¼š</strong>ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œå¯ä»¥æ˜¾ç¤ºå„ç§æ–‡ç« çš„è¯„çº§ä»¥åŠå½±å“å› å­ã€‚</p><p><strong>çŸ¥äº‘æ–‡çŒ®ç¿»è¯‘ï¼š</strong>å…è´¹çš„è®ºæ–‡ç¿»è¯‘è½¯ä»¶ï¼Œéå¸¸å¥½ç”¨ï¼Œçœ‹æ–‡çŒ®åˆ©å™¨ã€‚</p><p><strong>SciHubCRXï¼š</strong>æµè§ˆå™¨æ’ä»¶ï¼Œæä¾›ç›´æ¥åœ¨scihubä¸Šæœç´¢æ–‡çŒ®ï¼Œscihubæ˜¯ä¸€ä¸ªè‘—åçš„å…è´¹æ–‡çŒ®åˆ†äº«çš„ç½‘ç«™ã€‚</p><p><strong>iTranlatorï¼š</strong>æµè§ˆå™¨æ’ä»¶ï¼Œå¯ä»¥å¿«é€Ÿç¿»è¯‘æµè§ˆå™¨é¡µé¢çš„è‹±æ–‡ã€‚</p><p><strong>z-libraryï¼š</strong><ahref="https://singlelogin.re/">Z-Library Project(singlelogin.re)</a>ï¼Œéœ€è¦ç¿»ï¼Œå½±å­å›¾ä¹¦é¦†ï¼Œä¹¦éå¸¸å…¨ã€‚</p><p><strong>å®‰å¨œçš„æ¡£æ¡ˆï¼š</strong><ahref="https://zh.annas-archive.org/">å®‰å¨œçš„æ¡£æ¡ˆ(annas-archive.org)</a>ï¼Œå¯å¹³æ›¿zlibraryï¼Œå½±å­å›¾ä¹¦é¦†ï¼Œä½ æƒ³æ‰¾çš„å¤§éƒ¨åˆ†å›½å¤–çš„ä¹¦è¿˜æœ‰æ¯”è¾ƒæœ‰åçš„ä¸­æ–‡æ•™æéƒ½å¯ä»¥æ‰¾åˆ°ï¼Œè¿æ°”å¥½å¯ä»¥ç›´æ¥è¿›ã€‚</p><p><strong>å“”å“©å“”å“©å¤§å­¦ï¼š</strong>æ‡‚éƒ½æ‡‚ï¼Œé»‘é©¬ç¨‹åºå‘˜å…¥é—¨</p><p><strong>æ–¯å¦ç¦CSç³»åˆ—å…¬å¼€è¯¾ï¼š</strong>æˆ‘ä»¬éœ€è¦å¬å¾—ä¸å¤šï¼Œä½†æ˜¯å¦‚æœä½ æƒ³æ‰©å±•è§†é‡ï¼Œè¿™å¥—è¯¾éå¸¸å¥½ï¼Œä¸è¿‡æ˜¯è‹±æ–‡å“¦ï¼ˆbç«™å¯èƒ½æœ‰ç†Ÿè‚‰ï¼‰<ahref="https://www.baidu.com/link?url=qXa8r3Jy8wlfz9e8X3AMR74zbbvFAYLfNFvuOse8Es-kUU_feT-bdNS6_gTKMwJ5MSTm-Y9xql6cVWZU_BqFlq&amp;wd=&amp;eqid=a936701500013dec0000000264df181c">CS101</a></p><p><strong>Leecodeï¼š</strong>è‘—ååˆ·é¢˜å¹³å°ï¼Œå¯èƒ½æ”¶è´¹ï¼Œä¸è¿‡æœ‰å­¦æ ¡ojå¹³æ›¿<ahref="http://newoj.acmclub.cn/">ï¼ˆå­¦æ ¡OJï¼‰</a></p><h3 id="å¦‚ä½•å­¦å¥½">å¦‚ä½•å­¦å¥½</h3><blockquote><p>è™½ç„¶æˆ‘å­¦çš„ä¹Ÿä¸æ˜¯å¾ˆè¡Œï¼Œä½†æ˜¯ç»éªŒè¿˜æ˜¯å·®ä¸å¤šçš„</p></blockquote><p><strong><em>å¤šä¸Šæ‰‹ï¼ï¼ï¼ï¼</em></strong></p><p>ä»£ç ç±»çš„è¯¾ç¨‹ä¸€èˆ¬éƒ½éœ€è¦ä½ å¤šåŠ¨æ‰‹ï¼Œå¤šå†™ï¼Œå¤šç»ƒï¼Œè¿™ä¸ªä¸€å®šä¸èƒ½æ‘†çƒ‚ï¼Œå¦‚æœä½ ä¸å†™ï¼Œé‚£ä½ å¿…ç„¶æ˜¯å­¦ä¸ä¼šï¼ˆæœ‰ç‚¹ç»å¯¹ï¼‰ã€‚</p><p><strong><em>å¤šç±»æ¯”ï¼ï¼ï¼</em></strong></p><p><strong>ç†è§£å¾ˆé‡è¦</strong>ï¼Œå¤§éƒ¨åˆ†è¯¾ç¨‹çš„åŸç†å…¶å®å¾ˆç®€å•ï¼Œå¤§éƒ¨åˆ†éƒ½èƒ½ä»ç”Ÿæ´»ä¸­ç±»æ¯”ï¼Œè€Œä¸”å¾ˆå¤šéƒ½åŒ…å«ä¸€äº›ç®¡ç†æ€æƒ³ã€‚æ¯”å¦‚æ“ä½œç³»ç»Ÿé‡Œå­˜åœ¨å…±äº«å†…å­˜çš„çº¿ç¨‹äº’æ–¥è®¿é—®ï¼Œå…¶å®æˆ‘ä»¬åšä¸€ä¸ªæ¯”è¾ƒä¸‹æµçš„ç±»æ¯”ï¼ˆï¼‰ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå…¬å…±å•æ‰€ï¼ˆå…±äº«å†…å­˜ï¼‰ï¼Œä¸åŒäººï¼ˆçº¿ç¨‹ï¼Œè¿™äº›äººææ€•è¿˜æœ‰ç‚¹å°¿é¢‘ï¼‰è¦å»è¿™ä¸ªå•æ‰€ï¼Œé‚£ä¹ˆè¿™äº›è°ƒåº¦ç®—æ³•å°±å¾ˆå®¹æ˜“ç†è§£äº†ã€‚</p><p><strong><em>å­¦å¥½æ•°å­¦ï¼ï¼</em></strong></p><p>å¤šå»äº†è§£åŸºæœ¬çš„è®¡ç®—æœºæ•°å­¦ï¼Œè¿™ä¼šä¸ºä½ åé¢çš„å­¦ä¹ æ‰“ä¸‹è‰¯å¥½çš„åŸºç¡€ã€‚è‡³äºè®¡ç®—æœºæ•°å­¦æ˜¯ä»€ä¹ˆï¼Œè¦å­¦ä¼šè‡ªå·±ç”¨å·¥å…·å»æŸ¥ã€‚</p><p><strong><em>å¤šä¸Šç½‘æŸ¥ï¼</em></strong></p><p>è€å¸ˆä¸ä¼šçš„ï¼Œäº’è”ç½‘ä¼šæ•™ä½ ï¼Œä¸è¦ä»…ä»…ç™¾åº¦ä¹Ÿè¦å­¦ä¼šgoogleï¼Œæ€ä¹ˆgoogleå°±å¾—è‡ªå·±å­¦ä¹ äº†ã€‚googleå’Œç™¾åº¦çš„å†…å®¹å«é‡‘é‡ï¼Œä½ åªè¦è‡ªå·±æŸ¥è¿‡å°±çŸ¥é“ã€‚å°¤å…¶æ˜¯ç¨‹åºé—®é¢˜ï¼Œåªè¦ä½ æ•¢æœï¼Œå°±ä¸€å®šä¼šæœ‰åŒæ ·çš„é”™è¯¯åœ¨ç½‘ä¸Šè¢«é—®äº†åƒå…«ç™¾éã€‚</p><blockquote><p>ä¸‹é¢çš„ä¸œè¥¿æœ‰ä¸€å®šçš„å…±åŒæ€§ï¼Œå¤§å®¶éƒ½å¯ä»¥çœ‹çœ‹</p></blockquote><h2 id="ç”Ÿæ´»">ç”Ÿæ´»</h2><blockquote><p>æ‹’ç»ä¿¡æ¯å·®ï¼Œç»™è‡ªå·±æå‰å¸ƒå±€</p></blockquote><p>è¿™é‡Œç»™å¤§å®¶ä¸€ç‚¹åœ¨å­¦æ ¡é‡Œèƒ½æ‘¸åˆ°çš„å„ç§æ²¡å•¥ç”¨çš„å¥–é¡¹åˆ—ä¸¾ä¸€ä¸‹ï¼Œä»¥åŠå¯¹ä½ çš„å­¦æ ¡ç”Ÿæ´»æœ‰ä»€ä¹ˆå¸®åŠ©ã€‚</p><p><strong>æƒ³è¦å…¥å…šï¼š</strong>éœ€è¦å¥–å­¦é‡‘ã€æ ¡çº§å¥–åŠ±ï¼ˆå»å¹´å¼€å§‹æ ¡çº§å¥–åŠ±å¼€å§‹ä¸¥æ ¼äº†ï¼ŒåªåŒ…æ‹¬ä¸€äº›è£èª‰ç§°å·ï¼‰ã€æ ¡çº§è£èª‰ã€é«˜æ€è¯„ã€è¯´çš„è¿‡å»çš„æˆç»©ã€ç­å†…ä¸»è¦ä»»èŒã€‚</p><p>è¿™äº›è¦æ±‚å…¶å®æ˜¯æ¯”è¾ƒä¸¥è‹›çš„ï¼Œæ‰€ä»¥å¯¼è‡´åŸºæœ¬ä¸Šåªæœ‰ç­å†…ä¸»è¦çš„ç­å§”èƒ½å¤Ÿå…¥å…šï¼Œè€ŒåŸºæœ¬ä¸Šä¹Ÿåªæœ‰ä¸»è¦ç­å§”å’Œéƒ¨åˆ†è´Ÿè´£äººæ‰æœ‰æ ¡çº§å¥–åŠ±ï¼Œæ‰€ä»¥å¼€å­¦æ¢ç­å§”å¤§å®¶è¿˜æ˜¯è¦äº‰å–ä¸€ä¸‹çš„ï¼Œ<strong>æ¯”å¦‚æœ‰äº›äººæœ‰åŠ©å¯¼èº«ä»½åœ¨é€‰ç­å§”çš„æ—¶å€™æ˜¯å¾ˆæœ‰è¯´æœåŠ›çš„ï¼Œä¸ç”¨é•¿ç¯‡ç´¯ç‰çš„ä»‹ç»ï¼Œå°±ä»…ä»…æ‰”å‡ºä½ æ˜¯åŠ©å¯¼è¡¨ç°å‡ºè¯šæ„å°±èƒ½è¢«é€‰ä¸Šã€‚</strong></p><p><strong>æ”¯æ•™ä¿ç ”ï¼š</strong>è¿™ä¸ªä¸»è¦éœ€è¦ä½ å»å·å­¦ç”Ÿå·¥ä½œï¼Œå®é™…ä¸Šåé¢å°±åœ¨å›¢å§”è€å¸ˆæ‰‹é‡Œï¼Œéœ€è¦å¤§ä¸‰åœ¨å›¢å§”æœ‰ä¸»è¦ä»»èŒï¼Œè¿˜è¦ç›¸åº”çš„æœ‰ä¸€äº›åœ¨æ ¡æœŸé—´çš„æ¯”èµ›å¥–åŠ±ä¹‹ç±»çš„ã€‚</p><p>å‰©ä¸‹çš„ä¿¡æ¯å·®ï¼ŒåŸºæœ¬ä¸Šä¹Ÿä¸å¤šäº†ï¼Œå¤§ä¸€ä½ ä»¬è¯¥æ¥è§¦çš„ä¹Ÿéƒ½æ¥è§¦åˆ°äº†ï¼Œ<strong>è¦å¤„ç†å¥½äººæƒ…ä¸–æ•…</strong>ï¼Œè¿™ä¸ªäº‹æƒ…ï¼Œåœ¨å¤§ä¸€è·Œå€’è¿‡å°±åº”è¯¥èƒ½ç†è§£ï¼Œä¸è¦ç”¨è¦æ±‚è‡ªå·±çš„æ ‡å‡†è¦æ±‚åˆ«äººï¼Œå°½å¯èƒ½é¡ºç€åˆ«äººçš„æ„æ„¿ï¼Œé™¤éæå…¶è¿èƒŒåŸåˆ™ï¼Œå¦åˆ™è§„åˆ™éƒ½æ˜¯å¯ä»¥é€‚å½“æµ®åŠ¨çš„ï¼Œè¿™æ ·èƒ½æ¯”è¾ƒå¥½çš„å¤„ç†å¥½äººé™…å…³ç³»ï¼Œå½“ç„¶è¿™æ˜¯ç»´æŠ¤ä¸€äº›æ¯”è¾ƒç®€å•çš„è”ç³»æ¯”è¾ƒå¼±çš„å…³ç³»ï¼Œä½ ä»¬çš„å¥½é—ºèœœã€æ­»å“¥ä»¬ï¼Œé‚£è¿˜ç”¨å¾—ç€è¿™ç§æŠ€å·§ã€‚</p><p>å—¯ï¼Œä½ ä»¬çš„å¤§å­¦æ—¶é—´è¿˜å¾ˆé•¿ï¼Œå¤šå¤šåŸ¹å…»è‡ªå·±çš„å…´è¶£çˆ±å¥½ï¼Œå¤šæ¢ç´¢ä¸€ä¸‹è‡ªå·±çš„è¾¹ç•Œã€‚ä¸ºè‡ªå·±çš„æœªæ¥æ¶ˆå¼­ä¿¡æ¯å·®ã€‚<em>é¦™å†œï¼ˆä¿¡æ¯è®ºï¼‰è¯´è¿‡ï¼Œä¿¡æ¯æ˜¯æ¶ˆé™¤äº‹åŠ¡ä¸ç¡®å®šæ€§çš„ä¸œè¥¿ï¼Œè¶Šæ—©è·å–ä¿¡æ¯ï¼Œè¶Šæ—©èƒ½æ‰¾å‡†ç›®æ ‡ï¼Œè¶Šæ—©å‘åŠ›ã€‚</em></p><h2 id="ç§‘åˆ›">ç§‘åˆ›</h2><blockquote><p>å¤§äºŒæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¿›ç»„æ—¶é—´</p></blockquote><p>ç§‘åˆ›å¯ä»¥ç®€å•åˆ†ä¸ºä¸‰ç±»ï¼šè¿›ç»„ç§‘ç ”ï¼Œè¿›ç»„æ‰“æ¯”èµ›ï¼Œè‡ªå·±æ‘¸ç´¢</p><h3 id="è¿›ç»„ç§‘ç ”">è¿›ç»„ç§‘ç ”</h3><p>è¿›ç»„ç§‘ç ”æˆ‘çŸ¥é“çš„å‡ ä¸ªï¼š</p><p><strong>èµµèŒè€å¸ˆ</strong>ï¼šæƒ³è¿›ç»„å¤§äºŒå¼€å­¦å°±å¯ä»¥æ‰¾èµµèŒè€å¸ˆå»èŠä¸€ä¸‹äº†ï¼Œç»™ä½ ä»¬è´´ä¸€ä¸‹ä»–çš„å®˜ç½‘é“¾æ¥ï¼š<ahref="http://glxy.neuq.edu.cn/info/1332/4948.htm">èµµèŒ-ç®¡ç†å­¦é™¢(neuq.edu.cn)</a>ï¼Œæ˜¯ç›®å‰å­¦æ ¡ç§‘ç ”åšçš„æœ€å¥½çš„ä¸€æ‰¹è€å¸ˆï¼Œæ–¹å‘åœ¨å®˜ç½‘é‡Œéƒ½æœ‰ã€‚</p><p><strong>èµµç…œè¾‰è€å¸ˆï¼š</strong>ä»–åº”è¯¥æ˜¯å¾ˆä¹æ„æ”¶çš„ï¼Œä½†æ˜¯åº”è¯¥æ¯”è¾ƒæ”¾å…»ï¼Œè¿™ä¸ªæ²¡ä»€ä¹ˆå‰è½¦ä¹‹é‰´ï¼Œä»–ç¡®å®æ”¶ï¼Œä½†æ˜¯ä¼šè¦æ±‚ä½ æœ‰æ¯”è¾ƒé«˜çš„æ°´å¹³ï¼Œä»–ç°åœ¨çš„ç ”ç©¶æ¯”è¾ƒåå‘é‡‘èæ•°æ®åˆ†æå’ŒAIä¸€ç±»çš„ã€‚</p><p><strong>ç‹æ—è€å¸ˆï¼š</strong>ä¸å¤ªæŠ€æœ¯çš„åŒå­¦ä»¬å¯ä»¥è€ƒè™‘ä¸€ä¸‹ï¼Œä»–æ˜¯å·¥ç®¡çš„è€å¸ˆï¼Œæ˜¯æœ‰æœ¬ç§‘ç”Ÿç»„çš„ï¼Œä¹Ÿæ˜¯ç›®å‰å­¦æœ¯åšçš„æ¯”è¾ƒå¥½çš„è€å¸ˆã€‚<ahref="http://glxy.neuq.edu.cn/info/1333/6630.htm">ç‹æ—-ç®¡ç†å­¦é™¢(neuq.edu.cn)</a>ï¼Œä¼šè®¡ã€å·¥ç®¡çš„åŒå­¦éƒ½å¯ä»¥è€ƒè™‘ä¸€ä¸‹ã€‚</p><p><strong>ç”µå•†</strong>é‚£è¾¹çš„è€å¸ˆï¼Œç›®å‰ä¹Ÿæœ‰æ‰‹é‡Œæœ‰ç ”ç©¶è®¡åˆ’çš„è€å¸ˆï¼Œæ¯”å¦‚åˆ˜å†°ç‰è€å¸ˆç­‰ç­‰ï¼Œä½ ä»¬å¦‚æœæœ‰å¿ƒå‚ä¸ä¹Ÿå¯ä»¥ç§ä¸‹æ‰¾è€å¸ˆèŠä¸€ä¸‹ã€‚</p><p>è¡Œç®¡æˆ‘æ˜¯çœŸçš„ä¸å¤ªæ¸…æ¥šã€‚</p><p><strong><em>è¿˜æœ‰å¦ä¸€ä¸ªæ€è·¯ï¼šè¿›å…¶ä»–å­¦é™¢çš„å®éªŒå®¤</em></strong>ï¼Œä½†æ˜¯è¿™å°±è¦æ±‚ä½ è¦æœ‰å……è¶³çš„ä¿¡æ¯æ¥æºï¼ŒçŸ¥é“å…¶ä»–å­¦é™¢æœ‰ä»€ä¹ˆå®éªŒå®¤ï¼Œå®éªŒå®¤æœ‰ä»€ä¹ˆå¾…é‡ã€‚</p><p><strong>è¿›ç»„ç§‘ç ”èƒ½ç»™ä½ å¸¦æ¥ä»€ä¹ˆï¼š</strong></p><p>â‘  åšçš„å¥½çš„è¯ï¼Œä½ çš„æ‰‹é‡Œèƒ½å¤Ÿæ‹¿åˆ°ä¸€ç¯‡å°è®ºæ–‡</p><p>â‘¡ æœ‰äº›ç»„ä¼šæŠŠç§‘ç ”æ‹¿å»æ‰“åˆ›èµ›</p><p>â‘¢ åšçš„ä¸å¥½èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦æå‡ä½ çš„ä¸“ä¸šçŸ¥è¯†ã€åŠ¨æ‰‹èƒ½åŠ›ã€å‰æ²¿è§†é‡</p><h3 id="è¿›ç»„æ‰“æ¯”èµ›">è¿›ç»„æ‰“æ¯”èµ›</h3><p>å­¦æ ¡æœ‰å¾ˆå¤šåšçš„æ¯”è¾ƒå¥½çš„åˆ›ä¸šé¡¹ç›®ç»„ï¼Œä»–ä»¬ä¼šåœ¨å¼€å­¦æ—¶è¿›è¡Œä¸€æ³¢çŒ›æ‹›æ–°ï¼Œå¦‚æœä½ ä»¬çœ‹åˆ°æœ‰åˆé€‚çš„å°±å¯ä»¥ç®€å•é—®é—®ï¼Œçœ‹çœ‹è‡ªå·±åˆä¸åˆé€‚ï¼Œèƒ½ä¸èƒ½å­¦ï¼Œè¿™å—çš„é€‰æ‹©ä½™åœ°éå¸¸å¤§ï¼Œè€Œä¸”éœ€è¦æŠ•å…¥ä¹Ÿéå¸¸å¤§ã€‚</p><p>è¿›ç»„æ‰“æ¯”èµ›çš„è¯æ¨èå¤§å®¶å¹³æ—¶å°±åŠ ä¸€ä¸‹æŒ‘æˆ˜æ¯ä¹‹ç±»çš„ç¾¤ï¼Œä¸€èˆ¬æœ‰æ‹›æ–°éœ€æ±‚çš„è¯ä»–ä»¬ä¼šåœ¨ç¾¤é‡Œå‘ï¼Œè¿™é‡Œè¿˜å¯ä»¥ç»§ç»­ç»†åˆ†ï¼š</p><p><strong>åç¡¬ä»¶çš„æœ‰ï¼š</strong>robotmasterï¼ˆç±»ä¼¼æœºå™¨äººï¼‰ã€æ™ºèƒ½è½¦ã€åˆ†å‡ºæ¥çš„æ™ºæ¼ ã€é¾™èŠ¯ç­‰ç­‰ï¼Œè¿™äº›éƒ½ä¼šæ‰¾äººï¼Œä½†æ˜¯éœ€è¦ä½ æœ‰åŸºæœ¬çš„cè¯­è¨€åŸºç¡€ï¼Œåªè¦ä½ æœ‰æ„å‘åŸºæœ¬ä¸Šä»–ä¼šæ•™ä½ ï¼Œè¿™ç§éƒ½å±äºæ˜¯å¤§ç»„ï¼Œèµ„é‡‘å……è¶³ï¼Œç»„é‡Œå¤§ä½¬ä¹Ÿå¤šï¼Œä»–ä»¬ä¸€èˆ¬æ‰“çš„æ˜¯å›ºå®šçš„æ¯”èµ›ï¼Œä½†æ˜¯ç”±äºå¤§ä½¬å¤šå¯ä»¥å¸¦ç€ä½ æ‰“å…¶ä»–çš„æ¯”èµ›ã€‚</p><p><strong>åç®—æ³•ä¸€äº›çš„ï¼š</strong>è®¡å·¥é‚£è¾¹æœ‰ACMä¿±ä¹éƒ¨ï¼Œç½‘ç»œå®‰å…¨åä¼šç­‰ç­‰ï¼Œè¿™ç§æ¯”è¾ƒç¡¬æ ¸ï¼Œä½†ä¹Ÿä¸æ˜¯æ²¡æœ‰æœºä¼šï¼ŒACMï¼Œç½‘å®‰è¿›å»çš„é—¨æ§›éƒ½ä¸é«˜ï¼Œä½†æ˜¯æ‹¿å¥–æ˜¯ç›¸å½“è´¹æ—¶é—´çš„ã€‚</p><p><strong>åå‘åˆ›æ„åˆ›ä¸šçš„</strong>ï¼šè¿™ç§ç»„ä¸€èˆ¬éƒ½ä¸å¤§ï¼Œä½†æ˜¯ä»–ä»¬ä¼šæ‹¿å‡ºä¸€äº›å¾ˆå¥½çš„åˆ›æ„ç‚¹ï¼Œä¸€èˆ¬è¿™ç§ç»„æ‹›äººçš„è¯éœ€è¦ä½ çŸ¥é“æœ‰è¿™ä¹ˆä¸ªç»„ï¼Œéœ€è¦ä½ å‘åŠ¨è‡ªå·±çš„äººè„‰å»æ‰“å¬ï¼Œæ¯”å¦‚ä½ è®¤è¯†å¤§åˆ›çš„ä¸»å¸­ã€éƒ¨é•¿ä¹‹ç±»çš„ï¼Œæˆ–è€…æ‰“æ¯”èµ›æ¯”è¾ƒå¤šçš„äººï¼Œé—®ä»–ä»¬ä¼šæœ‰æ¯”è¾ƒå¤§çš„æ”¶è·ã€‚</p><ol type="1"><li>è¿™ç§ç»„ä¸€èˆ¬å°±æ˜¯ä¼šå»æ‰“ï¼ŒæŒ‘æˆ˜æ¯ã€äº’è”ç½‘+ã€ä¸‰åˆ›èµ›ï¼Œä¹Ÿå°±æ˜¯æ¯”è¾ƒå¸¸è§çš„å•†èµ›</li><li>ä¸€èˆ¬éœ€è¦çš„äººéƒ½æ˜¯ç‰¹æ®Šå¼€å‘ï¼ˆæ¯”å¦‚cvã€nlpã€aiç­‰ï¼‰ã€webå¼€å‘ï¼ˆä¸€èˆ¬åªéœ€è¦å¥—å£³ï¼‰ã€ç¾å·¥ï¼ˆç¨€ç¼ºäººæ‰ï¼‰ã€ç­”è¾©ã€ç­–åˆ’ã€æ–‡æ¡ˆã€è¿è¥(å¯æœ‰å¯æ— )</li><li>éœ€è¦ä½ æ··åˆ°æ ¸å¿ƒï¼Œæ‹¿å¥–æ‰æ¯”è¾ƒæœ‰æ•ˆã€‚</li></ol><h3 id="è‡ªå·±æ‘¸ç´¢">è‡ªå·±æ‘¸ç´¢</h3><p>ä¸å¤ªæ¨èï¼Œæ²¡äººå¸¦ä½ ï¼Œæ‰“æ¯”èµ›å¾ˆå¤§ç¨‹åº¦éƒ½æ˜¯ç«¹ç¯®æ‰“æ°´ä¸€åœºç©ºï¼Œå¾ˆå¤šé¡¹ç›®éƒ½æ˜¯å·²ç»ç¢ç£¨äº†ä¸‰å››å¹´çš„ä¸œè¥¿ï¼Œä½ æŠŠä¸€ä¸ªä»Šå¹´æäº†åŠå¹´çš„ä¸œè¥¿æ‰”ä¸Šå»å®åœ¨æ˜¯å·®å¤ªå¤šï¼Œè€Œä¸”èµ„æºä¹Ÿè¿œè¿œè·Ÿä¸ä¸Šã€‚</p><p>ä½†æ˜¯æœ‰äº›æ¯”èµ›æ˜¯å¯ä»¥è‡ªå·±æ‘¸ç´¢çš„ï¼š</p><ol type="1"><li>æ•°å­¦å»ºæ¨¡ï¼šæ•°å­¦å»ºæ¨¡åŸºæœ¬å°±æ˜¯è‡ªå·±æ‘¸ç´¢ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ‰¾å‡ ä¸ªå¤§ä¸‰ä»€ä¹ˆçš„å¸¦å¸¦ä½ ï¼Œä½†æ˜¯ç»ˆå½’æ˜¯ä¸€ä¸ªçº¯ç²¹é è‡ªå·±çš„æ¯”èµ›ã€‚</li><li>ä»€ä¹ˆç”µèµ›ã€è“æ¡¥æ¯ã€ç¨‹åºè®¾è®¡ä¹‹ç±»çš„æ¯”èµ›ï¼Œæœ‰çš„å«é‡‘é‡ä¸é«˜ï¼Œæœ‰çš„æ˜¯æœ‰æŠ¥åé™åˆ¶ï¼Œå…·ä½“æƒ³äº†è§£çš„è‡ªå·±çœ‹çœ‹é‚£ä¸ªæ¯”èµ›ç­‰çº§çš„è¯´æ˜ã€‚</li></ol><h2 id="æ¯•ä¸š">æ¯•ä¸š</h2><p>ä¸ºä»€ä¹ˆå«æ¯•ä¸šå‘¢è¿™é‡Œï¼Œä½ æ¯•ä¸šæ— éæ˜¯è€ƒç ”å’Œå°±ä¸šï¼Œè€Œå°±ä¸šå‡ ä¹æ˜¯ç»ˆæç›®æ ‡ï¼Œ<strong>æ‰€ä»¥ä¸€å®šè¦æå‰è‡³å°‘ä¸€å¹´æˆ–ä¸¤å¹´æƒ³å¥½æ˜¯è€ƒç ”è¿˜æ˜¯å°±ä¸š</strong>ï¼Œå› ä¸ºä½ è¦æå‰åšå¥½å‡†å¤‡ã€‚</p><h3 id="è¯»ç ”"><strong>è¯»ç ”</strong></h3><h4 id="ä¿ç ”">ä¿ç ”</h4><p>æ²¡ç»å†è¿‡çœŸä¸ç†Ÿ</p><h4 id="è€ƒç ”">è€ƒç ”</h4><p>æ­£åœ¨è€ƒï¼Œè€ƒä¸Šäº†å†å†™</p><h4 id="å‡ºå›½">å‡ºå›½</h4><p>å­¦å§æ‡‚ï¼Œç­‰ç€å¥¹æå®Œäº†è®©å¥¹å†™ï¼Œå¤§äºŒä¸‹ä¹Ÿæ¥çš„åŠå‡†å¤‡ï¼ˆ</p><h3 id="å°±ä¸š">å°±ä¸š</h3><h4 id="è€ƒå…¬">è€ƒå…¬</h4><p>æ¯•ä¸šçš„å°½å¤´æ˜¯å°±ä¸šï¼Œå°±ä¸šçš„å°½å¤´æ˜¯è€ƒå…¬ï¼Œä½†æ˜¯åŠ¡å¿…äº†è§£åˆ°è€ƒå…¬ä¹Ÿæœ‰æ— æ•°ç§ï¼Œè€ƒå…¬ä¹Ÿæœ‰å¯¹ä¸“ä¸šçš„é™åˆ¶ï¼Œæ‰€ä»¥è¦æå‰äº†è§£ï¼Œæˆ‘æ²¡ä»”ç»†äº†è§£è¿‡ï¼Œæ‰€ä»¥å¤§å®¶å¾—å»è‡ªå·±æŸ¥ä¸€éƒ¨åˆ†ã€‚</p><p>è€ƒå…¬æœ‰ï¼šé€‰è°ƒã€å›½è€ƒã€çœè€ƒã€äº‹ä¸šç¼–ã€å†›é˜Ÿæ–‡èŒã€ä¸‰æ”¯ä¸€æ‰¶ã€äººæ‰å¼•è¿›å„ç§å„æ ·ï¼Œå…·ä½“äº†è§£è¯·ç™¾åº¦ï¼Œæˆ–è€…é—®é—®è€ƒä¸Šçš„ã€‚</p><p><ahref="https://zhuanlan.zhihu.com/p/557271130">è€ƒå…¬æœ€å…¨æ”»ç•¥ä¸¨å°ç™½è€ƒç¼–çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†- çŸ¥ä¹ (zhihu.com)</a></p><p>å…¶å®è€ƒä¸ªè€å¸ˆä¹Ÿä¸æ˜¯ä¸è¡Œï¼ˆï¼‰</p><h4 id="è¿›å‚">è¿›å‚</h4><p>ç›®å‰è¿›å‚å½¢å¼ä¸å¤ªå¥½ï¼Œæ‰€ä»¥å…·ä½“ç°åœ¨å°±ä¸šæ˜¯ä¸ªä»€ä¹ˆé€»è¾‘ï¼Œä¿ºä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼Œå°±ç®€å•æ‘†ä¸€ä¸‹å½¢åŠ¿å’Œå¯èƒ½å»å‘ã€‚</p><p>å°±ä¸šç›¸å¯¹å¥½ä¸€ç‚¹çš„å»äº†é“¶è¡Œï¼Œè¿›å¤§å‚çš„å¾ˆå°‘ï¼Œæ¯”äºšè¿ªæ¯”è¾ƒå¤šï¼Œå²—ä½éƒ½ä¸çŸ¥é“ï¼Œå› ä¸ºä¸ç»™å…¬å¼€çœ‹ã€‚</p><p>â€”â€”â€”â€”â€”å¾…ç»­â€”â€”â€”â€”â€”</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ‚è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€æ–‡ä»¶æ¡†æ¶ä¸è¿è¡Œ</title>
      <link href="/2023/08/05/cFrame/"/>
      <url>/2023/08/05/cFrame/</url>
      
        <content type="html"><![CDATA[<h1 id="cè¯­è¨€æ–‡ä»¶æ¡†æ¶ä¸è¿è¡Œ">Cè¯­è¨€æ–‡ä»¶æ¡†æ¶ä¸è¿è¡Œ</h1><p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰ä¸€ç§æ„Ÿè§‰ï¼Œå½“ä½ åˆå­¦cè¯­è¨€è¿ç”¨ï¼ˆä»…ä»…æ˜¯è¿ç”¨ï¼‰åˆ°ç†Ÿç»ƒçš„æ—¶å€™ï¼Œä¼šæ˜æ˜¾æ„Ÿå—åˆ°ä¸€äº›ç–‘æƒ‘ï¼šè¿™ä¸ªå¤´æ–‡ä»¶æˆ‘å¥½åƒä»æ¥æ²¡å†™è¿‡ã€è¿™ä¸ªå¤šæ–‡ä»¶æˆ‘å¥½åƒä¹Ÿä»æ¥æ²¡ç”¨è¿‡ã€è¿™ä¸ªå¤šæ–‡ä»¶çš„Cè¯­è¨€ç¨‹åºåˆæ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„</p><h2 id="cè¯­è¨€çš„æ–‡ä»¶æ¡†æ¶">Cè¯­è¨€çš„æ–‡ä»¶æ¡†æ¶</h2><h3 id="æ²¡æœ‰æ¡†æ¶">æ²¡æœ‰æ¡†æ¶</h3><p>æœ€ç®€å•çš„ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿå°±æ˜¯æ²¡æœ‰ç»“æ„ï¼Œä¸€ä¸ªå•ä¸€çš„<code>XX.c</code>æ–‡ä»¶é…åˆgccå·¥å…·ç¼–è¯‘å°±å¯ä»¥è¿è¡Œã€‚</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230807120653069.png" alt="æ— æ¡†æ¶ç¤ºä¾‹" style="zoom:50%;" /></p><p>è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹gccï¼Œgccæ˜¯GUNä¸­çš„ä¸€ä¸ªç¼–è¯‘å·¥å…·ï¼Œåœ¨Cè¯­è¨€ä¸­çš„æŒ‡ä»¤ï¼ˆè¯¥é¡ºåºä¹Ÿå°±æ˜¯cè¯­è¨€è¿è¡Œçš„é¡ºåºï¼‰ä¸»è¦æœ‰ï¼š</p><ol type="1"><li>é¢„å¤„ç†ï¼Œè¿›è¡Œå®å±•å¼€ç­‰,ç”Ÿæˆä»£ç æ–‡ä»¶ä¸º<code>helloworld.i</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -E helloworld.c</span><br></pre></td></tr></table></figure><ol start="2" type="1"><li>ç¼–è¯‘ï¼Œç”Ÿæˆæ±‡ç¼–ä»£ç ï¼Œç”Ÿæˆä»£ç æ–‡ä»¶ä¸º<code>helloworld.s</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -S helloworld.c</span><br></pre></td></tr></table></figure><ol start="3" type="1"><li>æ±‡ç¼–ï¼Œç”Ÿæˆæœºå™¨ç ï¼Œç”Ÿæˆä»£ç æ–‡ä»¶ä¸º<code>helloworld.o</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -c helloworld.c</span><br></pre></td></tr></table></figure><ol start="4" type="1"><li>é“¾æ¥ï¼Œå®é™…ä¸Šç›´æ¥é“¾æ¥èƒ½å¤Ÿè¿è¡Œä»¥ä¸Šæ‰€æœ‰çš„æ­¥éª¤ï¼Œç”Ÿæˆçš„æ˜¯ä¸€ä¸ªåä¸ºhelloworldçš„å¯æ‰§è¡Œæ–‡ä»¶</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o helloworld helloworld.c</span><br></pre></td></tr></table></figure><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œcè¯­è¨€ç¨‹åºçš„æ–¹å¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\helloworld</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šå°±æ˜¯è¿è¡Œæˆ‘ä»¬åˆšåˆšé“¾æ¥å‡ºæ¥çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸­é—´çš„éƒ¨åˆ†æ˜¯æˆ‘ä»¬çš„å‘½åï¼Œå‘½åä¸º<code>helloworld</code></p><h3 id="å¤´æ–‡ä»¶æºæ–‡ä»¶ç»“æ„">å¤´æ–‡ä»¶+æºæ–‡ä»¶ç»“æ„</h3><p>æˆ‘ä½œä¸ºä¸€ä¸ªåŠè·¯å‡ºå®¶çš„Cè¯­è¨€ä½¿ç”¨è€…ï¼ˆä»¥å‰æ˜¯ä½¿ç”¨JAVAå’ŒPythonï¼‰ï¼Œç®€å•ä½¿ç”¨æ˜¯å¹¶ä¸éš¾çš„ï¼Œä½†æ˜¯å½“æˆ‘æƒ³åšå¤šæ–‡ä»¶ç»“æ„çš„æ—¶å€™æˆ‘å‘ç°æˆ‘å¹¶ä¸ä¼šï¼ŒCè¯­è¨€å¹¶æ²¡æœ‰åƒJAVAå’ŒPythonä¸€æ ·çš„å¯¼å…¥æ–¹æ³•ï¼Œä½†æ˜¯å…¶å®æ˜¯æœ‰çš„ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨å•æ–‡ä»¶ç¼–ç¨‹æ—¶ä¸æ€ä¹ˆæ­ç†çš„å¤´æ–‡ä»¶ã€‚</p><h4 id="å¤´æ–‡ä»¶">å¤´æ–‡ä»¶</h4><p>é¦–å…ˆè¯´è¯´å¤´æ–‡ä»¶ï¼Œå¤´æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å…ˆä»åå­—ä¸Šæ¥è¯´ï¼šå¤´æ–‡ä»¶ï¼Œå¤´æ˜¯ä»€ä¹ˆï¼Ÿå¤´åœ¨å“ªå„¿ï¼Ÿå¤´ä½äºäººçš„æœ€é¡¶ç«¯ï¼Œæ˜¯äººè„‘æ‰€åœ¨çš„åœ°æ–¹è´Ÿè´£æ€è€ƒè·å–çŸ¥è¯†ã€‚Cè¯­è¨€ä¸­çš„å¤´æ–‡ä»¶ä¹Ÿæ˜¯ï¼Œå¤´æ–‡ä»¶å°±æ˜¯Cè¯­è¨€mainç¨‹åºä¸­çš„æœ€é¡¶ç«¯ï¼Œè´Ÿè´£è·å–çŸ¥è¯†ï¼ˆç¨‹åºæ¥å£ï¼‰ã€‚</p><p>é‚£ä¹ˆå¤´æ–‡ä»¶åˆè¯¥å¦‚ä½•å®šä¹‰ï¼Œç»†èŠ‚åˆæ˜¯å¦‚ä½•ï¼Ÿ</p><p>æˆ‘ä»¬å…ˆä¸¾ä¸ªä¾‹å­ç›´è§‚ç†è§£ï¼š</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒCè¯­è¨€æ˜¯é¢å‘è¿‡ç¨‹çš„è¯­è¨€ï¼Œå…¶ä¸­å‡½æ•°æ˜¯é¢å‘è¿‡ç¨‹è¯­è¨€çš„ç²¾é«“ï¼Œä¸‹é¢æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">helloworld</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello,World!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå½“ç¨‹åºå‘˜å®šä¹‰å®Œç”¨æˆ·ç¨‹åºåï¼Œmainå‡½æ•°æƒ³è¦è°ƒç”¨éœ€è¦äº‹å…ˆå£°æ˜ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">helloworld</span><span class="params">()</span>; <span class="comment">// å£°æ˜å‡½æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    helloworld();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">helloworld</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello,World!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨è¯·å¤§å®¶æƒ³è±¡ä¸€ä¸ªæƒ…å†µï¼Œå¦‚æœç°åœ¨æˆ‘ä»¬æœ‰1ä¸‡ä¸ªå‡½æ•°è¦å£°æ˜ï¼Œé‚£æ˜¯ä¸å¾ˆéº»çƒ¦ï¼Œè€Œä¸”ä¼šæœ‰æé«˜çš„è€¦åˆåº¦ï¼Œä¸”ä¸æ–¹ä¾¿é˜…è¯»ã€‚è€Œå¤´æ–‡ä»¶å°±ä»£æ›¿äº†å£°æ˜åŠ å‡½æ•°å®šä¹‰çš„éƒ¨åˆ†ã€‚</p><p>äºæ˜¯æˆ‘ä»¬å¯ä»¥æ‹†ä¸€ä¸‹ï¼Œåˆ†ä¸ºè¿™æ ·çš„ç»“æ„ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230807140743646.png"alt="æ–‡ä»¶ç»“æ„" /><figcaption aria-hidden="true">æ–‡ä»¶ç»“æ„</figcaption></figure><p>å…¶ä¸­<code>helloworld.c</code>ä¸­ä¸º</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">helloworld</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello,World!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>helloworld.h</code>ä¸­ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> EXAMPLE_HELLOWORLD_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EXAMPLE_HELLOWORLD_H</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">helloworld</span><span class="params">()</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">//EXAMPLE_HELLOWORLD_H</span></span></span><br></pre></td></tr></table></figure><p><code>main.c</code>ä¸­ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;helloworld.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    helloworld();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å°†æ•´ä¸ªæ–‡ä»¶æ¨¡å—åŒ–äº†ï¼Œä½†æ˜¯å…¶ä¸­ä¾æ—§å­˜åœ¨ä¸€äº›é—®é¢˜æ²¡æœ‰è®²æ¸…æ¥šï¼Œæ¯”å¦‚è¿™ä¸ªå¤´æ–‡ä»¶åˆ°åº•æ€ä¹ˆå†™ï¼Œé‡Œè¾¹çš„å†…å®¹éƒ½æœ‰ä»€ä¹ˆå«ä¹‰ï¼Ÿä¸‹é¢æˆ‘ä»¬å…ˆè§£é‡Šä¸€äº›å‰ç½®çš„çŸ¥è¯†ï¼Œæ…¢æ…¢é“æ¥ã€‚</p><h4 id="includeå‘½ä»¤"><code>#include</code>å‘½ä»¤</h4><p><code>#include</code>å‘½ä»¤å®é™…ä¸Šå¾ˆç®€å•ï¼Œå¯ä»¥ç­‰åŒä¸º<code>import</code>è¯­å¥ï¼Œå…¶å«åšæ–‡ä»¶åŒ…å«å‘½ä»¤ï¼Œç”¨æ¥å¼•å…¥å¯¹åº”çš„å¤´æ–‡ä»¶ï¼Œå…¶å·¥ä½œåŸç†å°±æ˜¯å°†å¤´æ–‡ä»¶çš„å†…å®¹æ’å…¥åˆ°å½“å‰å‘½ä»¤æ‰€åœ¨çš„ä½ç½®ä¸Šï¼Œè¿æ¥æˆä¸€æ•´ä¸ªæºæ–‡ä»¶ã€‚</p><p><code>#include</code>å‘½ä»¤åˆ†ä¸ºä¸¤ç§ï¼š</p><ol type="1"><li><p>ä¸€ç§æ˜¯<code>#include&lt;&gt;</code>ï¼Œå¼•ç”¨çš„æ˜¯ç¼–è¯‘å™¨çš„ç±»åº“è·¯å¾„é‡Œé¢çš„å¤´æ–‡ä»¶ï¼Œå…¶ç”¨äºå¯¼å…¥å®˜æ–¹æ ‡å‡†å¤´æ–‡ä»¶</p></li><li><p>å¦ä¸€ç§æ˜¯<code>#include""</code>ï¼Œå¼•ç”¨çš„æ˜¯ä½ ç¨‹åºç›®å½•çš„ç›¸å¯¹è·¯å¾„ä¸­çš„å¤´æ–‡ä»¶ï¼Œå¦‚æœåœ¨ç¨‹åºç›®å½•æ²¡æœ‰æ‰¾åˆ°å¼•ç”¨çš„å¤´æ–‡ä»¶åˆ™åˆ°ç¼–è¯‘å™¨çš„ç±»åº“è·¯å¾„çš„ç›®å½•ä¸‹æ‰¾è¯¥å¤´æ–‡ä»¶ï¼Œå…¶ç”¨äºå¯¼å…¥è‡ªå®šä¹‰çš„å¤´æ–‡ä»¶</p></li></ol><p>ä¹Ÿå°±æ˜¯è¯´å¼•ç”¨ç³»ç»Ÿæ ‡å‡†åº“éƒ½å¯ä»¥ï¼Œä½†ç¬¬ä¸€ç§æ›´å¿«ï¼›å¼•ç”¨è‡ªå·±å®šä¹‰çš„å¤´æ–‡ä»¶åªèƒ½ç”¨ç¬¬äºŒç§ã€‚</p><h4 id="å®å®šä¹‰">å®å®šä¹‰</h4><p>#defineå«åšå®å®šä¹‰å‘½ä»¤å®ƒä¹Ÿæ˜¯Cè¯­è¨€é¢„å¤„ç†å‘½ä»¤çš„ä¸€ç§ï¼Œæ‰€è°“å®å®šä¹‰ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªæ ‡è¯†ç¬¦æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>å®å®šä¹‰çš„å½¢å¼ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> å®å å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure><p>å®åå°±æ˜¯ä¸€ç§æ ‡è¯†ç¬¦ï¼Œè€Œå­—ç¬¦ä¸²å¯ä»¥æ˜¯æ•°å­—ã€è¡¨è¾¾å¼ã€ifè¯­å¥ã€å‡½æ•°ç­‰ã€‚</p><p>tipsï¼š</p><ul><li><p>å®å®šä¹‰ä»…ä»…æ˜¯æ›¿æ¢ï¼Œå¹¶ä¸è®¡ç®—</p></li><li><p>å®å®šä¹‰çš„å¤„ç†æ­¥éª¤æ˜¯ä¸Šé¢çš„é¢„å¤„ç†é˜¶æ®µï¼Œå› æ­¤æ˜¯å¦æ­£ç¡®è¦ç­‰åˆ°ç¼–è¯‘é˜¶æ®µ</p></li><li><p>å®å®šä¹‰å¯ä»¥æ‹¥æœ‰å®šä¹‰åŸŸ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”ä½œç”¨åŸŸâ€”â€”â€”â€”â€”â€”</span><br><span class="line"><span class="meta">#<span class="keyword">undef</span> PI</span></span><br></pre></td></tr></table></figure></li><li><p>ä¹ æƒ¯ä¸Šï¼Œå®å®šä¹‰ç”¨å¤§å†™</p></li></ul><p>å¸¸è§çš„é¢„å¤„ç†å‘½ä»¤æœ‰ï¼š</p><table><thead><tr class="header"><th style="text-align: center;">å‘½ä»¤</th><th style="text-align: center;">è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">#</td><td style="text-align: center;">ç©ºæŒ‡ä»¤</td></tr><tr class="even"><td style="text-align: center;">#include</td><td style="text-align: center;">å¼•å…¥å¤´æ–‡ä»¶</td></tr><tr class="odd"><td style="text-align: center;">#define</td><td style="text-align: center;">å®šä¹‰å®</td></tr><tr class="even"><td style="text-align: center;">#undef</td><td style="text-align: center;">å–æ¶ˆå®</td></tr><tr class="odd"><td style="text-align: center;">#if</td><td style="text-align: center;">å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œåˆ™ç¼–è¯‘ifå†…çš„ä»£ç </td></tr><tr class="even"><td style="text-align: center;">#ifdef</td><td style="text-align: center;">å¦‚æœå®å·²ç»å®šä¹‰ï¼Œåˆ™ç¼–è¯‘ifå†…çš„ä»£ç </td></tr><tr class="odd"><td style="text-align: center;">#ifundef</td><td style="text-align: center;">å¦‚æœå®æœªå®šä¹‰ï¼Œåˆ™ç¼–è¯‘ifå†…çš„ä»£ç </td></tr><tr class="even"><td style="text-align: center;">#elif</td><tdstyle="text-align: center;">å¦‚æœå‰é¢çš„#ifæ¡ä»¶ä¸ºå‡ï¼Œå½“å‰æ¡ä»¶ä¸ºçœŸï¼Œåˆ™ç¼–è¯‘</td></tr><tr class="odd"><td style="text-align: center;">#endif</td><td style="text-align: center;">ç»“æŸä¸€ä¸ª#if</td></tr></tbody></table><h4 id="å¤´æ–‡ä»¶ç¼–å†™">å¤´æ–‡ä»¶ç¼–å†™</h4><p>ç°åœ¨å‰ç½®çŸ¥è¯†éƒ½å·²ç»è¡¥è¶³äº†ï¼Œæˆ‘ä»¬æ¥è¯´ä¸€å£°å¤´æ–‡ä»¶ç¼–å†™çš„è§„èŒƒï¼š</p><ul><li>å»ºè®®æŠŠæ‰€æœ‰çš„å¸¸é‡ã€å®ã€ç³»ç»Ÿå…¨å±€å˜é‡å’Œå‡½æ•°åŸå‹å†™åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œåœ¨éœ€è¦çš„æ—¶å€™éšæ—¶å¼•ç”¨è¿™äº›å¤´æ–‡ä»¶</li><li>æºæ–‡ä»¶çš„åå­—å¯ä»¥ä¸å’Œå¤´æ–‡ä»¶ä¸€æ ·ï¼Œä½†æ˜¯ä¸ºäº†å¥½ç®¡ç†ï¼Œä¸€èˆ¬å¤´æ–‡ä»¶åå’Œæºæ–‡ä»¶åä¸€æ ·</li><li>ä¸ç®¡æ˜¯æ ‡å‡†å¤´æ–‡ä»¶ï¼Œè¿˜æ˜¯è‡ªå®šä¹‰å¤´æ–‡ä»¶ï¼Œéƒ½åªèƒ½åŒ…å«å˜é‡å’Œå‡½æ•°çš„å£°æ˜ï¼Œä¸èƒ½åŒ…å«å®šä¹‰ï¼Œ<strong>å¦åˆ™åœ¨å¤šæ¬¡å¼•å…¥æ—¶ä¼šå¼•èµ·é‡å¤å®šä¹‰é”™è¯¯</strong>ï¼ˆé‡å®šä¹‰ï¼‰</li></ul><p>è¿™é‡Œä¹Ÿå°±å¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆå¤´æ–‡ä»¶è¦æœ‰è¿™ä¸ªç¨‹åºæ®µäº†ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> EXAMPLE_HELLOWORLD_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EXAMPLE_HELLOWORLD_H</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">helloworld</span><span class="params">()</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">//EXAMPLE_HELLOWORLD_H</span></span></span><br></pre></td></tr></table></figure><p>ä¸€æ—¦è¯¥å¤´æ–‡ä»¶è¢«é‡å¤å¼•ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šæ£€æµ‹åˆ°æœ‰è¿™ä¸ªå®å®šä¹‰äº†å·²ç»ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†æ¬¡ç¼–è¯‘è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œä»è€Œé¿å…äº†é‡å®šä¹‰é”™è¯¯ã€‚</p><h2 id="å…³äºgccmakeä¸cmake">å…³äºgccã€makeä¸CMake</h2><p>å»ºè®®å‚è€ƒï¼š<ahref="https://blog.csdn.net/wuzheyan2008/article/details/119026007">å…³äºgccã€makeå’ŒCMakeçš„åŒºåˆ«_cmakeå’Œgccçš„åŒºåˆ«_ericwzy945çš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Cè¯­è¨€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä¹‹IDE</title>
      <link href="/2023/07/23/IDE/"/>
      <url>/2023/07/23/IDE/</url>
      
        <content type="html"><![CDATA[<h2 id="pythonå…¥é—¨ä¹‹ide">Pythonå…¥é—¨ä¹‹IDE</h2><p>æƒ³å¿…å¤§å®¶éƒ½åœ¨ä»€ä¹ˆæŸæŠ–ã€æŸbæˆ–è€…æŸäº›ä¸å¤ªæ‡‚çš„ç”µè§†å‰§é‡Œçœ‹åˆ°è¿‡é»‘å®¢å¤§ä½¬ï¼ˆå¯èƒ½æ˜¯ï¼‰ä¸€å—å‘½ä»¤è¡Œæ•²ä»£ç æ•²ä¸€å¤©ï¼Œå¯¹æ­¤æˆ‘çš„è¯„ä»·æ˜¯ï¼šè¦ä¹ˆæ˜¯çº¯ç²¹æ¼”çš„ï¼Œè¦ä¹ˆæ˜¯çœŸå¤§ä½¬ã€‚</p><p>å‘½ä»¤è¡Œæ˜¯å¯ä»¥è§£å†³æ‰€æœ‰ç¼–ç¨‹é—®é¢˜ï¼Œä¾‹å¦‚Pythonä¹Ÿè‡ªå¸¦æœ‰IDLEï¼Œæˆ–è€…Pythonçš„äº¤äº’å¼é¡µé¢ï¼Œå…¶éƒ½æ˜¯åœ¨å‘½ä»¤è¡Œçª—å£è¿›è¡Œç¼–ç¨‹çš„ï¼Œä½†æ˜¯æ˜¾è€Œæ˜“è§ï¼Œè¿™ç§æ–¹å¼æˆ‘å†™ä¸ªåå…«è¡Œä»£ç ï¼Œä¸¤ä¸‰ä¸ªå˜é‡è¿˜æ˜¯å¯è¡Œçš„ï¼Œä¸€æ—¦ä»£ç å˜å¤æ‚ï¼Œè®°ä½å˜é‡éƒ½æˆä¸ºäº†ä¸€ä¸ªå›°éš¾çš„å·¥ä½œã€‚å› æ­¤IDEæœ€åŸºæœ¬è¦è§£å†³çš„é—®é¢˜å°±å‡ºç°äº†ã€‚</p><p>è¿™é‡Œç®€å•ä»‹ç»ä¸¤ä¸ªPythonå¸¸ç”¨çš„IDEï¼Œä»¥åŠä¸‹è½½å®‰è£…ã€‚</p><h2 id="pycharm">Pycharm</h2><p>Pycharmæ˜¯ç”±JetBrainså¼€å‘çš„ä¸€ä¸ªä¸“é—¨çš„Pythoné›†æˆå¼€å‘ç¯å¢ƒï¼Œç”±äºå…¶æå…¶äº²æ°‘ï¼Œç®€å•ä¸Šæ‰‹é—»åã€‚å½“ç„¶ç›®å‰ä¸šç•Œçš„è®¸å¤šIDEéƒ½æ˜¯ç”±JetBrainså¼€å‘çš„ï¼Œå¹¶ä¸”å®‰å“å¼€å‘çš„è‘—ååè¨€kotlinä¹Ÿæ˜¯ç”±JetBrainsä¸»å¯¼ç ”å‘çš„ã€‚</p><h3 id="ä¸‹è½½">ä¸‹è½½</h3><p>è¿™é‡Œæ˜¯Pycharmä¸‹è½½çš„å®˜æ–¹ç½‘ç«™ï¼ˆ<ahref="https://www.jetbrains.com/pycharm/">å®˜ç½‘</a>ï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼Œåœ¨çº¢è‰²æ¡†æ¡†ä¸­å°±å¯ä»¥ä¸‹è½½äº†</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724000324453.png"alt="image-20230724000324453" /><figcaption aria-hidden="true">image-20230724000324453</figcaption></figure><p>Pycharmåˆ†ä¸ºFree Communityï¼ˆå…è´¹ç¤¾åŒºç‰ˆï¼‰å’ŒProfessionalï¼ˆä¸“ä¸šç‰ˆï¼‰</p><p>åœ¨ç‚¹å‡»ä¸‹è½½åï¼Œæ˜¾ç¤ºåœ¨æœ€ä¸Šè¾¹çš„æ˜¯ä¸“ä¸šç‰ˆï¼Œæ˜¯éœ€è¦ä»˜è´¹çš„</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724000717317.png"alt="ä¸“ä¸šç‰ˆ" /><figcaption aria-hidden="true">ä¸“ä¸šç‰ˆ</figcaption></figure><p>å‘ä¸‹æ»šåŠ¨ï¼Œçœ‹åˆ°ç¤¾åŒºç‰ˆæœ¬ï¼Œå¦‚æœå›Šä¸­ç¾æ¶©ï¼ˆä½†æ˜¯ç¡®å®è´µï¼‰ï¼Œç¤¾åŒºç‰ˆä¹Ÿæ˜¯è¶³å¤Ÿæˆ‘ä»¬å­¦ä¹ ä½¿ç”¨çš„ã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724001208274.png"alt="è¿™è¿˜æ˜¯åˆšæ‰çš„ç½‘é¡µåªæ˜¯ä¸‹æ‹‰äº†" /><figcaption aria-hidden="true">è¿™è¿˜æ˜¯åˆšæ‰çš„ç½‘é¡µåªæ˜¯ä¸‹æ‹‰äº†</figcaption></figure><p><strong>ä½†æ˜¯</strong>ï¼Œæˆ‘ä»¬æ˜¯å­¦ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥<strong>ç™½å«–</strong></p><h3id="ä¸“ä¸šç‰ˆç™½å«–éœ€è¦å­¦æ ¡é‚®ç®±æˆ–è€…å­¦ä¿¡ç½‘">ä¸“ä¸šç‰ˆç™½å«–ï¼ˆéœ€è¦å­¦æ ¡é‚®ç®±æˆ–è€…å­¦ä¿¡ç½‘ï¼‰</h3><p>è¿˜æ˜¯åœ¨è¿™ä¸ªç½‘é¡µï¼Œåœ¨å³ä¸Šè§’æœ‰ä¸€ä¸ªå°äººå¤´ï¼Œç‚¹è¿›å»</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724002352976.png"alt="image-20230724002352976" /><figcaption aria-hidden="true">image-20230724002352976</figcaption></figure><p>è¿™æ—¶å€™ä¼šè¹¦å‡ºæ¥ä¸€ä¸ªè®©ä½ ç™»é™†çš„ç•Œé¢ï¼Œå¦‚æœä½ æœ‰è´¦å·é‚£å°±ç™»é™†å°±å¥½äº†ï¼Œå¦‚æœæ²¡æœ‰è¯·æ³¨å†Œä¸€ä¸ªï¼Œ<strong>å¹¶ä¸”åŠ¡å¿…è®°ä½è´¦å·å¯†ç </strong>ã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724002741727.png"alt="image-20230724002741727" /><figcaption aria-hidden="true">image-20230724002741727</figcaption></figure><p>æˆ‘å·²ç»æœ‰è´¦å·å°±ç›´æ¥ç™»é™†äº†ï¼Œä½†ä¸ºäº†æ›´å¥½çš„æ¼”ç¤ºæˆ‘æ³¨å†Œä¸€ä¸ªæ–°çš„è´¦å·ï¼Œæ³¨å†Œå¾ˆç®€å•ï¼Œç™»é™†åé¡µé¢æ˜¯è¿™æ ·çš„ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724003726451.png"alt="image-20230724003726451" /><figcaption aria-hidden="true">image-20230724003726451</figcaption></figure><p>è¿™ä¸ªé¡µé¢çš„æ„æ€æ˜¯è¯´ä½ ç›®å‰æ²¡æœ‰ä»»ä½•è®¸å¯è¯ï¼Œä»–å‘Šè¯‰ä½ ä½ å¯ä»¥å¦‚ä½•è·å¾—è®¸å¯è¯ï¼šä¹°ä¸€ä¸ªï¼Œæ‰¾å…¬å¸è¦ä¸€ä¸ªï¼Œå­¦ç”Ÿæˆ–è€å¸ˆå…è´¹</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724003835700.png"alt="image-20230724003835700" /><figcaption aria-hidden="true">image-20230724003835700</figcaption></figure><p>å¥½äº†ï¼Œç¬¬ä¸‰ä¸ªå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç‚¹è¿›å»ï¼Œä¸€ç›´å¾€ä¸‹åˆ’</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724004035867.png"alt="image-20230724004035867" /><figcaption aria-hidden="true">image-20230724004035867</figcaption></figure><p>ç‚¹å‡»çº¢æ¡†é‡Œçš„Applynowï¼Œè¿›å»åæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªé¡µé¢ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€‰æ‹©åˆ‡æ¢ä¸ºä¸­æ–‡ï¼Œå½“ç„¶ä¸æ¢ä¹Ÿè¡Œã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724004131577.png"alt="image-20230724004131577" /><figcaption aria-hidden="true">image-20230724004131577</figcaption></figure><p>ç®€å•è¯´æ˜ä¸€ä¸‹å„ä¸ªéœ€è¦å¡«ä»€ä¹ˆï¼š</p><ul><li>æˆ‘æ˜¯å­¦ç”Ÿ</li><li>å°±è¯»</li><li>æ˜¯å¦å°±è¯»è®¡ç®—æœºç§‘å­¦ï¼Œéšä¾¿é€‰æ— æ‰€è°“</li><li>é‚®ç®±åœ°å€ï¼š<strong>åŠ¡å¿…å¡«å†™æ­£ç¡®çš„å­¦æ ¡é‚®ç®±åœ°å€</strong>ï¼Œä»¥æˆ‘çš„ä¸ºä¾‹<code>202011@stu.neu.edu.cn</code>,è¿™éå¸¸é‡è¦ï¼Œå› ä¸ºå­¦æ ¡é‚®ç®±æ˜¯è¯æ˜å­¦ç”Ÿåœ¨è¯»çš„é‡è¦ä¸œè¥¿ã€‚</li><li>å§“åæ­£å¸¸å¡«å†™</li><li>åè¾¹é™¤äº†æ¥å—åè®®å¿…é¡»å‹¾é€‰ï¼Œå…¶ä½™éƒ½å¦‚å®å¡«å†™å°±è¡Œ</li></ul><p>ç„¶åç‚¹å‡»æäº¤ï¼Œä¼šè·³è½¬å‡ºå¦‚ä¸‹çš„ç•Œé¢ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724004923274.png"alt="image-20230724004923274" /><figcaption aria-hidden="true">image-20230724004923274</figcaption></figure><p>è¿™ä¸ªç•Œé¢çš„æ„æ€æ˜¯è¯´ï¼Œå»ä½ çš„å­¦æ ¡é‚®ç®±ç­‰å¾…JetBrainså‘çš„é‚®ä»¶ï¼Œè¿™æ—¶å€™æ‰“å¼€å­¦æ ¡é‚®ç®±ç­‰å¾…å°±è¡Œäº†</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724005119114.png"alt="image-20230724005119114" /><figcaption aria-hidden="true">image-20230724005119114</figcaption></figure><p>æ¥åˆ°é‚®ä»¶åï¼Œç‚¹å‡»ä»–å‘ç»™ä½ çš„é“¾æ¥ï¼Œé˜…è¯»åç»­åè®®å¹¶åŒæ„ï¼Œç„¶åä½ å°±èƒ½å¤Ÿè·å¾—ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724005400501.png"alt="image-20230724005400501" /><figcaption aria-hidden="true">image-20230724005400501</figcaption></figure><p>JetBrainså‡ ä¹æ‰€æœ‰äº§å“çš„ä¸“ä¸šç‰ˆè®¸å¯è¯ï¼</p><h3 id="å®‰è£…">å®‰è£…</h3><p>å®‰è£…æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œåˆ—ä¸¾å‡ ä¸ªé‡è¦çš„ç‚¹ï¼š</p><ul><li>è¦è®°å¾—åŠ å…¥pathè·¯å¾„å‹¾é€‰</li><li>è¦è®°å¾—åˆ‡æ¢å®‰è£…è·¯å¾„ï¼Œå°½é‡ä¸è£…Cç›˜</li></ul><p>å®‰è£…ç»“æŸåï¼Œæ‰“å¼€Pycharmç•Œé¢ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724005711445.png"alt="image-20230724005711445" /><figcaption aria-hidden="true">image-20230724005711445</figcaption></figure><p>æ­£å¸¸ç™»é™†å°±å¯ä»¥ç¾ç¾çš„ä½¿ç”¨Pycharmäº†</p><h2 id="vscode">Vscode</h2><p>Vscodeä½œä¸ºä¸€ä¸ªè½»é‡çº§çš„IDEï¼Œå…¶æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å¿«ï¼Œç›¸æ¯”Pycharmè¦å¼€ä¸ªå‡ åˆ†é’Ÿï¼ŒVscodeå‡ ä¹æ˜¯ç¬é—´æ‰“å¼€ï¼Œä½†æ˜¯Vscodeçš„å„é¡¹è®¾ç½®å¹¶ä¸æ˜¯å¾ˆå‚»ç“œï¼Œéœ€è¦è‡ªå·±é…ç½®æˆ–è€…å®‰è£…æ’ä»¶ï¼Œæœ‰äº›åŠŸèƒ½çš„é›†æˆä¹Ÿä¸å¦‚Pycharmã€‚</p><p>Vscodeçš„å®‰è£…å°±ä¸å†è¯¦ç»†çš„æè¿°äº†ï¼Œè¿™é‡Œç®€å•æè¿°ä¸€ä¸‹å®‰è£…Pythonæ’ä»¶</p><ul><li>è¿›å…¥æ’ä»¶å¸‚åœºï¼Œç‚¹å‡»å·¦è¾¹çš„çº¢æ¡†ï¼š</li></ul><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724010109565.png"alt="image-20230724010109565" /><figcaption aria-hidden="true">image-20230724010109565</figcaption></figure><ul><li>åœ¨æœ€ä¸Šè§’æœç´¢Python</li></ul><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230724010237254.png"alt="image-20230724010237254" /><figcaption aria-hidden="true">image-20230724010237254</figcaption></figure><ul><li>ç›´æ¥ä¸‹è½½è¿™ä¸ªå°±å¯ä»¥ç”¨äº†</li></ul><h2 id="æ€»ç»“">æ€»ç»“</h2><p>å®Œæˆä¹±ä¸ƒå…«ç³Ÿçš„ä¸‹è½½åå°±å¯ä»¥å¼€å§‹ä½“éªŒä¸€ä¸‹é¸Ÿæªæ¢ç‚®çš„å¿«æ„Ÿäº†ï¼Œç”¨å®Œåº”è¯¥åªæœ‰ä¸€å¥è¯â€œè¿™æ˜¯é£ä¸€æ ·çš„æ„Ÿè§‰~â€ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anacondaä»å…¥é—¨åˆ°å…¥åœŸ</title>
      <link href="/2023/07/22/Anaconda/"/>
      <url>/2023/07/22/Anaconda/</url>
      
        <content type="html"><![CDATA[<h1 id="anacondaä»å…¥é—¨åˆ°å…¥åœŸ">Anacondaâ€”â€”ä»å…¥é—¨åˆ°å…¥åœŸ</h1><h2 id="å¼•å…¥">å¼•å…¥</h2><p>åˆšåˆšå…¥é—¨Pythonçš„åŒå­¦å¯èƒ½å¯¹ç¯å¢ƒé…ç½®å¹¶æ²¡æœ‰ä»€ä¹ˆæ„Ÿè§‰ï¼Œæ¯•ç«Ÿå°±æ˜¯ä¸€ä¸ªpipçš„äº‹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è®¾æƒ³ä¸€ä¸‹ï¼Œç°åœ¨ä½ åœ¨Githubä¸Šä¸‹è½½äº†ä¸€ä¸ªPythoné¡¹ç›®ï¼Œç„¶è€Œè¿™ä¸ªé¡¹ç›®éœ€è¦ä½ çš„numpyç‰ˆæœ¬ä¸º1.12ï¼Œè€Œä½ çš„numpyç‰ˆæœ¬æ˜¯1.11ï¼Œé‚£ä¹ˆä½ æ˜¯ä¸æ˜¯å°±è¦åˆ é™¤å†å®‰è£…ï¼Ÿè¿™ä»…ä»…æ˜¯ä¸€ä¸ªé¡¹ç›®ï¼Œè€Œåœ¨æ—¥å¸¸ç¼–ç¨‹ä¸­ç»å¸¸é¢å¯¹è¿™ç§é—®é¢˜ï¼Œè€ŒAnacondaå°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="pythonç¯å¢ƒ">Pythonç¯å¢ƒ</h3><p>è¿™é‡Œæˆ‘éšä¾¿æ‰“å¼€äº†ä¸€ä¸ªæˆ‘ç”µè„‘ä¸Šçš„Pythonçš„æºæ–‡ä»¶ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230722214308903.png" alt="æœ´ç´ çš„Pythonç›®å½•" style="zoom: 67%;" /></p><p>åœ¨è¿™é‡ŒLibä¸­å­˜æ”¾äº†Pythonçš„å®˜æ–¹åŒ…å’Œç¬¬ä¸‰æ–¹åŒ…ï¼Œæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åŒ…éƒ½åœ¨site-packagesä¸­ï¼Œè¿™å…¶ä¸­å°±æœ‰æˆ‘ä»¬å¸¸ç”¨çš„matplotlibã€‚</p><center class="half"><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230722214809310.png" alt="image-20230722214809310" width="400"/><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230722215158542.png" alt="image-20230722215158542" width="400"/></center><h2 id="anaconda">Anaconda</h2><p>Anaconda(<ahref="https://www.anaconda.com/download/#macos">å®˜ç½‘</a>ï¼‰å°±æ˜¯å¯ä»¥ä¾¿æ·è·å–åŒ…ä¸”å¯¹åŒ…èƒ½å¤Ÿè¿›è¡Œç®¡ç†ï¼ŒåŒæ—¶å¯¹ç¯å¢ƒå¯ä»¥ç»Ÿä¸€ç®¡ç†çš„å‘è¡Œç‰ˆæœ¬ã€‚AnacondaåŒ…å«äº†condaã€Pythonåœ¨å†…çš„è¶…è¿‡180ä¸ªç§‘å­¦åŒ…åŠå…¶ä¾èµ–é¡¹ã€‚</p><h3 id="ä¸‹è½½">ä¸‹è½½</h3><p>ä¸‹è½½ä¸€èˆ¬æ˜¯æ²¡æœ‰ä»€ä¹ˆéš¾åº¦çš„ä¸€æ­¥ä¸€æ­¥çš„èµ°ä¸‹å»å°±è¡Œï¼Œè¿™é‡Œç®€å•æä¸€ä¸‹ï¼ŒAnacondaæœ‰æ ‡å‡†ç‰ˆå’Œminiç‰ˆï¼Œå¦‚æœä½ çš„ç”µè„‘å†…å­˜åƒç´§ï¼Œé‚£å¯ä»¥è€ƒè™‘å®‰è£…mini-condaï¼ŒåŠŸèƒ½ä¸Šåªæ˜¯æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢ï¼Œä½†æ˜¯çœŸçš„å°å¾ˆå¤šã€‚</p><h3 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡</h3><p>åœ¨<code>æ§åˆ¶é¢æ¿\ç³»ç»Ÿå’Œå®‰å…¨\ç³»ç»Ÿ\é«˜çº§ç³»ç»Ÿè®¾ç½®\ç¯å¢ƒå˜é‡\ç”¨æˆ·å˜é‡\PATH</code>ä¸­æ·»åŠ  anacondaçš„å®‰è£…ç›®å½•çš„Scriptsæ–‡ä»¶å¤¹,æ¯”å¦‚æˆ‘çš„è·¯å¾„æ˜¯<code>F:\miniconda3\Scripts</code>,çœ‹ä¸ªäººå®‰è£…è·¯å¾„ä¸åŒéœ€è¦è‡ªå·±è°ƒæ•´ã€‚</p><p>è¿™ä¸ªå­¦ä¹ è¿‡Javaçš„åŒå­¦åº”è¯¥å¯¹è¿™å¥—å·¥ä½œå·²ç»å¾ˆç†Ÿæ‚‰äº†ã€‚é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥åœ¨ä½ çš„shellç•Œé¢(win+Rè¾“å…¥<code>cmd</code>ï¼Œä¹Ÿå°±æ˜¯å‘½ä»¤è¡Œç•Œé¢)è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230722222040833.png"alt="image-20230722222040833" /><figcaption aria-hidden="true">image-20230722222040833</figcaption></figure><p>æ˜¾ç¤ºå‡ºä½ çš„Anacondaç‰ˆæœ¬å³è¡¨ç¤ºé…ç½®æˆåŠŸã€‚</p><p>Anacondaæœ¬èº«æ˜¯è‡ªå¸¦ä¸€ä¸ª<code>Anaconda Powershell Prompt</code>çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œ</p><p>ä¸ºäº†é¿å…å¯èƒ½å‘ç”Ÿçš„é”™è¯¯,æˆ‘ä»¬å…ˆæŠŠæ‰€æœ‰å·¥å…·åŒ…è¿›è¡Œå‡çº§ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda upgrade --all</span><br></pre></td></tr></table></figure><h3 id="anacondaä¸è™šæ‹Ÿç¯å¢ƒ">Anacondaä¸è™šæ‹Ÿç¯å¢ƒ</h3><p>é¦–å…ˆå›é¡¾ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­çš„æ¦‚å¿µï¼šè™šæ‹Ÿã€‚</p><p>æ“ä½œç³»ç»Ÿä¸­çš„è™šæ‹Ÿæ€§æ˜¯æŒ‡é€šè¿‡è½¯ä»¶æŠ€æœ¯å°†ä¸€ä¸ªç‰©ç†èµ„æºåˆ†å‰²ä¸ºå¤šä¸ªé€»è¾‘èµ„æºï¼Œæ˜¯çš„å¤šä¸ªåº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶ä½¿ç”¨è¿™äº›é€»è¾‘èµ„æºï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„åˆ©ç”¨ç‡å’Œæ•ˆç‡ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ç”¨äººè¯æè¿°ä¸€ä¸‹å°±æ˜¯æŠŠä¸€æ•´å—èµ„æºè½¬åŒ–æˆå¥½å¤šä¸ªé€»è¾‘èµ„æºï¼Œä½†å®é™…ä¸Šè¿˜æ˜¯è¿™äº›èµ„æºï¼Œè™šæ‹Ÿç¯å¢ƒä¹Ÿæ˜¯è¿™æ ·çš„æ€è·¯ã€‚å…·ä½“çš„åŸç†å¤§å®¶å¯ä»¥å‚è§<ahref="https://whiteboxml.com/blog/the-definitive-guide-to-python-virtual-environments-with-conda">[Theguide to Python virtual environments withconda]</a>è¿™ç¯‡åšå®¢ï¼Œå†™çš„éå¸¸è¯¦ç»†ã€‚</p><h3 id="anacondaå¸¸ç”¨å‘½ä»¤">Anacondaå¸¸ç”¨å‘½ä»¤</h3><h4 id="è¿›å…¥ç¯å¢ƒ-activate">è¿›å…¥ç¯å¢ƒ activate</h4><p>activate ï¼ˆæ„ä¸ºï¼šæ¿€æ´»ï¼Œå­¦è¿‡ç¥ç»ç½‘ç»œçš„æ‡‚éƒ½æ‡‚ï¼‰ï¼Œåœ¨shellä¸­è¾“å…¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate</span><br></pre></td></tr></table></figure><p><strong>æœ€æ–°ç‰ˆçš„Anacondaå·²ç»å°†activateæŒ‡ä»¤ä»condaä¸­ç§»é™¤ï¼Œæ–°ç‰ˆå‘½ä»¤ä¸ºï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source activate</span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥ç›´æ¥è¿›å…¥Anacondaè‡ªå¸¦çš„baseç¯å¢ƒä¸­ï¼Œå¦‚æœè¿™æ—¶å€™è¾“å…¥Pythoné‚£ä¹ˆå°±è¿›å…¥çš„å½“ä¸‹baseç¯å¢ƒä¸­çš„Pythonï¼Œè€Œä¸æ˜¯åŸæ¥ç”µè„‘ä¸­çš„Pythonã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230722230729568.png"alt="image-20230722230729568" /><figcaption aria-hidden="true">image-20230722230729568</figcaption></figure><h4 id="åˆ›å»ºç¯å¢ƒ-create">åˆ›å»ºç¯å¢ƒ create</h4><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n ml python=3.7</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤çš„å«ä¹‰ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ-nè¡¨ç¤ºè¦å†™å…¥ä»–çš„åå­—ä¹Ÿå°±æ˜¯nameï¼ŒPython=3.7æŒ‡ä¸‹è½½3.7ç‰ˆæœ¬çš„Python</p><h4 id="åˆ‡æ¢ç¯å¢ƒ-activate">åˆ‡æ¢ç¯å¢ƒ activate</h4><p>å…¶å®è¿˜æ˜¯è¿›å…¥ï¼Œåªä¸è¿‡ä»çœŸå®åˆ°è™šæ‹Ÿå’Œè™šæ‹Ÿåˆ°è™šæ‹Ÿï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´å°†è¿™ä¸ªå‘½ä»¤å«åšæ¿€æ´»ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate ml</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åˆ‡æ¢åˆ°äº†mlçš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œè¿™é‡Œç‰¹åˆ«å¼ºè°ƒä¸€ç‚¹ï¼Œå¦‚æœç¯å¢ƒåè®°ä¸ä½çš„è¯ï¼Œå†™é”™äº†æ˜¯åˆ‡æ¢ä¸è¿›å»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æœ‰ä¸‹é¢è¿™æ¡å‘½ä»¤ã€‚</p><h4 id="æŸ¥çœ‹ç¯å¢ƒ-env-list">æŸ¥çœ‹ç¯å¢ƒ env list</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env list </span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230722231424466.png"alt="image-20230722231424466" /><figcaption aria-hidden="true">image-20230722231424466</figcaption></figure><h4 id="å®‰è£…ç¬¬ä¸‰æ–¹åŒ…-install">å®‰è£…ç¬¬ä¸‰æ–¹åŒ… install</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install requests</span><br></pre></td></tr></table></figure><p>condaå‘½ä»¤çš„å®‰è£…å¥½å¤„å°±åœ¨äºä¼šç›´æ¥å¸®ä½ å®‰è£…å¥½ä¾èµ–ï¼Œä½†æ˜¯åå¤„æ˜¯æ…¢ï¼Œä¸ç¨³å®šï¼Œè€Œä¸”æœ‰æ—¶å€™ä¼šä¸å¦‚pipä¸‹è½½çµæ´»ã€‚å› æ­¤ï¼Œåªè¦èƒ½åˆ‡æ¢åˆ°è™šæ‹Ÿç¯å¢ƒä¸­å»ï¼Œé‚£ä¹ˆä¾ç„¶å¯ä»¥ä½¿ç”¨pipå‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install request</span><br></pre></td></tr></table></figure><h4 id="å¸è½½ç¬¬ä¸‰æ–¹åŒ…-remove">å¸è½½ç¬¬ä¸‰æ–¹åŒ… remove</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda remove requests</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall requests</span><br></pre></td></tr></table></figure><h4 id="å¯¼å…¥å¯¼å‡ºç¯å¢ƒ">å¯¼å…¥å¯¼å‡ºç¯å¢ƒ</h4><p>å¯¼å‡ºå½“å‰ç¯å¢ƒçš„åŒ…ä¿¡æ¯å¯ä»¥ç”¨å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env export &gt; name.yaml</span><br></pre></td></tr></table></figure><p>å°†åŒ…ä¿¡æ¯å­˜å…¥yamlæ–‡ä»¶ä¸­ï¼Œå½“éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªç›¸åŒçš„è™šæ‹Ÿç¯å¢ƒæ—¶å¯ä»¥ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env create -f name.yaml</span><br></pre></td></tr></table></figure><h2 id="è¿æ¥åˆ°pycharm">è¿æ¥åˆ°Pycharm</h2><p>Pycharmç›¸å¯¹æ›´ä¸ºæ–¹ä¾¿ï¼Œåœ¨<code>Setting =&gt; Project =&gt; Project Interpreter</code>é‡Œé¢ä¿®æ”¹ Project Interpreterã€‚å¯èƒ½æ˜¯ä¸€ä¸ªå°é½¿è½®ï¼Œä¹Ÿå¯èƒ½æ˜¯Addinterpreterã€‚</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230723001703414.png" alt="image-20230723001703414" style="zoom: 50%;" /></p><p>ç„¶ååœ¨é‡Œè¾¹è®¾ç½®ä½ çš„condaæœ¬åœ°è·¯å¾„ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230723001842057.png" alt="image-20230723001842057" style="zoom:67%;" /></p><h2 id="è¿æ¥åˆ°vscode">è¿æ¥åˆ°Vscode</h2><ol type="1"><li>å®‰è£…Pythonæ’ä»¶</li></ol><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230723000208886.png"alt="image-20230723000208886" /><figcaption aria-hidden="true">image-20230723000208886</figcaption></figure><ol start="2" type="1"><li><p>é…ç½®Pythonè§£é‡Šå™¨</p><ul><li>æŒ‰Ctrl+Shift+Pï¼Œè¾“å…¥pythonï¼Œé€‰æ‹©è§£é‡Šå™¨</li><li>æ·»åŠ è§£é‡Šå™¨è·¯å¾„</li></ul></li></ol><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230723000957655.png"alt="æ·»åŠ æˆåŠŸåçš„æƒ…å†µ" /><figcaption aria-hidden="true">æ·»åŠ æˆåŠŸåçš„æƒ…å†µ</figcaption></figure><h2 id="æœ€å">æœ€å</h2><p>Anaconda æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åŒ…ç®¡ç†è½¯ä»¶ï¼Œæ¯”å¦‚åœ¨Anacondaä¸Šä½¿ç”¨jupyternotebookç­‰ï¼Œå¿«é€Ÿåˆ‡æ¢åŒ…ï¼Œä»¥åŠä»–çš„ä¸€äº›æ•°æ®åˆ†æåŒ…ã€‚</p><h2 id="æ¨èé˜…è¯»">æ¨èé˜…è¯»</h2><p><ahref="https://research.computing.yale.edu/sites/default/files/files/anaconda.pdf">Introductionto Anaconda (yale.edu)</a> è€¶é²å¤§å­¦çš„ä¸€ä¸ªPPT</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yolov5</title>
      <link href="/2023/07/05/yolov5/"/>
      <url>/2023/07/05/yolov5/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>yoloç³»åˆ—åŸºç¡€å­¦ä¹ </title>
      <link href="/2023/07/04/yoloV3/"/>
      <url>/2023/07/04/yoloV3/</url>
      
        <content type="html"><![CDATA[<h1 id="yolov1">Yolov1</h1><h2 id="æ ¸å¿ƒå†…å®¹">æ ¸å¿ƒå†…å®¹</h2><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230704171038267.png"alt="åˆ†è€Œæ²»ä¹‹" /><figcaption aria-hidden="true">åˆ†è€Œæ²»ä¹‹</figcaption></figure><p>â‘ åˆ†è€Œæ²»ä¹‹ï¼Œå…¶ç±»ä¼¼å·ç§¯ç¥ç»ç½‘ç»œï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†å—æ‰¾åˆ°ç‰©ä½“ä¸­å¿ƒï¼Œå…¶æ ¸å¿ƒæ€è·¯å°±æ˜¯ä¸€ä¸ªè½ï¼Œå…¨éƒ½ç”¨CNNè½å‡ºæ¥</p><p>â‘¡leaky ReLu <span class="math display">\[y=\begin{array}{l}  \left\{\begin{matrix}  x,x&gt;0 \\0.1x,otherwise\end{matrix}\right.    \end{array}\]</span> â‘¢ ç«¯åˆ°ç«¯è®­ç»ƒ</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/20180910130225149"alt="ç«¯åˆ°ç«¯è®­ç»ƒ" /><figcaption aria-hidden="true">ç«¯åˆ°ç«¯è®­ç»ƒ</figcaption></figure><h1 id="yolov2">Yolov2</h1><h2 id="åŒæ¯”v1çš„æ”¹è¿›">åŒæ¯”v1çš„æ”¹è¿›</h2><p><strong>tradeoffï¼šæŠ˜ä¸­</strong></p><p>batch normalizationï¼šæŸç§æ­£åˆ™åŒ–æ‰‹æ®µï¼ŒBN</p><p>high resolution classifierï¼šå¾®è°ƒä¸è®­ç»ƒæ¨¡å‹</p><p>Convolutional With Anchor Boxesï¼šanchoræœºåˆ¶</p><ul><li><p>Dimension Clustersï¼šé€‰æ‹©anchorprioréœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼Œé‡‡ç”¨k-meansèšç±»æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„å¤§å°</p></li><li><p>Direct location prediction: è§£å†³ä¸ç¨³å®šï¼Œç›¸å¯¹ä½ç½®é¢„æµ‹</p></li></ul><p>Fine-Grained Features: è°ƒæ•´åçš„yoloå°†åœ¨13*13çš„ç‰¹å¾ä¸Šåšæ£€æµ‹ä»»åŠ¡</p><p>multi-scale trainingï¼šå¤šæ ‡å‡†åŒ–è¾“å…¥è®­ç»ƒ</p><p>Darknet-19ï¼šbackboneç½‘ç»œ</p><h1 id="yolov3">Yolov3</h1><h2 id="åŸºæœ¬æµç¨‹">åŸºæœ¬æµç¨‹</h2><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/24215864-83d220ef29016abf"alt="åŸºæœ¬ç»„ä»¶" /><figcaption aria-hidden="true">åŸºæœ¬ç»„ä»¶</figcaption></figure><h2 id="ä¿ç•™éƒ¨åˆ†">ä¿ç•™éƒ¨åˆ†</h2><ul><li>åˆ†å‰²æ£€æµ‹</li><li>leaky ReLu</li><li>ç«¯åˆ°ç«¯è®­ç»ƒï¼Œloss function ä¸å˜</li><li>BNæ­£åˆ™åŒ–ä¸å˜ï¼Œæ”¾åœ¨leaky ReLuå’Œæ¯ä¸€å±‚å·ç§¯å</li><li>mult scale training</li></ul><h2 id="åŸºæœ¬ç»„ä»¶">åŸºæœ¬ç»„ä»¶</h2><p>CBLï¼šYolov3ç½‘ç»œç»“æ„çš„æœ€å°ç»„ä»¶ï¼Œç”±Conv+Bn+Leaky_reluç»„æˆ</p><p>Res unitï¼šå€Ÿé‰´Resnetç½‘ç»œä¸­çš„æ®‹å·®ç»“æ„ï¼Œè®©ç½‘ç»œå¯ä»¥æ„å»ºçš„æ›´æ·±ã€‚</p><p>ResXï¼šç”±ä¸€ä¸ªCBLå’ŒXä¸ªæ®‹å·®ç»„ä»¶æ„æˆ</p><h2 id="åŸºç¡€æ“ä½œ">åŸºç¡€æ“ä½œ</h2><p>Concatï¼šæ‹¼æ¥</p><p>Addï¼šå¼ é‡ç›¸åŠ ï¼Œä¸shortcutåŠŸèƒ½ä¸€è‡´</p><h2 id="backbone">backbone</h2><p>v3ä¸­æ²¡æœ‰æ± åŒ–å±‚å’Œå…¨è¿æ¥å±‚ï¼Œå°ºå¯¸å˜æ¢é€šè¿‡æ”¹å˜å·ç§¯å’Œæ­¥é•¿</p><p>backboneä¼šå°†è¾“å…¥å›¾ç‰‡çš„å°ºå¯¸ç¼©çŸ­åˆ°åŸæ¥çš„<spanclass="math inline">\(\frac{1}{32}\)</span>,æ‰€ä»¥è¦æ±‚è¾“å…¥å›¾ç‰‡å¾—æ˜¯32çš„å€æ•°</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/24215864-e67c9e615638e745"alt="å°ºå¯¸å˜æ¢æ¯”è¾ƒ" /><figcaption aria-hidden="true">å°ºå¯¸å˜æ¢æ¯”è¾ƒ</figcaption></figure><p>è¿™é‡Œè¦æ³¨æ„Darknet-19æ˜¯è¦æ¯”Darknet-53å¿«çš„ï¼Œå› æ­¤v3è¿˜æä¾›äº†tinynet</p><h2 id="perdictions-across-scales">Perdictions across scales</h2><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230705105112921.png"alt="image-20230705105112921" /><figcaption aria-hidden="true">image-20230705105112921</figcaption></figure><p>è¿™ä¸ªå€Ÿé‰´äº†FPN(feature pyramidnetworks)ï¼Œé‡‡ç”¨å¤šå°ºåº¦æ¥å¯¹ä¸åŒsizeçš„ç›®æ ‡è¿›è¡Œæ£€æµ‹ï¼Œè¶Šç²¾ç»†çš„gridcellå°±å¯ä»¥æ£€æµ‹å‡ºè¶Šç²¾ç»†çš„ç‰©ä½“ã€‚è§„å¾‹ä¸º1:2:4</p>]]></content>
      
      
      
        <tags>
            
            <tag> è§†è§‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythoné«˜ç»´æ•°æ®åˆ†æå®éªŒæŠ¥å‘Š</title>
      <link href="/2023/04/23/pythonHighDeminsion/"/>
      <url>/2023/04/23/pythonHighDeminsion/</url>
      
        <content type="html"><![CDATA[<h1 id="å®éªŒä¸€-pythonåŸºç¡€è¯­æ³•å­¦ä¹ æ€»ç»“">å®éªŒä¸€PythonåŸºç¡€è¯­æ³•å­¦ä¹ æ€»ç»“</h1><h2 id="å®éªŒç›®çš„">å®éªŒç›®çš„</h2><p>å­¦ä¹ PythonåŸºæœ¬è¯­æ³•</p><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>çº¿ä¸Š</p><h2 id="å®éªŒæ–¹å¼">å®éªŒæ–¹å¼</h2><p>é˜…è¯»æ•™ç¨‹ä¸ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡">å®éªŒè®¾è®¡</h2><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/Python%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80.png"alt="Pythonè¯­è¨€åŸºç¡€" /><figcaption aria-hidden="true">Pythonè¯­è¨€åŸºç¡€</figcaption></figure><p><span class="math display">\[å›¾1.1 PythonåŸºç¡€è¯­æ³•å­¦ä¹ å®éªŒè®¾è®¡\]</span></p><h2 id="å®éªŒå†…å®¹">å®éªŒå†…å®¹</h2><h3 id="pythonè¯­æ³•æ€»ç»“">1. Pythonè¯­æ³•æ€»ç»“</h3><h4 id="pythonåŸºæœ¬è¯­æ³•">1.1 PythonåŸºæœ¬è¯­æ³•</h4><h4 id="åŸºæœ¬è¯­å¥">ï¼ˆ1ï¼‰ åŸºæœ¬è¯­å¥</h4><p>â‘ é¦–å…ˆæ˜¯è¾“å…¥è¾“å‡ºè¯­å¥ï¼Œè¾“å…¥è¯­å¥æ¯”è¾ƒç®€å•ä¸º<code>name=input()</code>ï¼ŒåŸºæœ¬è¾“å‡ºè¯­å¥ä¸º<code>print()</code>,æ‹¼æ¥è¾“å‡ºä½¿ç”¨é€—å·ã€‚</p><p>â‘¡ æ³¨é‡Šé‡‡ç”¨<code>#</code> è¿›è¡Œä¹¦å†™</p><p>â‘¢ä»£ç é£æ ¼ï¼šPythoné‡‡ç”¨çš„æ˜¯ç¼©è¿›å¼ä»£ç é£æ ¼ï¼Œæ‰€ä»¥å¯¹äºå¤åˆ¶ç²˜è´´æ¯”è¾ƒä¸å‹å¥½</p><p>â‘£æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼š<code>if æ¡ä»¶1 :...elif æ¡ä»¶2 : ... else : ...</code></p><p>â‘¤ å¾ªç¯è¯­å¥ï¼š</p><p>ç¬¬ä¸€ç§æ˜¯<code>for</code>å¾ªç¯ï¼š<code>for x in []:</code><code>for x in ...:</code>å¾ªç¯å°±æ˜¯æŠŠæ¯ä¸ªå…ƒç´ ä»£å…¥å˜é‡xï¼Œç„¶åæ‰§è¡Œç¼©è¿›å—çš„è¯­å¥</p><p>ç¬¬äºŒç§æ˜¯<code>while</code>å¾ªç¯ï¼š<code>while æ¡ä»¶åˆ¤æ–­è¯­å¥ :</code><code>break</code>ã€<code>continue</code>å’Œjavaä¸­ç”¨æ³•ç›¸åŒ</p><h4 id="æ•°æ®ç±»å‹">ï¼ˆ2ï¼‰ æ•°æ®ç±»å‹</h4><p><strong>â‘ æ•´æ•°ï¼š</strong>å¯¹äºå¾ˆå¤§çš„æ•°ï¼Œå¾ˆéš¾æ•°æ¸…æ¥š0çš„ä¸ªæ•°ã€‚Pythonå…è®¸åœ¨æ•°å­—ä¸­é—´ä»¥_åˆ†éš”ã€‚</p><p><strong>â‘¡ æµ®ç‚¹æ•°ï¼š</strong>å…è®¸ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•å®šä¹‰</p><p><strong>â‘¢å­—ç¬¦ä¸²ï¼š</strong>åœ¨Pythonæ²¡æœ‰ä¸¥æ ¼è¦æ±‚<code>''</code>å’Œ<code>""</code>çš„åŒºåˆ«åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰åŒºåˆ†å­—ç¬¦å’Œå­—ç¬¦ä¸²ä½¿ç”¨äºŒè€…æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><ul><li>è½¬ä¹‰ç¬¦å’ŒJavaä¸­ä¿æŒä¸€è‡´</li><li>Pythonå…è®¸ç”¨<code>r''</code>è¡¨ç¤º<code>''</code>å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰</li></ul><p><strong>â‘£ å¸ƒå°”å€¼ï¼š</strong></p><p>åœ¨Pythonä¸­è¦æ³¨æ„ï¼š<code>True</code>ã€<code>False</code>è¦æ³¨æ„å¼€å¤´é¦–å­—æ¯å¤§å†™ã€‚å¯ä»¥è¿›è¡Œä¸ã€æˆ–ã€éçš„è¿ç®—ï¼Œè¿ç®—ç¬¦åˆ†åˆ«ä¸ºï¼š<code>and</code>ï¼Œ<code>or</code>ï¼Œ<code>not</code></p><p><strong>â‘¤ç©ºå€¼ï¼š</strong>ç©ºå€¼ç”¨<code>None</code>è¡¨ç¤ºï¼Œæ„ä¹‰ä¸Javaä¸­çš„<code>null</code>ç›¸åŒã€‚</p><p><strong>â‘¥ listï¼š</strong></p><p>listæ˜¯Pythonå†…ç½®çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œlistæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚æ­¤æ•°æ®ç±»å‹åœ¨Javaçš„å®ç”¨ç±»ä¸­æœ‰å°è£…ã€‚listå’Œæ•°ç»„å¾ˆåƒï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classname = [<span class="string">&#x27;è€å…­&#x27;</span>,<span class="string">&#x27;è€å…«&#x27;</span>,<span class="string">&#x27;è€ä¹&#x27;</span>]</span><br></pre></td></tr></table></figure><p>æƒ³è¦è°ƒå–å…¶ä¸­çš„æŸä¸ªå…ƒç´ ä¹Ÿå’Œæ•°ç»„ä¸€è‡´ï¼Œèµ‹å€¼ä¿®æ”¹ç­‰ä¹Ÿç›¸åŒ<br />ä¸‹é¢åˆ—ä¸¾ä¸€ä¸‹listçš„ADT</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list:</span><br><span class="line">append(&#x27;Elem&#x27;)  # åœ¨æœ«å°¾æ·»åŠ æ–°çš„å…ƒç´ </span><br><span class="line">insert(i,&#x27;Elem&#x27;) # å°†å…ƒç´ æ’å…¥æŒ‡å®šä½ç½®</span><br><span class="line">pop() # åˆ é™¤æœ«å°¾å…ƒç´ </span><br><span class="line">pop(i) # åˆ é™¤iå¤„çš„å…ƒç´ </span><br><span class="line">len(list) # liståˆ—è¡¨çš„é•¿åº¦</span><br></pre></td></tr></table></figure><p>listå…è®¸æ··åˆç±»å‹ï¼Œä¹Ÿå…è®¸liståµŒå¥—ï¼Œä»è€Œå‡ºç°å¤šç»´æ•°ç»„ã€‚</p><p><strong>â‘¦ tuple</strong></p><p>tupleè¢«ç§°ä¸ºå…ƒç»„ï¼Œå…¶æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ä¸å¯ä¿®æ”¹ï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classname = (<span class="string">&#x27;è€å…­&#x27;</span>,<span class="string">&#x27;è€å…«&#x27;</span>,<span class="string">&#x27;è€ä¹&#x27;</span>)</span><br></pre></td></tr></table></figure><p>tupleåœ¨å®šä¹‰æ—¶è¦ç¡®å®šå…ƒç´ ä¸ªæ•°ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨å®šä¹‰åªæœ‰ä¸€ä¸ªå…ƒç´ çš„tupleæ—¶ï¼ŒPythonè¯­æ³•ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå°æ‹¬å·ï¼Œå› æ­¤åœ¨å®šä¹‰ä¸€ä¸ªå…ƒç»„çš„tupleæ—¶ï¼Œè¦åŠ ä¸€ä¸ª<code>,</code>é¿å…æ­§ä¹‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t=(<span class="number">1</span>,)</span><br></pre></td></tr></table></figure><p><strong>â‘§ å­—å…¸ï¼ˆdictï¼‰</strong></p><p>å­—å…¸å…¨ç§°ä¸ºdictionaryï¼Œåœ¨Javaå®ç”¨ç±»ä¸­å«hashmapã€‚å…¶ç”±é”®å€¼å¯¹ï¼ˆkey-valueï¼‰ç»„æˆï¼ŒæŸ¥æ‰¾é€Ÿåº¦å¿«ã€‚ä¸‹é¢æ˜¯ä¸€ç§åˆå§‹åŒ–æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&#x27;Michael&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Bob&#x27;</span>: <span class="number">75</span>, <span class="string">&#x27;Tracy&#x27;</span>: <span class="number">85</span>&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æ”¾å…¥æŒ‡å®šçš„keyä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>] = <span class="number">67</span></span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾value:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>]</span><br></pre></td></tr></table></figure><p>keyä¸valueæ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ï¼Œkeyéœ€è¦æ˜¯ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ä¿è¯keyåšhashè¿ç®—åçš„å”¯ä¸€æ€§ã€‚å¦‚æœå¤šæ¬¡å¯¹æŸä¸ªkeyèµ‹å€¼ï¼Œåè¾¹çš„valueä¼šè¦†ç›–å‰é¢çš„valueæä¾›äº†å‡ ä¸ªå‡½æ•°ï¼š</p><ol type="1"><li>é€šè¿‡<code>in</code>æ¥åˆ¤æ–­keyæ˜¯å¦åœ¨dictä¸­ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œæ ¼å¼ä¸ºï¼š<code>key in dict</code></li><li>get()æ–¹æ³•ï¼Œ<code>dict.get('key',ç©ºè¿”å›å€¼)</code>keyä¸å­˜åœ¨æ—¶è¿”å›ç©ºè¿”å›å€¼ï¼Œç©ºè¿”å›å€¼å¯è‡ªå®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰çš„è¯è¿”å›None</li><li>pop()æ–¹æ³•ï¼Œåˆ é™¤keyï¼Œå¦‚æœæœ‰valueä¹Ÿä¸€å¹¶åˆ é™¤ï¼Œæ ¼å¼ä¸º<code>pop('key')</code></li></ol><p><strong>â‘¨ é›†åˆï¼ˆsetï¼‰</strong></p><p>setæ˜¯ä¸€ç»„keyçš„é›†åˆ,é›†åˆç‰¹ç‚¹ï¼›æ— åºæ€§ã€ç¡®å®šæ€§ã€äº’å¼‚æ€§è¦åˆ›å»ºä¸€ä¸ªsetï¼Œéœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥é›†åˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•ï¼š <code>add(key)</code>æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ <code>remove(key)</code>åˆ é™¤ä¸€ä¸ªå…ƒç´ </li><li>ä¸¤ä¸ªsetå¯ä»¥åšäº¤è¿ç®—å’Œå¹¶è¿ç®—ï¼š äº¤è¿ç®—ï¼š<code>s1&amp;s2</code>å¹¶è¿ç®—ï¼š<code>s1|s2</code></li></ul><h4 id="ç†è§£å˜é‡">ï¼ˆ3ï¼‰ ç†è§£å˜é‡</h4><p>åœ¨Pythonä¸­å˜é‡ä»…ä»…æ˜¯ä¸€ä¸ªä¸€ä¸ªå­—æ¯ï¼Œå˜é‡ä¸æ‰€å¯¹åº”çš„å€¼ä¹‹é—´çš„å…³ç³»é æŒ‡é’ˆè”ç³»èµ·æ¥çš„ã€‚æ‰€ä»¥å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯ï¼š<strong>å½“æˆ‘ä»¬ä½¿ç”¨å˜é‡æ—¶ï¼Œæ›´å¤šçš„è¦å…³æ³¨å˜é‡æŒ‡å‘çš„ä¸œè¥¿ï¼Œä»–å¯èƒ½æ˜¯å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå˜é‡</strong></p><h4 id="æ¨¡å—">1.2 æ¨¡å—</h4><h4 id="æ¨¡å—å¯¼å…¥">ï¼ˆ1ï¼‰ æ¨¡å—å¯¼å…¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h4 id="æ¨¡å—ä¸‹è½½">ï¼ˆ2ï¼‰ æ¨¡å—ä¸‹è½½</h4><p>æ¨¡å—ä¸‹è½½æœ‰æ¯”è¾ƒå¤æ‚çš„æ–¹æ³•ï¼Œä¹Ÿæœ‰æ¯”è¾ƒå‚»ç“œå¼çš„ã€‚å…ˆè¯´å¤æ‚çš„ï¼Œä½¿ç”¨Pythonä¸­è‡ªå¸¦çš„pipåŒ…ç®¡ç†å·¥å…·ï¼Œç”¨å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä½¿ç”¨pipéœ€è¦äº‹å…ˆäº†è§£è¦å¯¼çš„åŒ…çš„åå­—ï¼Œè€Œä¸”ä¸èƒ½æ‰¹é‡å¯¼å…¥ï¼Œè€Œä¸”åœ¨Pythonç¼–ç¨‹é‡Œä¹Ÿæœ‰ç¼–ç¨‹ä¸€åˆ†é’Ÿï¼Œå¯¼åŒ…ä¸€å°æ—¶çš„è¯´æ³•ã€‚pipä¸‹è½½ç¬¬ä¸‰æ–¹åº“çš„æºå¯èƒ½ä¼šå¾ˆæ…¢æˆ–è€…å¤±æ•ˆï¼Œéœ€è¦ä¼šè‡ªå·±æ·»åŠ å›½å†…çš„é«˜é€Ÿé•œåƒã€‚</p><p>å‚»ç“œå¼çš„å¯¼åŒ…ï¼Œä¾‹å¦‚åœ¨pycharmä¸­å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­å†™å‡ºè‡ªå·±éœ€è¦çš„åŒ…ï¼Œç„¶åäº¤ç»™pycharmè‡ªå·±å»ä¸‹è½½ï¼Œæˆ–è€…ç”¨Anacondaæå‰æ„å»ºå¥½çš„Pythonçš„åº“ç¯å¢ƒã€‚</p><h4 id="å‡½æ•°å¼ç¼–ç¨‹">1.3 å‡½æ•°å¼ç¼–ç¨‹</h4><h4 id="å‡½æ•°">ï¼ˆ1ï¼‰ å‡½æ•°</h4><p><strong>â‘  å‡½æ•°å®šä¹‰</strong></p><p>åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ä¸ºï¼Œ<code>def å‡½æ•°å(å‚æ•°):</code>ç„¶åï¼Œåœ¨ç¼©è¿›å—ä¸­ç¼–å†™å‡½æ•°ä½“ï¼Œå‡½æ•°çš„è¿”å›å€¼ç”¨<code>return</code>è¯­å¥è¿”å›ã€‚<br />å¦‚æœæ²¡æœ‰returnè¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åä¹Ÿä¼šè¿”å›ç»“æœï¼Œåªæ˜¯ç»“æœä¸ºNoneã€‚returnNoneå¯ä»¥ç®€å†™ä¸ºreturnã€‚</p><p>1ï¼‰ç©ºå‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">nop</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œ<code>pass</code>ä½œä¸ºå ä½ç¬¦ï¼Œè¡¨ç¤ºè·³è¿‡ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨<code>if</code>çš„ç¼©è¿›å—ã€‚</p><p>2ï¼‰å‚æ•°é™åˆ¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(x, (<span class="built_in">int</span>, <span class="built_in">float</span>)):</span><br><span class="line">      <span class="keyword">raise</span> TypeError(<span class="string">&#x27;bad operand type&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šå‚æ•°é™åˆ¶å°±æ˜¯å®šä¹‰ä¸€ä¸ªæŠ¥é”™ï¼Œ<code>isinstance()</code>åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå¦‚æœä¸æ˜¯å°±æå‡ºä¸€ä¸ªé”™è¯¯ã€‚<strong>ä½œä¸ºä¸€ä¸ªå¼±ç±»å‹è¯­è¨€ï¼Œå®šä¹‰è¿™ä¸€æ­¥æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œæœ‰åŠ©äºè¯»æ‡‚ä»£ç ã€‚</strong></p><p>3ï¼‰è¿”å›å€¼ï¼š</p><p>Pythonå…è®¸è¿”å›å¤šä¸ªå€¼ï¼Œå…¶è¿”å›çš„å®é™…ä¸Šæ˜¯ä¸€ä¸ªtupleå…ƒç»„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡æ¥æ”¶ã€‚</p><p><strong>â‘¡ å‚æ•°å®šä¹‰</strong></p><p>åœ¨Pythonä¸­å‡½æ•°å‚æ•°çš„å®šä¹‰ä¹Ÿæ¯”è¾ƒçµæ´»ï¼Œæä¾›ä½ç½®å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°ç­‰</p><p>1ï¼‰ä½ç½®å‚æ•°ï¼šä½ç½®å‚æ•°æŒ‡çš„æ˜¯å‚æ•°åœ¨ä¼ å…¥æ—¶ï¼Œå®å‚å’Œå½¢å‚æœ‰ç€ä¸¥æ ¼çš„ä½ç½®å¯¹åº”å…³ç³»ï¼Œä¸ºå¸¸ç”¨å‚æ•°å½¢å¼ã€‚</p><p>2ï¼‰é»˜è®¤å‚æ•°ï¼šé»˜è®¤å‚æ•°æ˜¯æŒ‡åœ¨ä½ç½®å‚æ•°çš„åŸºç¡€ä¸Šä¸ºå…¶æ·»åŠ é»˜è®¤å€¼ï¼Œæœ‰é»˜è®¤å€¼çš„å‚æ•°ä¸ºé»˜è®¤å‚æ•°ï¼Œæ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°ä¸ºå¿…é€‰å‚æ•°åŸºæœ¬å®šä¹‰å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_def</span>(<span class="params">a,b=<span class="number">1</span></span>):</span><br><span class="line">    a=b+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ul><li>é»˜è®¤å‚æ•°å¿…é¡»åœ¨å¿…é€‰å‚æ•°åè¾¹ï¼Œå¦åˆ™ä¼šæ— æ³•è¾¨è®¤æ˜¯å¦è¾“å…¥å¿…é€‰å‚æ•°ï¼Œä»è€ŒæŠ¥é”™ã€‚</li><li>é»˜è®¤å‚æ•°çš„é»˜è®¤å€¼ä¸€å®šæ˜¯<strong>ä¸å˜å¯¹è±¡</strong>ï¼Œç”±äºPythonä¸­çš„å˜é‡å®šä¹‰ä¸ºæŒ‡é’ˆæŒ‡å‘ï¼Œä¼šå¯¼è‡´å¯å˜å¯¹è±¡å€¼å‘ç”Ÿå˜åŒ–</li></ul><p>3ï¼‰ä¸å¯å˜å¯¹è±¡æœ‰ï¼šæ•°å€¼ç±»å‹ã€å­—ç¬¦ä¸²ã€tupleå…ƒç»„ã€Noneç­‰</p><p>4ï¼‰å¯å˜å‚æ•°ï¼šå¯å˜å‚æ•°æŒ‡çš„æ˜¯å‚æ•°çš„æ•°ç›®ä¸å›ºå®šï¼Œå®šä¹‰å½¢å¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">*v</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> vi <span class="keyword">in</span> v:</span><br><span class="line">        <span class="built_in">sum</span>+=vi</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure><p>åœ¨å¯å˜å‚æ•°ä¸­ä¼ å…¥çš„æ‰€æœ‰å‚æ•°å°†ä½œä¸ºä¸€ä¸ªtupleè¢«æ¥æ”¶ï¼Œè¯¥tupleçš„å˜é‡åä¸ºå‡½æ•°åœ¨å®šä¹‰æ—¶çš„å½¢å‚åï¼Œå®šä¹‰æ—¶çš„éœ€è¦åœ¨å‚æ•°åå‰åŠ ä¸€ä¸ª<code>*</code>ã€‚</p><p>5ï¼‰å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°</p><p>æ­¤å¤„çš„å…³é”®å­—å’Œcè¯­è¨€ä¸­çš„å…³é”®å­—å¹¶ä¸æ˜¯ä¸€ä¸ªæ„ä¹‰ï¼Œè€Œæ˜¯åœ¨dictä¸­çš„keyçš„æ„ä¹‰ã€‚å³åœ¨ä¼ é€’å‚æ•°æ—¶ï¼ŒåŒæ—¶ä¼ é€’é”®ï¼ˆkeyï¼‰å’Œå€¼(value),Pythonä¼šè‡ªåŠ¨å°è£…ä¸ºä¸€ä¸ªdictã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">**v</span>):</span><br><span class="line">    <span class="built_in">print</span>(v)</span><br><span class="line">    <span class="keyword">return</span> </span><br></pre></td></tr></table></figure><p>6ï¼‰å‘½åå…³é”®å­—å‚æ•°</p><p>åœ¨å…³é”®å­—å‚æ•°ä¸Šï¼Œè¿›ä¸€æ­¥é™åˆ¶ä¼ å…¥çš„keyçš„å‘½åï¼Œå°±æœ‰äº†å‘½åå…³é”®è¯å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, *, city, job</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age, city, job)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦ä¸€ä¸ª<code>*</code>åŒºåˆ†ä½ç½®å‚æ•°ä¸å‘½åå…³é”®å­—å‚æ•°ï¼Œå¦‚æœåœ¨è¿™ä¹‹å‰æœ‰å¯å˜å‚æ•°ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åŠ <code>*</code>ã€‚<br />å‘½åå…³é”®å­—å‚æ•°å¿…é¡»ä¼ å…¥å‚æ•°åï¼Œè¿™å’Œä½ç½®å‚æ•°ä¸åŒã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥å‚æ•°åï¼Œè°ƒç”¨å°†æŠ¥é”™ï¼š</p><p>7ï¼‰å‚æ•°ç»„åˆ</p><p>åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ä½¿ç”¨å¤šä¸ªå‚æ•°è¦ä¿è¯å…¶ä¸­çš„é¡ºåºï¼Œä¾æ¬¡ä¸ºï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">onefunction</span>(<span class="params">a,b,c=<span class="number">0</span>,*args,job,city,**kw</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>tipsï¼š</p><ul><li>ä½¿ç”¨<code>*args</code>å’Œ<code>**kw</code>æ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ã€‚</li><li>å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°æœ‰ä¸€ç‚¹å±‚çº§çš„æ„Ÿè§‰ï¼Œä¸­é—´åŒ…è£¹çš„æ˜¯å‘½åå…³é”®å­—å‚æ•°è¿™ä¸ªæ¯”è¾ƒå°´å°¬çš„å‚æ•°ã€‚</li></ul><p><strong>â‘¢ é€’å½’å‡½æ•°</strong></p><p>å†™æ³•ä¸Javaç›¸åŒã€‚</p><h4 id="å®ç”¨æ–¹æ³•">ï¼ˆ2ï¼‰ å®ç”¨æ–¹æ³•</h4><p><strong>â‘  åˆ‡ç‰‡</strong></p><p>åˆ‡ç‰‡æ˜¯ä¸€ä¸ªé’ˆå¯¹tupleå’Œlistæ–¹ä¾¿åœ°å–å…ƒç´ çš„æ–¹æ³•ï¼Œè¯­æ³•è§„åˆ™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L[èµ·å§‹åæ ‡:ç»ˆæ­¢åæ ‡:æ­¥é•¿]</span><br></pre></td></tr></table></figure><p>å½“èµ·å§‹åæ ‡ä¸º0æ—¶å¯ä»¥çœç•¥ï¼›æ­¥é•¿ä¸º1æ—¶å¯ä»¥çœç•¥ã€‚</p><p><strong>â‘¡ è¿­ä»£</strong></p><p>è¿­ä»£æ˜¯å¾ªç¯çš„å¢å¼ºï¼Œä½†æ˜¯æƒ³è¦å¼„æ¸…è¿­ä»£ï¼Œéœ€è¦çŸ¥é“ä¸¤ä»¶äº‹ï¼šä¸€ä¸ªæ˜¯èƒ½ä¸èƒ½è¿­ä»£ï¼Œä¸€ä¸ªæ˜¯è¿­ä»£å‡ºçš„æ•°æ®æ˜¯ä»€ä¹ˆ</p><p>æƒ³è¦çŸ¥é“ä¸€ä¸ªæ•°æ®èƒ½å¦è¿­ä»£å¯ä»¥é€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥å®Œæˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line">L=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">isinstance</span>(L,Iterable)</span><br></pre></td></tr></table></figure><p>è¿­ä»£å‡ºçš„æ˜¯ä»€ä¹ˆï¼Œå’Œè¦è¿­ä»£çš„å¯¹è±¡çš„å‚¨å­˜æ–¹å¼ï¼Œè¦ç‰¹æ®Šè®°å¿†ä¸€ä¸‹dicã€‚</p><p><strong>â‘¢ åˆ—è¡¨ç”Ÿæˆå™¨</strong></p><p>ä¸€ç§å¿«æ·ç”Ÿæˆlistçš„æ–¹å¼ï¼Œä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)]</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦ç­›é€‰ç”Ÿæˆçš„å€¼ï¼Œå¯ä»¥åœ¨<code>for</code>ååŠ ä¸Š<code>if</code>ä½œä¸º<strong>ç­›é€‰æ¡ä»¶</strong>ï¼Œæ³¨æ„è¿™é‡Œæ˜¯ç­›é€‰æ¡ä»¶ï¼Œå› æ­¤è¿™é‡Œå’Œå¹³æ—¶çš„<code>if else</code>å¹¶ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br></pre></td></tr></table></figure><p><strong>â‘£ ç”Ÿæˆå™¨</strong></p><p>ç”Ÿæˆå™¨æ˜¯ä¸€ç§æƒ°æ€§çš„è®¡ç®—æ–¹å¼ã€‚åŒ…å«<code>yield</code>å…³é”®å­—ï¼Œå½“ä¸€ä¸ªå‡½æ•°åŒ…å«<code>yield</code>å…³é”®å­—æ—¶ï¼Œä»–å°±æˆäº†ä¸€ä¸ªgeneratorå‡½æ•°ã€‚<code>yield</code>åœ¨generatorå‡½æ•°ä¸­èµ·åˆ°äº†ä¸€ä¸ªreturnçš„ä½œç”¨ï¼Œå³åˆ°<code>yield</code>ä¾¿è¿”å›ã€‚åœ¨è°ƒç”¨æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥å—ä¸€ä¸ªgeneratorå¯¹è±¡ã€‚ä½¿ç”¨<code>next()</code>å‡½æ•°ä¾æ¬¡è·å¾—ä¸‹ä¸€ä¸ªè¿”å›å€¼ã€‚</p><p><strong>â‘¤ è¿­ä»£å™¨</strong></p><p>åŒºåˆ†<code>Iterable</code>å’Œ<code>Iterator</code></p><p><code>Iterable</code>æ˜¯å¯è¿­ä»£çš„ï¼Œæ˜¯ç›´æ¥å¯ç”¨äº<code>for</code>å¾ªç¯çš„ã€‚åŒ…æ‹¬dictã€listã€tupleã€setã€strã€greneratorã€‚<code>Iterator</code>æ˜¯è¿­ä»£å™¨ï¼Œæ˜¯ç›´æ¥å¯ç”¨äº<code>next()</code>å‡½æ•°çš„ï¼Œç”Ÿæˆå™¨éƒ½æ˜¯<code>Iterator</code>å¯¹è±¡ï¼Œé›†åˆæ•°æ®ç±»å‹å¯ä»¥é€šè¿‡<code>iter()</code>è·å–<code>Interator</code>å¯¹è±¡ã€‚</p><h4 id="å‡½æ•°å¼ç¼–ç¨‹-1">ï¼ˆ3ï¼‰ å‡½æ•°å¼ç¼–ç¨‹</h4><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹æ€æƒ³ï¼Œå®é™…ä¸Šæ˜¯å°†å¤æ‚é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªä¸ªå‡½æ•°ã€‚</p><p>åœ¨Javaçš„å‡½æ•°å®šä¹‰ä¸­ï¼Œé™¤å»<code>void</code>ç±»å‹ä¸è¿”å›å€¼ï¼Œå…¶ä½™çš„éƒ½éœ€è¦è¿”å›å€¼ã€‚å› æ­¤ä¹Ÿå°±ç»å¸¸å­˜åœ¨ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥å—å‡½æ•°å€¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">function</span><span class="params">(x,y)</span>&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> a=function(x,y);</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæ˜¯ä¸æ˜¯å­˜åœ¨ä¸€ç§å¯èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°åµŒå¥—ï¼Œè®©å‡½æ•°è°ƒç”¨å‡½æ•°ï¼Œè®©å‡½æ•°è¿”å›å‡½æ•°ï¼Œå½»åº•æŠ›å¼ƒå˜é‡ï¼Ÿ</p><p>æŠ›å¼ƒå˜é‡ã€åªæœ‰å‡½æ•°å°±æ˜¯å½»åº•çš„å‡½æ•°å¼ç¼–ç¨‹</p><p><strong>â‘  ç†è§£é«˜é˜¶å‡½æ•°</strong></p><p>ä¹‹å‰æœ‰è¿‡å˜é‡åå’Œå€¼çš„ç†è§£ï¼Œåœ¨Pythonä¸­å˜é‡åå’Œå€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…³ç³»ã€‚åŒç†ï¼Œå‡½æ•°åå’Œå‡½æ•°ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œå‡½æ•°åä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°åï¼Œæ‹¿åˆ°å‡½æ•°ä½“ã€‚ä¹Ÿå°±æ˜¯è¯´å‡½æ•°åæ˜¯ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼Œæˆ‘ä»¬çœ‹ä¸­çš„æ˜¯å‡½æ•°ä½“ã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E7%BB%98%E5%9B%BE1.png"alt="ç»˜å›¾1" /><figcaption aria-hidden="true">ç»˜å›¾1</figcaption></figure><p>é‚£ä¹ˆè®¾æƒ³ä¸€ç§æƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬å®šä¹‰äº†å‡½æ•°f2ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥éšä¾¿å†™ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªå˜é‡f2ï¼Œé‚£ä¹ˆå®é™…ä¸Šæˆ‘å°±æ‹¿åˆ°äº†å‡½æ•°ä½“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f3</span>():</span><br><span class="line">    <span class="keyword">return</span> f2</span><br><span class="line"><span class="built_in">print</span>(f3()(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220909173741530.png"alt="image-20220909173741530" /><figcaption aria-hidden="true">image-20220909173741530</figcaption></figure><p>ç„¶åæˆ‘ä»¬åœ¨è®¾æƒ³å¦ä¸€ç§æƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬å®šä¹‰äº†å¦ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å†™äº†ä¸€ä¸ªf1ä½œä¸ºå±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ä¼ å…¥å˜é‡f2ï¼Œç„¶åå°±ç›¸å½“äºä¼ å…¥äº†å‡½æ•°ä½“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>(<span class="params">a,b,f</span>):</span><br><span class="line">    <span class="keyword">return</span> f(a,b)</span><br><span class="line"><span class="built_in">print</span>(f1(<span class="number">1</span>,<span class="number">2</span>,f2))</span><br></pre></td></tr></table></figure><p>ç°åœ¨å°±å¯ä»¥è¿›è¡Œä¸€ä¸ªåŒºåˆ†ï¼š</p><ul><li><code>f</code>ä»£è¡¨å‡½æ•°åï¼Œæ˜¯å˜é‡</li><li><code>f()</code>ä»£è¡¨æ•°å€¼ï¼Œæ˜¯å‡½æ•°çš„è¿”å›å€¼ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªé‡</li></ul><p>é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯è®©å‡½æ•°çš„å‚æ•°èƒ½å¤Ÿæ¥æ”¶åˆ«çš„å‡½æ•°ã€‚</p><p>å®ç”¨çš„å‡ ä¸ªå‡½æ•°ï¼Œæœ‰å¿…è¦æŸ¥è¡¨å³å¯</p><p><strong>â‘¡ è¿”å›å‡½æ•°</strong></p><p>åŒä¸Šæ–‡ç†è§£ï¼Œåªä¸è¿‡æ˜¯å°†ä¸€ä¸ªå‡½æ•°åµŒå¥—å…¥äº†å¦ä¸€ä¸ªå‡½æ•°</p><p><strong>â‘¢ lambdaè¡¨è¾¾å¼</strong></p><p>ä¸Javaä¸­è¯­æ³•ç›¸åŒï¼Œç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–è¿”å›å‡½æ•°åµŒå¥—</p><h4 id="é¢å‘å¯¹è±¡ç¼–ç¨‹">1.4 é¢å‘å¯¹è±¡ç¼–ç¨‹</h4><h4 id="ç±»å’Œå¯¹è±¡">ï¼ˆ1ï¼‰ç±»å’Œå¯¹è±¡</h4><p>åˆ›å»ºç±»ï¼šè¯­æ³•å¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ç±»å</span>(<span class="title class_ inherited__">ç»§æ‰¿çš„ç±»</span>):</span><br></pre></td></tr></table></figure><p>pythonçš„ç±»éå¸¸éšæ„ï¼Œå‡ ä¹å¯ä»¥ä¸å®šä¹‰å°±èƒ½ç”¨ã€‚åœ¨ç±»ä¸­è‡ªå¸¦æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°<code>__init__()</code>,æ­¤å‡½æ•°å¯ä»¥é‡æ–°å®šä¹‰</p><p>ç”Ÿæˆå¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=A()</span><br></pre></td></tr></table></figure><h4 id="è®¿é—®æƒé™">ï¼ˆ2ï¼‰è®¿é—®æƒé™</h4><p>å¦‚æœè¦è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥æŠŠå±æ€§çš„åç§°å‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿<code>__</code>ï¼Œåœ¨Pythonä¸­ï¼Œå®ä¾‹çš„å˜é‡åå¦‚æœä»¥<code>__</code>å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ã€‚</p><p>æ­¤å¤–ï¼Œ<code>__ __</code>è¿™ç§å˜é‡éƒ½æ˜¯ç‰¹æ®Šå˜é‡ï¼Œåœ¨ä¸æ¸…æ¥šçš„æ—¶å€™ä¸è¦éšä¾¿ä¹±æ”¹</p><h4 id="ç»§æ‰¿å’Œå¤šæ€">ï¼ˆ3ï¼‰ç»§æ‰¿å’Œå¤šæ€</h4><p>å’ŒJavaä¸­çš„æ€æƒ³å®Œå…¨ç›¸åŒ</p><h4 id="å¸¸ç”¨å˜é‡å’Œæ–¹æ³•">ï¼ˆ4ï¼‰å¸¸ç”¨å˜é‡å’Œæ–¹æ³•</h4><p>â‘  <code>__slots__</code></p><p>ç”¨è¿™ä¸ªå˜é‡å¯ä»¥èµ·åˆ°å‚æ•°åˆ—è¡¨çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶å‚æ•°çš„å˜é‡åï¼Œç”¨turpleè¿›è¡Œé™å®š</p><p>â‘¡ <code>@property</code></p><p>æ³¨è§£ç¼–ç¨‹ï¼Œå¯ä»¥èµ·åˆ°ä¸€ä¸ªç®€åŒ–å®šä¹‰setterå’Œgetterå‡½æ•°çš„ä½œç”¨ã€‚<spanclass="citation"data-cites="propertyæ³¨è§£åœ¨getteræ–¹æ³•ä¸Š">@propertyæ³¨è§£åœ¨getteræ–¹æ³•ä¸Š</span>ï¼Œç„¶åä¼šè‡ªåŠ¨ç”Ÿæˆ<span class="citation" data-cites="å‡½æ•°å.setter">@å‡½æ•°å.setter</span>çš„æ³¨è§£ï¼Œä½†æ˜¯è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨getterä¸­å°±ä¸èƒ½ä½¿ç”¨å‡½æ•°åä½œä¸ºè‡ªèº«çš„è°ƒç”¨å€¼ï¼Œå¦åˆ™ä¼šå‡ºç°æ— é™çš„è°ƒç”¨ï¼Œäº§ç”Ÿçˆ†æ ˆã€‚</p><p>â‘¢ å¤šç»§æ‰¿</p><p>ä¸Javaç›¸åŒ</p><p>â‘¤ <code>__str__</code>:å’ŒJavaä¸­çš„toStringæ–¹æ³•ç›¸åŒ</p><h4 id="é”™è¯¯è°ƒè¯•">1.5 é”™è¯¯è°ƒè¯•</h4><h4 id="é”™è¯¯å¤„ç†">ï¼ˆ1ï¼‰é”™è¯¯å¤„ç†</h4><p>å‚ç…§Javaä¸­ï¼Œå¯¹æ¯”æ¥å­¦ä¹ å³å¯ï¼š</p><p>ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯å°è¯•ï¼ŒäºŒæ˜¯æŠ›å‡ºï¼Œå°è¯•é‡‡ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span> baseexception  :</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>æŠ›å‡ºé‡‡ç”¨<code>raise</code>å…³é”®å­—</p><h4 id="æµ‹è¯•">ï¼ˆ2ï¼‰æµ‹è¯•</h4><p>â‘ æ–­è¨€ï¼š<code>assert</code>çš„æ„æ€æ˜¯ï¼Œè¡¨è¾¾å¼<code>n != 0</code>åº”è¯¥æ˜¯<code>True</code>ï¼Œå¦åˆ™ï¼Œæ ¹æ®ç¨‹åºè¿è¡Œçš„é€»è¾‘ï¼Œåé¢çš„ä»£ç è‚¯å®šä¼šå‡ºé”™ã€‚</p><p>å¦‚æœæ–­è¨€å¤±è´¥ï¼Œ<code>assert</code>è¯­å¥æœ¬èº«å°±ä¼šæŠ›å‡º<code>AssertionError</code></p><p>â‘¡ æ–­ç‚¹ï¼šåœ¨å¼ºå¤§IDEçš„è¾…åŠ©ä¸‹ï¼Œä½¿ç”¨æ–­ç‚¹è°ƒè¯•åº”è¯¥æ˜¯æœ€ç®€å•çš„ã€‚</p><h3 id="å®è·µ">2.å®è·µ</h3><h4 id="çŸ³å¤´å‰ªå­å¸ƒ">2.1 çŸ³å¤´å‰ªå­å¸ƒ</h4><p>ä½¿ç”¨randomåŒ…ä¸­çš„randomå‡½æ•°å’Œæ¡ä»¶æ§åˆ¶è¯­å¥ï¼Œæ¨¡æ‹Ÿä¸¤ä¸ªç”µè„‘äº’ç›¸çŒœæ‹³ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">win</span>(<span class="params">pc,cc</span>):</span><br><span class="line">    <span class="keyword">if</span> (cc==<span class="number">1</span> <span class="keyword">and</span> pc==<span class="number">2</span>) <span class="keyword">or</span> (cc==<span class="number">2</span> <span class="keyword">and</span> pc==<span class="number">3</span>)<span class="keyword">or</span>(cc==<span class="number">3</span> <span class="keyword">and</span> pc==<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘ä¸€è¾“&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> pc==cc:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¹³&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘äºŒè¾“&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">computer_choice</span>():</span><br><span class="line">    cc=random.randint(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> cc</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">pc,cc</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘ä¸€çš„å‡ºæ‹›ä¸º&quot;</span>,pc)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘äºŒçš„å‡ºæ‹›ä¸º&quot;</span>,cc)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        pc=computer_choice()</span><br><span class="line">        cc=computer_choice()</span><br><span class="line">        show(pc,cc)</span><br><span class="line">        win(pc,cc)</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914212607801.png"alt="image-20220914212607801" /><figcaption aria-hidden="true">image-20220914212607801</figcaption></figure><p>æ”¹è¿›æå‡ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">win</span>(<span class="params">pc,cc</span>):</span><br><span class="line">    <span class="keyword">if</span> (cc==<span class="number">1</span> <span class="keyword">and</span> pc==<span class="number">2</span>) <span class="keyword">or</span> (cc==<span class="number">2</span> <span class="keyword">and</span> pc==<span class="number">3</span>)<span class="keyword">or</span>(cc==<span class="number">3</span> <span class="keyword">and</span> pc==<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç©å®¶è¾“&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> pc==cc:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¹³&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç©å®¶èµ¢&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">computer_choice</span>():</span><br><span class="line">    cc=random.randint(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> cc</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">str</span>(<span class="params">cc</span>):</span><br><span class="line">    <span class="keyword">if</span> cc==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;çŸ³å¤´&#x27;</span></span><br><span class="line">    <span class="keyword">elif</span> cc==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;å‰ªåˆ€&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;å¸ƒ&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">f,pc,cc</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘ä¸€çš„å‡ºæ‹›ä¸º&quot;</span>,f(pc))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘äºŒçš„å‡ºæ‹›ä¸º&quot;</span>,f(cc))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        cc=computer_choice()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è¯·è¾“å…¥ï¼š1.çŸ³å¤´ 2.å‰ªåˆ€ 3.å¸ƒ&quot;</span>)</span><br><span class="line">        pc=<span class="built_in">input</span>()</span><br><span class="line">        show(<span class="built_in">str</span>,pc,cc)</span><br><span class="line">        win(pc,cc)</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914213324805.png"alt="image-20220914213324805" /><figcaption aria-hidden="true">image-20220914213324805</figcaption></figure><h4 id="atmæ¨¡æ‹Ÿ">2.2 ATMæ¨¡æ‹Ÿ</h4><p>é€šè¿‡ç±»å’Œå¯¹è±¡ç®€å•çš„è®¾è®¡äº†ä¸€ä¸ªATMå–é’±æ¨¡æ‹Ÿå™¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Account</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ATM</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,money,accounts</span>):</span><br><span class="line">        self.money=money</span><br><span class="line">        self.accounts=accounts</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">money</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._money;</span><br><span class="line"><span class="meta">    @money.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">money</span>(<span class="params">self,value</span>):</span><br><span class="line">        self._money=value</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">accounts</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._accounts</span><br><span class="line"><span class="meta">    @accounts.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">accounts</span>(<span class="params">self,value</span>):</span><br><span class="line">        self._accounts=value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchId</span>(<span class="params">self,<span class="built_in">id</span></span>):</span><br><span class="line">        <span class="keyword">for</span> account <span class="keyword">in</span> self.accounts:</span><br><span class="line">            <span class="keyword">if</span> account.<span class="built_in">id</span>==<span class="built_in">id</span>:</span><br><span class="line">                <span class="keyword">return</span> account</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lode</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;è¯·è¾“å…¥è´¦å·id&#x27;</span>)</span><br><span class="line">        <span class="built_in">id</span> = <span class="built_in">input</span>()</span><br><span class="line">        account1 = self.searchId(<span class="built_in">id</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;è¯·è¾“å…¥å¯†ç &#x27;</span>)</span><br><span class="line">        password = <span class="built_in">input</span>()</span><br><span class="line">        <span class="keyword">if</span> password == account1.password:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿&quot;</span>, account1.name)</span><br><span class="line">        <span class="keyword">return</span> account1</span><br><span class="line">    <span class="comment"># å­˜é’±</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_money</span>(<span class="params">self</span>):</span><br><span class="line">        account=self.lode();</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è¯·è¾“å…¥è¦å­˜å…¥çš„æ•°ç›®&quot;</span>)</span><br><span class="line">        saveMneyValue=<span class="built_in">input</span>()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;å­˜æ¬¾æˆåŠŸ&#x27;</span>)</span><br><span class="line">        account.remain=<span class="built_in">int</span>(account.remain)+<span class="built_in">int</span>(saveMneyValue)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;æ‚¨çš„è´¦æˆ·ä½™é¢ä¸º&#x27;</span>,account.remain)</span><br><span class="line">        self.money=self.money+<span class="built_in">int</span>(saveMneyValue)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å–é’±</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">withdraw_money</span>(<span class="params">self</span>):</span><br><span class="line">        account=self.lode()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;è¯·è¾“å…¥è¦å–å‡ºçš„æ•°ç›®&#x27;</span>)</span><br><span class="line">        withdrawMoneyValue=<span class="built_in">input</span>()</span><br><span class="line">        <span class="keyword">if</span> account.remain &gt; withdrawMoneyValue:</span><br><span class="line">            account.remain=<span class="built_in">int</span>(account.remain)-<span class="built_in">int</span>(withdrawMoneyValue)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å–æ¬¾æˆåŠŸï¼Œæ‚¨çš„è´¦æˆ·ä½™é¢ä¸º&#x27;</span>,account.remain)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;æ‚¨çš„è´¦æˆ·ä½™é¢ä¸è¶³&#x27;</span>)</span><br><span class="line">        self.money=<span class="built_in">int</span>(self.money)-<span class="built_in">int</span>(withdrawMoneyValue)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å½“å‰ATMä¸­æœ‰é‡‘é¢&quot;</span>,self.money,<span class="string">&quot;å…ƒ&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># atm1=ATM(1000)</span></span><br><span class="line">    <span class="comment"># atm1.__str__()</span></span><br><span class="line">    <span class="comment"># atm1.ave_money(200)</span></span><br><span class="line">    <span class="comment"># atm1.__str__()</span></span><br><span class="line">    <span class="comment"># atm1.withdraw_money(200)</span></span><br><span class="line">    <span class="comment"># atm1.__str__()</span></span><br><span class="line">    accounts=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        name=<span class="built_in">input</span>()</span><br><span class="line">        <span class="built_in">id</span> = <span class="built_in">input</span>()</span><br><span class="line">        password=<span class="built_in">input</span>()</span><br><span class="line">        remain=<span class="built_in">input</span>()</span><br><span class="line">        accounts.append(Account.account(name, <span class="built_in">id</span>, password, remain))</span><br><span class="line">    atm2=ATM(<span class="number">10000</span>,accounts)</span><br><span class="line">    atm2.save_money()</span><br><span class="line">    atm2.withdraw_money()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">account</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,<span class="built_in">id</span>,password,remain</span>):</span><br><span class="line">        self.name=name</span><br><span class="line">        self.remain=remain</span><br><span class="line">        self.password=password</span><br><span class="line">        self.<span class="built_in">id</span>=<span class="built_in">id</span></span><br><span class="line"></span><br><span class="line">    __slots__ = (<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;remain&#x27;</span>,<span class="string">&#x27;password&#x27;</span>,<span class="string">&#x27;id&#x27;</span>)</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914214759256.png"alt="image-20220914214759256" /><figcaption aria-hidden="true">image-20220914214759256</figcaption></figure><h4 id="åœ£è¯æ ‘ç”»å›¾">2.3 åœ£è¯æ ‘ç”»å›¾</h4><p>ä½¿ç”¨Pythonè‡ªå¸¦çš„turtleåŒ…ï¼Œè¿›è¡Œåœ£è¯æ ‘ç»˜åˆ¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line"></span><br><span class="line">screen = turtle.Screen()</span><br><span class="line">screen.setup(<span class="number">375</span>, <span class="number">700</span>)</span><br><span class="line"></span><br><span class="line">circle = turtle.Turtle()</span><br><span class="line">circle.shape(<span class="string">&#x27;circle&#x27;</span>)</span><br><span class="line">circle.color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">circle.speed(<span class="string">&#x27;fastest&#x27;</span>)</span><br><span class="line">circle.up()</span><br><span class="line"></span><br><span class="line">square = turtle.Turtle()</span><br><span class="line">square.shape(<span class="string">&#x27;square&#x27;</span>)</span><br><span class="line">square.color(<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">square.speed(<span class="string">&#x27;fastest&#x27;</span>)</span><br><span class="line">square.up()</span><br><span class="line"></span><br><span class="line">circle.goto(<span class="number">0</span>, <span class="number">280</span>)</span><br><span class="line">circle.stamp()</span><br><span class="line"></span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">13</span>):</span><br><span class="line">    y = <span class="number">30</span> * i</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i - k):</span><br><span class="line">        x = <span class="number">30</span> * j</span><br><span class="line">        square.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line">        square.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">4</span> == <span class="number">0</span>:</span><br><span class="line">        x = <span class="number">30</span> * (j + <span class="number">1</span>)</span><br><span class="line">        circle.color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">        circle.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line">        circle.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line">        k += <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">4</span> == <span class="number">3</span>:</span><br><span class="line">        x = <span class="number">30</span> * (j + <span class="number">1</span>)</span><br><span class="line">        circle.color(<span class="string">&#x27;yellow&#x27;</span>)</span><br><span class="line">        circle.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line">        circle.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line"></span><br><span class="line">square.color(<span class="string">&#x27;brown&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">13</span>, <span class="number">17</span>):</span><br><span class="line">    y = <span class="number">30</span> * i</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        x = <span class="number">30</span> * j</span><br><span class="line">        square.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line">        square.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line">turtle.mainloop()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914215352995.png"alt="image-20220914215352995" /><figcaption aria-hidden="true">image-20220914215352995</figcaption></figure><h2 id="æ€»ç»“">3.æ€»ç»“</h2><p>Pythonä½œä¸ºä¸€ä¸ªå¼±ç±»å‹è¯­è¨€ï¼Œæ˜¯æœ‰ä»–çš„å¼Šç«¯çš„ï¼Œåœ¨ä¸€äº›éœ€è¦æ•°æ®ç±»å‹è½¬æ¢å’Œä¸¥æ ¼æ§åˆ¶æ•°æ®ç±»å‹çš„æƒ…å†µä¸‹ï¼Œä¼šéå¸¸éš¾å—ã€‚è€ŒPythonæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºæœ‰å¤§é‡çš„åº“ï¼Œè¿™äº›åº“åœ¨ç‰¹å®šçš„ç¼–ç¨‹é¢†åŸŸä¼šéå¸¸ä¾¿åˆ©ã€‚Pythonæœ¬èº«çš„è¯­è¨€å…·æœ‰æå¼ºçš„çµæ´»æ€§ï¼Œè€Œçµæ´»æ€§çš„è¨€å¤–ä¹‹æ„å°±æ˜¯è§„èŒƒæ€§å¾ˆéš¾ç¡®å®šã€‚å› æ­¤ï¼ŒPythonçš„é‡ç‚¹æ˜¯å°†ç¬¬ä¸‰æ–¹åŒ…ä¸ºæˆ‘æ‰€ç”¨ï¼Œåœ¨æ•°å€¼è®¡ç®—ä¸­å‘æŒ¥ä»–æœ€å¤§çš„ä½œç”¨ã€‚</p><h1 id="å®éªŒäºŒ-pythonç§‘å­¦è®¡ç®—åº“å’Œé«˜ç»´æ•°æ®å¯¼å…¥æ–¹æ³•">å®éªŒäºŒPYTHONç§‘å­¦è®¡ç®—åº“å’Œé«˜ç»´æ•°æ®å¯¼å…¥æ–¹æ³•</h1><h2 id="å®éªŒç›®çš„-1">å®éªŒç›®çš„</h2><ol type="1"><li>æŒæ¡åŸºæœ¬çš„numpyå¯¹è±¡åŠå…¶å¯¹åº”æ–¹æ³•</li><li>æŒæ¡å¸¸ç”¨çš„numpyæ•°å­¦å‡½æ•°ï¼Œå­¦ä¹ æŸ¥æ‰¾numpyå¸®åŠ©æ–‡æ¡£</li><li>é‡ç‚¹å­¦ä¹ numpyçº¿æ€§ä»£æ•°æ–¹æ³•</li><li>æŒæ¡matplotlibçš„ç»˜å›¾å¯¹è±¡å…³ç³»</li><li>æŒæ¡åŸºæœ¬çš„ç»˜åˆ¶å›¾å½¢çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç»˜åˆ¶ã€å±æ€§è®¾ç½®ã€å­å›¾</li><li>èƒ½å¤Ÿé€šè¿‡æŸ¥é˜…æ–‡æ¡£ã€ç¤ºä¾‹ï¼Œç”»å‡ºå¤æ‚å›¾åƒ</li><li>å¯¼å…¥matæ•°æ®é›†</li></ol><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡-1">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>å®éªŒå®¤4074</p><h2 id="å®éªŒæ–¹å¼-1">å®éªŒæ–¹å¼</h2><p>é˜…è¯»æ•™ç¨‹ä¸ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡-1">å®éªŒè®¾è®¡</h2><p>ä½¿ç”¨cornæ•°æ®é›†è¿›è¡Œå­¦ä¹ </p><h2 id="å®éªŒå†…å®¹-1">å®éªŒå†…å®¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">data=sio.loadmat(<span class="string">&quot;NIRcorn.mat&quot;</span>)</span><br><span class="line"><span class="comment"># é¦–å…ˆè¾“å‡ºdataè§‚å¯Ÿä¸€ä¸‹dataçš„ç»„æˆ</span></span><br><span class="line"><span class="comment"># print(data)</span></span><br><span class="line"><span class="comment"># è§‚å¯Ÿåˆ°ä¸‹é¢çš„æ•°æ®å®é™…ä¸Šæ˜¯ä¸€ä¸ªdict,é‚£ä¹ˆå°±å¯ä»¥é€šè¿‡k-vè¿›è¡Œå–å€¼ã€‚</span></span><br><span class="line"><span class="comment"># print(data.keys())</span></span><br><span class="line"><span class="comment"># è¾“å‡ºç»“æœå¦‚ä¸‹</span></span><br><span class="line"><span class="comment"># &#x27;__header__&#x27;, &#x27;__version__&#x27;, &#x27;__globals__&#x27;, &#x27;m5spec&#x27;, &#x27;cornspect&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;cornwavelength&#x27;, &#x27;propvals&#x27;, &#x27;cornprop&#x27;, &#x27;NIRcoin&#x27;, &#x27;information&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;mp5spec&#x27;, &#x27;mp6spec&#x27;, &#x27;m5nbs&#x27;, &#x27;mp5nbs&#x27;, &#x27;mp6nbs&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">é¦–å…ˆdebugï¼Œè§‚å¯Ÿå˜é‡ä¿¡æ¯ï¼Œå‘ç°headerã€versionã€globaléƒ½æ²¡æœ‰ä»€ä¹ˆå®é™…ç”¨å¤„ï¼Œåº”è¯¥æ˜¯æ•°æ®é›†ä½œè€…åšçš„æ ‡æ³¨</span></span><br><span class="line"><span class="string">é€šè¿‡æŸ¥æ‰¾åŸæ•°æ®é›†é¡µé¢ï¼Œå¾—çŸ¥ï¼š</span></span><br><span class="line"><span class="string">information:Information about the data,æ•°æ®è¯´æ˜</span></span><br><span class="line"><span class="string">ä»¥ä¸‹éƒ½æ˜¯æ ¹æ®NBSçš„ç»ç’ƒæ ‡å‡†åˆ’åˆ†çš„ä»ªå™¨ä¿¡æ¯</span></span><br><span class="line"><span class="string">    m5nbs:NBS glass stds on m5 </span></span><br><span class="line"><span class="string">    mp5nbs:NBS glass stds on mp5 </span></span><br><span class="line"><span class="string">    mp6nbs:NBS glass stds on mp6</span></span><br><span class="line"><span class="string">è¿™äº›å’Œç‰ç±³éƒ½æ²¡æœ‰å…³ç³»</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æŸ¥é˜…ç¿»è¯‘ï¼š</span></span><br><span class="line"><span class="string">cornspectï¼šå¸å…‰ç‡æ•°å€¼</span></span><br><span class="line"><span class="string">cornwavelengthï¼šç‰ç±³æ³¢é•¿</span></span><br><span class="line"><span class="string">cornpropï¼šç‰ç±³çš„ä¸€äº›å±æ€§</span></span><br><span class="line"><span class="string">propvals:Property values for samplesï¼Œè¿™ä¸ªé‡Œè¾¹æœ‰ &#x27;Moisture&#x27;,&#x27;Oil&#x27;,&#x27;Protein &#x27;,&#x27;Starch&#x27;  </span></span><br><span class="line"><span class="string">ä¸‹é¢è¿™äº›æ˜¯ä»ä¸‰å°ä¸åŒçš„ä»ªå™¨ä¸Šè·å¾—çš„å…‰è°±ï¼š</span></span><br><span class="line"><span class="string">    m5spec:Spectra on instrument m5 </span></span><br><span class="line"><span class="string">    mp5spec:Spectra on instrument mp5</span></span><br><span class="line"><span class="string">    mp6spec:Spectra on instrument mp6 </span></span><br><span class="line"><span class="string">è§‚å¯Ÿprovalså’Œcornpropçš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¿™äºŒè€…æ•°æ®ä¸€æ¨¡ä¸€æ ·ï¼Œæ‰€ä»¥åªéœ€è¦ä½¿ç”¨conpropå³å¯ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">a=data[&#x27;m5spec&#x27;]</span></span><br><span class="line"><span class="string">print(type(a))</span></span><br><span class="line"><span class="string">print(a)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># print(a)</span></span><br><span class="line"><span class="comment"># ç»è¿‡æµ‹è¯•æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯é‡Œè¾¹è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç»„æˆ</span></span><br><span class="line"><span class="comment"># debugè§‚å¯Ÿï¼Œå‘ç°aä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ å°±æ˜¯æˆ‘ä»¬æ‰€è¾“å‡ºçš„</span></span><br><span class="line"><span class="comment"># å¹¶ä¸”è¯¥æ•°æ®çš„æ•°æ®ç±»å‹ä¸º&lt;class &#x27;numpy.ndarray&#x27;&gt;</span></span><br><span class="line"><span class="comment"># åˆè§‚å¯Ÿåˆ°å†…éƒ¨å®é™…ä¸Šå­˜åœ¨å‡ ä¸ªâ€œè¡¨å¤´â€ï¼Œæ‰€ä»¥ä»–å®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„æ•°ç»„ï¼Œ</span></span><br><span class="line"><span class="comment"># è½¬åˆ°MATLABè§‚å¯ŸåŸæ•°æ®ï¼Œå‘ç°ç¡®å®æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œåœ¨è¯»å–æ—¶è‡ªåŠ¨è½¬åŒ–ä¸ºäº†ç»“æ„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># m5spec=data[&#x27;m5spec&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹é¢å¼€å§‹æ­£å¼åˆ†æç”»å›¾ï¼š</span></span><br><span class="line">cornwavelength=data[<span class="string">&quot;cornwavelength&quot;</span>]</span><br><span class="line">x=[]</span><br><span class="line"><span class="comment"># è¾“å‡ºè§‚å¯Ÿå‘ç°ï¼Œæ˜¯ä¸€ä¸ªndarrayç»„æˆçš„listæ‰€ä»¥åªå–ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cornwavelength)):</span><br><span class="line">    x.append(cornwavelength[i][<span class="number">0</span>])</span><br><span class="line"><span class="comment"># è·å–å¸å…‰ç‡</span></span><br><span class="line">cornspect = data[<span class="string">&#x27;cornspect&#x27;</span>]</span><br><span class="line"><span class="comment"># éšæœºå–å‡ºäº”ç»„é€å…‰ç‡</span></span><br><span class="line"><span class="comment"># å…ˆéšæœºç”Ÿæˆäº”ç»„æ•°æ®</span></span><br><span class="line">rd=np.random.randint(<span class="number">0</span>,<span class="number">80</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment"># å­˜å‚¨é€å…‰ç‡æ•°æ®</span></span><br><span class="line">y1 = []</span><br><span class="line">y2 = []</span><br><span class="line">y3 = []</span><br><span class="line">y4 = []</span><br><span class="line">y5 = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">700</span>):</span><br><span class="line">    y1.append(cornspect[rd[<span class="number">0</span>], i])</span><br><span class="line">    y2.append(cornspect[rd[<span class="number">1</span>], i])</span><br><span class="line">    y3.append(cornspect[rd[<span class="number">2</span>], i])</span><br><span class="line">    y4.append(cornspect[rd[<span class="number">3</span>], i])</span><br><span class="line">    y5.append(cornspect[rd[<span class="number">4</span>], i])</span><br><span class="line"><span class="comment"># å¯¼å…¥å­—ä½“</span></span><br><span class="line">matplotlib.rc(<span class="string">&quot;font&quot;</span>,family=<span class="string">&#x27;DengXian&#x27;</span>)</span><br><span class="line"><span class="comment"># ç»˜åˆ¶å›¾åƒ</span></span><br><span class="line">fig=plt.figure(<span class="number">1</span>)</span><br><span class="line">plt.plot(x,y1,label=<span class="built_in">str</span>(rd[<span class="number">0</span>])+<span class="string">&#x27;å·æ ·æœ¬&#x27;</span>)</span><br><span class="line">plt.plot(x,y2,label=<span class="built_in">str</span>(rd[<span class="number">1</span>])+<span class="string">&#x27;å·æ ·æœ¬&#x27;</span>)</span><br><span class="line">plt.plot(x,y3,label=<span class="built_in">str</span>(rd[<span class="number">2</span>])+<span class="string">&#x27;å·æ ·æœ¬&#x27;</span>)</span><br><span class="line">plt.plot(x,y4,label=<span class="built_in">str</span>(rd[<span class="number">3</span>])+<span class="string">&#x27;å·æ ·æœ¬&#x27;</span>)</span><br><span class="line">plt.plot(x,y5,label=<span class="built_in">str</span>(rd[<span class="number">4</span>])+<span class="string">&#x27;å·æ ·æœ¬&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å›¾ä¾‹</span></span><br><span class="line">plt.legend()</span><br><span class="line"><span class="comment"># æ·»åŠ ç½‘æ ¼</span></span><br><span class="line">plt.grid(linestyle=<span class="string">&#x27;-.&#x27;</span>)</span><br><span class="line"><span class="comment"># æ·»åŠ åæ ‡è½´åç§°</span></span><br><span class="line">plt.xlabel(<span class="string">&quot;æ³¢é•¿/nm&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;å¸å…‰ç‡&quot;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># ç»˜åˆ¶è›‹ç™½è´¨ç­‰</span></span><br><span class="line">plt.clf()</span><br><span class="line"><span class="comment"># å¯¼å…¥ç‰ç±³ç‰¹å¾çŸ©é˜µ</span></span><br><span class="line">cornprop=data[<span class="string">&#x27;cornprop&#x27;</span>]</span><br><span class="line"><span class="comment"># æ°´åˆ†</span></span><br><span class="line">Moisture=cornprop[:,<span class="number">0</span>]</span><br><span class="line"><span class="comment"># æ²¹è„‚</span></span><br><span class="line">Oil=cornprop[:,<span class="number">1</span>]</span><br><span class="line"><span class="comment"># è›‹ç™½è´¨</span></span><br><span class="line">Protein=cornprop[:,<span class="number">2</span>]</span><br><span class="line"><span class="comment"># æ·€ç²‰</span></span><br><span class="line">Starch=cornprop[:,<span class="number">3</span>]</span><br><span class="line"><span class="comment"># éšæœºæŠ½å–ç»˜åˆ¶é¥¼å›¾</span></span><br><span class="line">plt.pie(cornprop[rd[<span class="number">4</span>],:],labels=[<span class="string">&#x27;Moisture&#x27;</span>,<span class="string">&#x27;Oil&#x27;</span>,<span class="string">&#x27;Protein &#x27;</span>,<span class="string">&#x27;Starch&#x27;</span>],explode=(<span class="number">0</span>, <span class="number">0.2</span>, <span class="number">0</span>, <span class="number">0</span>),autopct=<span class="string">&#x27;%.2f%%&#x27;</span>)</span><br><span class="line">plt.title(<span class="built_in">str</span>(rd[<span class="number">4</span>])+<span class="string">&#x27;å·æ ·æœ¬çš„åŒ–å­¦æˆåˆ†é¥¼å›¾&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.clf()</span><br><span class="line"><span class="comment"># ç”Ÿæˆä¸€ä¸ªåºå·</span></span><br><span class="line">x=np.linspace(<span class="number">1</span>,<span class="number">80</span>,<span class="number">80</span>)</span><br><span class="line"><span class="comment"># ç»˜åˆ¶ä¸åŒåŒ–å­¦æˆåˆ†çš„æ¯”è¾ƒ</span></span><br><span class="line">plt.plot(x,Moisture,label=<span class="string">&#x27;æ°´åˆ†&#x27;</span>)</span><br><span class="line">plt.plot(x,Oil,label=<span class="string">&#x27;æ²¹è„‚&#x27;</span>)</span><br><span class="line">plt.plot(x,Protein,label=<span class="string">&#x27;è›‹ç™½è´¨&#x27;</span>)</span><br><span class="line">plt.plot(x,Starch,label=<span class="string">&#x27;æ·€ç²‰&#x27;</span>)</span><br><span class="line"><span class="comment"># æ·»åŠ æ ‡é¢˜</span></span><br><span class="line">plt.title(<span class="string">&#x27;åŒ–å­¦æˆåˆ†å¯¹æ¯”å›¾&#x27;</span>)</span><br><span class="line"><span class="comment"># æ·»åŠ åæ ‡è½´</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line"><span class="comment"># æ·»åŠ å›¾ä¾‹</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;right&#x27;</span>)</span><br><span class="line"><span class="comment"># æ·»åŠ ç½‘æ ¼</span></span><br><span class="line">plt.grid(linestyle=<span class="string">&#x27;-.&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.clf()</span><br><span class="line"><span class="comment"># æ±‚å„ä¸ªå±æ€§å‡å€¼</span></span><br><span class="line">Moisture_ave=np.mean(Moisture)</span><br><span class="line">Oil_ave=np.mean(Oil)</span><br><span class="line">Protein_ave=np.mean(Protein)</span><br><span class="line">Starch_ave=np.mean(Starch)</span><br><span class="line"><span class="comment"># è®¾ç½®æƒé‡</span></span><br><span class="line">weight=[Moisture_ave,Oil_ave,Protein_ave,Starch_ave]</span><br><span class="line"><span class="comment"># è®¾ç½®åºåˆ—ç‚¹</span></span><br><span class="line">x=np.linspace(<span class="number">0</span>,<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="comment"># ç»˜åˆ¶æŸ±çŠ¶å›¾</span></span><br><span class="line">plt.barh(x,weight,tick_label=[<span class="string">&#x27;Moisture&#x27;</span>,<span class="string">&#x27;Oil&#x27;</span>,<span class="string">&#x27;Protein &#x27;</span>,<span class="string">&#x27;Starch&#x27;</span>])</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Attribute&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Attribute_mean&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;å„å±æ€§å‡å€¼å›¾&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>æ ¹æ®æ ·æœ¬ï¼Œå¯å¤§æ¦‚è§‚å¯Ÿå‡º1400æ³¢é•¿ä»¥ä¸Šé€å…‰ç‡ç›¸å¯¹å˜åŒ–æ¯”è¾ƒæ˜æ˜¾</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221002234045488.png" alt="image-20221002234045488"  /><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221002234758742.png" alt="image-20221002234758742"  /></p><p>å„å±æ€§å¯¹æ¯”é¥¼å›¾ï¼Œå±æ€§å‡å€¼å›¾ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221002234112149.png" alt="image-20221002234112149"  /></p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221002234218414.png" alt="image-20221002234218414"  /></p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221003002332397.png"alt="image-20221003002332397" /><figcaption aria-hidden="true">image-20221003002332397</figcaption></figure><h2 id="æ€»ç»“-1">æ€»ç»“</h2><p>matæ•°æ®é›†ä¸­å¯èƒ½å­˜åœ¨ç»“æ„ä½“ï¼Œé€šè¿‡scipyå¯¼å…¥åï¼Œä¼šè‡ªåŠ¨å°†ç»“æ„ä½“è½¬æ¢ä¸ºndarrayçš„ç»“æ„æ•°ç»„ï¼›ä¼šå°†æ‰€æœ‰å±æ€§ç»Ÿä¸€å°è£…æˆdictï¼Œé€šè¿‡k-vå–å‡ºã€‚</p><h1 id="å®éªŒä¸‰-pythonçŸ©é˜µè¿ç®—">å®éªŒä¸‰ PythonçŸ©é˜µè¿ç®—</h1><h2 id="å®éªŒç›®çš„-2">å®éªŒç›®çš„</h2><ol type="1"><li>æŒæ¡Pythonä¸­çš„çŸ©é˜µè¿ç®—</li><li>å°è¯•ä½¿ç”¨ç‰¹å¾å€¼åˆ†è§£åæ–¹å·®çŸ©é˜µçš„æ–¹å¼è¿›è¡Œé™ç»´</li></ol><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡-2">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>å®éªŒå®¤4074</p><h2 id="å®éªŒæ–¹å¼-2">å®éªŒæ–¹å¼</h2><p>ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡-2">å®éªŒè®¾è®¡</h2><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/%E5%AE%9E%E9%AA%8C%E4%B8%89.png"alt="å®éªŒä¸‰" /><figcaption aria-hidden="true">å®éªŒä¸‰</figcaption></figure><h2 id="å®éªŒå†…å®¹-2">å®éªŒå†…å®¹</h2><h3 id="çŸ©é˜µä¹˜ç§¯">çŸ©é˜µä¹˜ç§¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">åŸºæœ¬çŸ©é˜µè¿ç®—ç»ƒä¹ </span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># çŸ©é˜µä¹˜æ³•</span></span><br><span class="line">x=np.linspace(<span class="number">0</span>,<span class="number">8</span>,<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">y=np.linspace(<span class="number">1</span>,<span class="number">9</span>,<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment"># å†…ç§¯</span></span><br><span class="line">innerZ=np.inner(x,y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çŸ©é˜µå†…ç§¯ï¼š&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(innerZ)</span><br><span class="line"><span class="comment"># å¼ é‡ç§¯</span></span><br><span class="line">outerZ=np.outer(x,y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çŸ©é˜µå¼ é‡ç§¯ï¼š&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(outerZ)</span><br><span class="line"><span class="comment"># çº¿æ€§ä»£æ•°çŸ©é˜µä¹˜æ³•</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çº¿æ€§ä»£æ•°çŸ©é˜µä¹˜æ³•&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.dot(x,y))</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š<img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016202747098.png" alt="image-20221016202747098" style="zoom: 67%;" /></p><h3 id="èŒƒæ•°">èŒƒæ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># èŒƒæ•°</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–ä¸€ä¸ªå‘é‡</span></span><br><span class="line">a=np.linspace(<span class="number">0</span>,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line"><span class="comment"># å‘é‡äºŒèŒƒæ•°</span></span><br><span class="line">a_norm = np.linalg.norm(a,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å‘é‡açš„äºŒèŒƒæ•°ä¸º&quot;</span>,a_norm)</span><br><span class="line"><span class="comment"># çŸ©é˜µäºŒèŒƒæ•°</span></span><br><span class="line">x_norm =np.linalg.norm(x,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çŸ©é˜µxçš„äºŒèŒƒæ•°ä¸º&quot;</span>,x_norm)</span><br><span class="line"><span class="comment"># å‘é‡pèŒƒæ•°</span></span><br><span class="line">a_norm = np.linalg.norm(a,np.inf) <span class="comment">#è°ƒç”¨npä¸­çš„å˜é‡infè¡¨ç¤ºæ— ç©·</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å‘é‡açš„pèŒƒæ•°ä¸º&quot;</span>,a_norm)</span><br><span class="line"><span class="comment"># çŸ©é˜µpèŒƒæ•°</span></span><br><span class="line">x_norm =np.linalg.norm(x,np.inf)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çŸ©é˜µxçš„äºŒèŒƒæ•°ä¸º&quot;</span>,x_norm)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœä¸ºï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016202949373.png"alt="image-20221016202949373" /></p><h3 id="è¿¹">è¿¹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çŸ©é˜µçš„è¿¹</span></span><br><span class="line">x_trace = np.trace(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çŸ©é˜µxçš„è¿¹:&quot;</span>,x_trace)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœä¸ºï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016203045259.png"alt="image-20221016203045259" /></p><h3 id="å¥‡å¼‚å€¼åˆ†è§£">å¥‡å¼‚å€¼åˆ†è§£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†</span></span><br><span class="line">data=sio.loadmat(<span class="string">&quot;NIRcorn.mat&quot;</span>)</span><br><span class="line"><span class="comment"># è·å–ç‰ç±³åŒ–å­¦æˆåˆ†å«é‡æ•°æ®</span></span><br><span class="line">cornprop=data[<span class="string">&#x27;cornprop&#x27;</span>]</span><br><span class="line">cornprop=np.array(cornprop)</span><br><span class="line"><span class="comment"># æ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">scaler = StandardScaler(copy=<span class="literal">True</span>)</span><br><span class="line">cornprop=scaler.fit_transform(cornprop)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºæŠ½æ ·</span></span><br><span class="line"><span class="comment"># éšæœºæŠ½å–6ä¸ªæ ·æœ¬</span></span><br><span class="line">ran=np.random.randint(<span class="number">0</span>,<span class="number">80</span>,<span class="number">6</span>)</span><br><span class="line">cornpropSample1=cornprop[ran][:]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;éšæœºæŠ½å–6ä¸ªæ ·æœ¬ç»“æœ&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(cornpropSample1)</span><br><span class="line"><span class="comment"># å¥‡å¼‚å€¼åˆ†è§£</span></span><br><span class="line">u1,e1,v1=np.linalg.svd(cornpropSample1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å·¦çŸ©é˜µUï¼š&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(u1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å¥‡å¼‚å€¼ä¸ºï¼š&quot;</span>,e1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å³çŸ©é˜µV^Tï¼š&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.transpose(v1))</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœä¸ºï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016203239743.png" alt="image-20221016203239743" style="zoom:67%;" /></p><h3 id="ç‰¹å¾å€¼å’Œå¥‡å¼‚å€¼æ¯”è¾ƒ">ç‰¹å¾å€¼å’Œå¥‡å¼‚å€¼æ¯”è¾ƒ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">éšæœºæŠ½å–å››ä¸ªæ ·æœ¬ï¼Œå¯¹å¥‡å¼‚å€¼å’Œç‰¹å¾å€¼è¿›è¡Œå¯¹æ¯”</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># éšæœºæŠ½å–4ä¸ª</span></span><br><span class="line">ran1=np.random.randint(<span class="number">0</span>,<span class="number">80</span>,<span class="number">4</span>)</span><br><span class="line">cornpropSample2=cornprop[ran1][:]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;éšæœºæŠ½å–4ä¸ªæ ·æœ¬ç»“æœ&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(cornpropSample2)</span><br><span class="line"><span class="comment"># å¥‡å¼‚å€¼åˆ†è§£</span></span><br><span class="line">u2,e2,v2=np.linalg.svd(cornpropSample2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å¥‡å¼‚å€¼ï¼š&quot;</span>,e2)</span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦èƒ½åšç‰¹å¾åˆ†è§£</span></span><br><span class="line"><span class="comment"># éªŒè¯rankæ˜¯å¦ä¸º4</span></span><br><span class="line"><span class="keyword">if</span> np.linalg.matrix_rank(cornpropSample2)==<span class="number">4</span>:</span><br><span class="line">    evalue=np.linalg.eigvals(cornpropSample2)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç‰¹å¾å€¼ï¼š&quot;</span>,evalue)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç§©ä¸ºï¼š&quot;</span>,np.linalg.matrix_rank(cornpropSample2))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä¸ºä¸æ»¡ç§©çŸ©é˜µï¼Œæ— æ³•è¿›è¡Œç‰¹å¾åˆ†è§£&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœä¸ºï¼š<img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016203500623.png" alt="image-20221016203500623" style="zoom:80%;" /><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016203531499.png" alt="image-20221016203531499" style="zoom:80%;" /></p><p>ç»“æœè¡¨æ˜ï¼Œä¸æ˜¯ä»»ä½•ä¸€ä¸ªæ–¹é˜µéƒ½èƒ½ä½¿å¾—å¥‡å¼‚å€¼å’Œç‰¹å¾å€¼ï¼Œå¥‡å¼‚å€¼ä»£è¡¨çš„æ˜¯æœ€å¤§èŒƒå›´çš„çº¿æ€§å˜æ¢ç¨‹åº¦ï¼Œç‰¹å¾å€¼ä»£è¡¨çš„çº¿æ€§å˜æ¢æ—¶çš„æ–¹å‘ä¸å˜é‡ã€‚</p><h3 id="ç›¸å…³æ€§åˆ†æ">ç›¸å…³æ€§åˆ†æ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">è¿›è¡Œå„ä¸ªåŒ–å­¦æˆåˆ†é—´çš„ç›¸å…³æ€§åˆ†æ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># æ±‚åæ–¹å·®çŸ©é˜µ</span></span><br><span class="line">cov=np.cov(cornprop.transpose())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åæ–¹å·®çŸ©é˜µ&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(cov)</span><br><span class="line"><span class="comment"># å¯è§†åŒ–</span></span><br><span class="line">plt.figure(dpi=<span class="number">120</span>)</span><br><span class="line">sns.heatmap(data=cov,</span><br><span class="line">            cmap=plt.get_cmap(<span class="string">&#x27;Greens_r&#x27;</span>),</span><br><span class="line">            xticklabels=[<span class="string">&#x27;Moisture&#x27;</span>,<span class="string">&#x27;Oil&#x27;</span>,<span class="string">&#x27;Protein &#x27;</span>,<span class="string">&#x27;Starch&#x27;</span>],</span><br><span class="line">            yticklabels=[<span class="string">&#x27;Moisture&#x27;</span>,<span class="string">&#x27;Oil&#x27;</span>,<span class="string">&#x27;Protein &#x27;</span>,<span class="string">&#x27;Starch&#x27;</span>]</span><br><span class="line">           )</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016204408714.png"alt="image-20221016204408714" /><figcaption aria-hidden="true">image-20221016204408714</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016204333850.png"alt="image-20221016204333850" /><figcaption aria-hidden="true">image-20221016204333850</figcaption></figure><p>ç®€å•è§‚å¯Ÿï¼Œå¯ä»¥çœ‹å‡ºæ·€ç²‰å’Œè›‹ç™½è´¨çš„å‘ˆç°è´Ÿç›¸å…³ä¸”æ¯”è¾ƒå¼ºçƒˆï¼Œè›‹ç™½è´¨å’Œæ²¹è„‚ä¹‹é—´çš„å…³ç³»å‘ˆç°æ­£ç›¸å…³ã€‚</p><h3 id="pcaçš„åˆæ­¥å°è¯•">PCAçš„åˆæ­¥å°è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">åæ–¹å·®å¯è¿›ä¸€æ­¥æ·±åº¦æŒ–æ˜ï¼Œç»“åˆå„ç§çŸ©é˜µè¿ç®—è¿›è¡ŒPCA</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># å¯¹åæ–¹å·®çŸ©é˜µè¿›è¡Œç‰¹å¾å€¼åˆ†è§£</span></span><br><span class="line">cov_evalue,cov_vectors = np.linalg.eig(cov)</span><br><span class="line"><span class="comment"># ç„¶åé€‰å–å‰å‡ ä¸ªç»´åº¦è¿›è¡Œé™ç»´å³å¯</span></span><br><span class="line"><span class="comment"># æ„é€ ç‰¹å¾çŸ©é˜µ</span></span><br><span class="line">smat = np.zeros((<span class="number">4</span>, <span class="number">4</span>))</span><br><span class="line">smat = np.diag(cov_evalue)</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">p=np.dot(cov_vectors[:<span class="number">2</span>,:],cornpropSample2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é™ç»´åç»“æœï¼š&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(p)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20221016204707495.png"alt="image-20221016204707495" /><figcaption aria-hidden="true">image-20221016204707495</figcaption></figure><h2 id="æ€»ç»“-2">æ€»ç»“</h2><p>æœ¬æ¬¡å®éªŒä¸ºä¸‹ä¸€èŠ‚çš„PCAè¿›è¡Œé“ºå«ï¼Œä¹Ÿæ˜¯ç»å¤§éƒ¨åˆ†ç®—æ³•çš„åŸºç¡€ã€‚åœ¨å­¦ä¹ å¥‡å¼‚å€¼åˆ†è§£å’Œç‰¹å¾åˆ†è§£çš„æ—¶å€™ï¼Œæˆ‘é€šè¿‡æŸ¥é˜…èµ„æ–™ç»ˆäºæ‰¾åˆ°äº†è§£å†³ä»ç‰¹å¾å€¼åˆ°ç‰¹å¾çŸ©é˜µæ„å»ºçš„æ–¹æ³•ï¼Œéå¸¸æœ‰æˆå°±æ„Ÿã€‚</p><h1 id="å®éªŒä¸‰-æœ€å°äºŒä¹˜æ³•">å®éªŒä¸‰ æœ€å°äºŒä¹˜æ³•</h1><h2 id="å®éªŒç›®çš„-3">å®éªŒç›®çš„</h2><ol type="1"><li>ç”Ÿæˆæ­£å®šçŸ©é˜µè”ç³»çº¿æ€§å›å½’</li><li>é€‰å–éƒ¨åˆ†å±æ€§è¿›è¡Œæœ€å°äºŒä¹˜ç®—æ³•</li><li>æŒæ¡æœ€å°äºŒä¹˜æ³•</li></ol><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡-3">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>å®éªŒå®¤4074</p><h2 id="å®éªŒæ–¹å¼-3">å®éªŒæ–¹å¼</h2><p>ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡-3">å®éªŒè®¾è®¡</h2><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204184750871.png" alt="image-20230204184750871" style="zoom: 50%;" /></p><h2 id="å®éªŒå†…å®¹-3">å®éªŒå†…å®¹</h2><h3 id="ç”Ÿæˆæ­£å®šçŸ©é˜µä½¿ç”¨æœ€å°äºŒä¹˜">ç”Ÿæˆæ­£å®šçŸ©é˜µä½¿ç”¨æœ€å°äºŒä¹˜</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">1.å°è¯•ç½‘ç«™ä»£ç åº”ç”¨</span></span><br><span class="line"><span class="string">2.ç†è§£æºä»£ç </span></span><br><span class="line"><span class="string">3.å›å½’æºç è½¬åŒ–ä¼ªä»£ç ã€æµç¨‹å›¾</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># å¯¼å…¥å¿…è¦åº“</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets, linear_model</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error, r2_score</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†</span></span><br><span class="line">diabetes_X, diabetes_y = datasets.load_diabetes(return_X_y=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># ç®€å•åˆ†ææ•°æ®é›†</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;x&quot;</span>,diabetes_X) <span class="comment"># 442*10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;y&quot;</span>,diabetes_y) <span class="comment"># 1*442</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¸€ä¸ªxçš„ç‰¹å¾</span></span><br><span class="line">diabetes_X = diabetes_X[:, np.newaxis, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†</span></span><br><span class="line"><span class="comment"># x</span></span><br><span class="line">diabetes_X_train = diabetes_X[:-<span class="number">20</span>]</span><br><span class="line">diabetes_X_test = diabetes_X[-<span class="number">20</span>:]</span><br><span class="line"><span class="comment"># y</span></span><br><span class="line">diabetes_y_train = diabetes_y[:-<span class="number">20</span>]</span><br><span class="line">diabetes_y_test = diabetes_y[-<span class="number">20</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºçº¿æ€§å›å½’å¯¹è±¡</span></span><br><span class="line">regr = linear_model.LinearRegression()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®­ç»ƒçº¿æ€§å›å½’æ¨¡å‹</span></span><br><span class="line">regr.fit(diabetes_X_train, diabetes_y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•é›†é¢„æµ‹</span></span><br><span class="line">diabetes_y_pred = regr.predict(diabetes_X_test)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">åº”è¯¥æ˜¯æŸç§è¯¯å·®ï¼Œå…·ä½“å¾—çœ‹æºç </span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># The coefficients</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Coefficients: \n&quot;</span>, regr.coef_)</span><br><span class="line"><span class="comment"># The mean squared error</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Mean squared error: %.2f&quot;</span> % mean_squared_error(diabetes_y_test, diabetes_y_pred))</span><br><span class="line"><span class="comment"># The coefficient of determination: 1 is perfect prediction</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Coefficient of determination: %.2f&quot;</span> % r2_score(diabetes_y_test, diabetes_y_pred))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.scatter(diabetes_X_test, diabetes_y_test, color=<span class="string">&quot;black&quot;</span>)</span><br><span class="line">plt.plot(diabetes_X_test, diabetes_y_pred, color=<span class="string">&quot;blue&quot;</span>, linewidth=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(())</span><br><span class="line">plt.yticks(())</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204182023479.png"alt="image-20230204182023479" /><figcaption aria-hidden="true">image-20230204182023479</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204182051171.png"alt="image-20230204182051171" /><figcaption aria-hidden="true">image-20230204182051171</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204184117890.png"alt="image-20230204184117890" /><figcaption aria-hidden="true">image-20230204184117890</figcaption></figure><h3 id="é€‰å–éƒ¨åˆ†å±æ€§è¿›è¡Œæœ€å°äºŒä¹˜ç®—æ³•">é€‰å–éƒ¨åˆ†å±æ€§è¿›è¡Œæœ€å°äºŒä¹˜ç®—æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error, r2_score</span><br><span class="line"></span><br><span class="line">data=sio.loadmat(<span class="string">&quot;../NIRcorn.mat&quot;</span>)</span><br><span class="line"></span><br><span class="line">cornprop = data[<span class="string">&quot;cornprop&quot;</span>][:,<span class="number">0</span>].reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">m5spec=data[<span class="string">&#x27;m5spec&#x27;</span>][<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="number">0</span>][:,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºçº¿æ€§å›å½’å¯¹è±¡</span></span><br><span class="line">regr = linear_model.LinearRegression()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®­ç»ƒçº¿æ€§å›å½’æ¨¡å‹</span></span><br><span class="line">regr.fit(cornprop,m5spec)</span><br><span class="line">y_pred = regr.predict(cornprop)</span><br><span class="line">plt.scatter(cornprop, m5spec, color=<span class="string">&quot;black&quot;</span>)</span><br><span class="line">plt.plot(cornprop, y_pred, color=<span class="string">&quot;blue&quot;</span>, linewidth=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(())</span><br><span class="line">plt.yticks(())</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204184257098.png"alt="image-20230204184257098" /><figcaption aria-hidden="true">image-20230204184257098</figcaption></figure><h2 id="æ€»ç»“-3">æ€»ç»“</h2><p>æœ€å°äºŒä¹˜æ³•ä½œä¸ºçº¿æ€§å›å½’çš„åŸºç¡€ï¼Œå…¶æ•°å­¦æ¨å¯¼ååˆ†é‡è¦ï¼Œæ·±åˆ»ç†è§£äº†æœ€å°äºŒä¹˜æ‰èƒ½åˆæ­¥ç†è§£é«˜ç»´ç©ºé—´ä¸­çš„ç©ºé—´å˜æ¢ä»¥åŠç›¸å…³çš„å‡ ä½•æ„ä¹‰ã€‚</p><h1 id="å®éªŒå››-ä¸»æˆåˆ†åˆ†æ">å®éªŒå›› ä¸»æˆåˆ†åˆ†æ</h1><h2 id="å®éªŒç›®çš„-4">å®éªŒç›®çš„</h2><ol type="1"><li>æŒæ¡PCAç®—æ³•åŸç†</li><li>ç”¨pythonå®ç°PCAé™ç»´</li><li>ä½“ä¼špythoné¢å‘å¯¹è±¡çš„çµæ´»</li></ol><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡-4">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>å®éªŒå®¤4074</p><h2 id="å®éªŒæ–¹å¼-4">å®éªŒæ–¹å¼</h2><p>ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡-4">å®éªŒè®¾è®¡</h2><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204185133692.png"alt="image-20230204185133692" /><figcaption aria-hidden="true">image-20230204185133692</figcaption></figure><h2 id="å®éªŒå†…å®¹-4">å®éªŒå†…å®¹</h2><h3 id="ä¼ªä»£ç ">ä¼ªä»£ç </h3><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">inputï¼šdata,n_components</span><br><span class="line">outputï¼šUï¼ŒS</span><br><span class="line">-----------------------------------------</span><br><span class="line">Data_mean=np.mean(data)</span><br><span class="line">Data=np.substract(data,Data_mean)</span><br><span class="line">cov_X=np.cov(np.transpose(Data))</span><br><span class="line">U,S,V=np.linalg.svd(cov_X)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="pythonå®ç°">pythonå®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">from</span> sklearn.utils.extmath <span class="keyword">import</span> svd_flip</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PCA</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">    np.set_printoptions(suppress=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,components</span>):</span><br><span class="line">        self.components=components</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,X</span>):</span><br><span class="line">        X_mean=np.mean(X)</span><br><span class="line">        X=np.subtract(X,X_mean)</span><br><span class="line">        cov_X=np.cov(np.transpose(X))</span><br><span class="line">        <span class="keyword">if</span> np.linalg.matrix_rank(cov_X)&lt;np.shape(cov_X)[<span class="number">0</span>]:</span><br><span class="line">            U,S,V=np.linalg.svd(cov_X)</span><br><span class="line">            U, V = svd_flip(U, V)</span><br><span class="line">            U=np.array(U[:self.components]).T</span><br><span class="line">            U *= S[:self.components]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            explained_variance_ = (S * S.T) / (np.shape(X)[<span class="number">0</span>] - <span class="number">1</span>)</span><br><span class="line">            total_var = explained_variance_.<span class="built_in">sum</span>()</span><br><span class="line">            explained_variance_ratio_ = explained_variance_ / total_var</span><br><span class="line">            self.explained_variance_ratio_ = explained_variance_ratio_[:self.components]</span><br><span class="line">            <span class="keyword">return</span> U,S</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            eigValue,eigVector=np.linalg.eig(cov_X)</span><br><span class="line">            index = np.argsort(-eigValue)</span><br><span class="line">            <span class="keyword">if</span> self.components &gt; np.shape(X)[<span class="number">1</span>]:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;features is lower than commponents&#x27;</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                T = np.array(eigVector[index[:self.components]]).T</span><br><span class="line">                P = np.dot(X,T)</span><br><span class="line">                <span class="comment"># æ±‚è§£è§£é‡Šå˜é‡</span></span><br><span class="line">                <span class="comment"># è¦ä¸è¦æ ¹æ®å¯¹æŠ½æ ·ç»Ÿè®¡åšæ–¹å·®çš„æ— åä¼°è®¡</span></span><br><span class="line">                <span class="comment"># ä½¿ç”¨ç‰¹å¾å€¼åˆ†è§£ä¸€æ—¦ä¸æ»¡ç§©ï¼Œå°±ä¼šå‡ºç°å¤æ•°è§£</span></span><br><span class="line">                explained_variance_ = (eigValue * eigValue.T)/(np.shape(X)[<span class="number">0</span>]-<span class="number">1</span>)</span><br><span class="line">                total_var = explained_variance_.<span class="built_in">sum</span>()</span><br><span class="line">                explained_variance_ratio_ = explained_variance_ / total_var</span><br><span class="line">                self.explained_variance_ratio_=explained_variance_ratio_[:self.components]</span><br><span class="line">                <span class="keyword">return</span> P,T</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    data = sio.loadmat(<span class="string">&quot;../NIRcorn.mat&quot;</span>)</span><br><span class="line"></span><br><span class="line">    cornprop = data[<span class="string">&quot;cornprop&quot;</span>]</span><br><span class="line">    m5spec = data[<span class="string">&#x27;m5spec&#x27;</span>][<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    y = data[<span class="string">&#x27;cornprop&#x27;</span>][:, [<span class="number">0</span>]]</span><br><span class="line">    x = m5spec</span><br><span class="line"></span><br><span class="line">    pca=PCA(<span class="number">2</span>)</span><br><span class="line">    U,S=pca.fit(x)</span><br><span class="line">    <span class="built_in">print</span>(</span><br><span class="line">        <span class="string">&quot;explained variance ratio (first two components): %s&quot;</span></span><br><span class="line">        % <span class="built_in">str</span>(pca.explained_variance_ratio_)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>explained variance ratio (first two components): [0.999940010.00005929]</p><h3 id="è°ƒç”¨pcaé™ç»´é¸¢å°¾èŠ±">è°ƒç”¨PCAé™ç»´é¸¢å°¾èŠ±</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"></span><br><span class="line">X = iris.data</span><br><span class="line">y = iris.target</span><br><span class="line">target_names = iris.target_names</span><br><span class="line"></span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">X_r = pca.fit(X).transform(X)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Percentage of variance explained for each components</span></span><br><span class="line"><span class="built_in">print</span>(</span><br><span class="line">    <span class="string">&quot;explained variance ratio (first two components): %s&quot;</span></span><br><span class="line">    % <span class="built_in">str</span>(pca.explained_variance_ratio_)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">colors = [<span class="string">&quot;navy&quot;</span>, <span class="string">&quot;turquoise&quot;</span>, <span class="string">&quot;darkorange&quot;</span>]</span><br><span class="line">lw = <span class="number">2</span></span><br><span class="line"><span class="keyword">for</span> color, i, target_name <span class="keyword">in</span> <span class="built_in">zip</span>(colors, [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], target_names):</span><br><span class="line">    plt.scatter(</span><br><span class="line">        <span class="comment"># y==iæ˜¯ä¸€ä¸ªæ¨å¯¼å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯è¿”å›ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œä»è€Œè¾¾æˆç­›é€‰çš„ç›®çš„</span></span><br><span class="line">        X_r[y == i, <span class="number">0</span>], X_r[y == i, <span class="number">1</span>], color=color, alpha=<span class="number">0.8</span>, lw=lw, label=target_name</span><br><span class="line">    )</span><br><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>, shadow=<span class="literal">False</span>, scatterpoints=<span class="number">1</span>)</span><br><span class="line">plt.title(<span class="string">&quot;PCA of IRIS dataset&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204185710362.png"alt="image-20230204185710362" /><figcaption aria-hidden="true">image-20230204185710362</figcaption></figure><h3 id="è°ƒç”¨pcaé™ç»´nircorn">è°ƒç”¨pcaé™ç»´NIRcorn</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"></span><br><span class="line">data=sio.loadmat(<span class="string">&quot;../NIRcorn.mat&quot;</span>)</span><br><span class="line"></span><br><span class="line">cornprop = data[<span class="string">&quot;cornprop&quot;</span>]</span><br><span class="line">m5spec=data[<span class="string">&#x27;m5spec&#x27;</span>][<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># x_mean=np.mean(m5spec)</span></span><br><span class="line"><span class="comment"># x_center=np.subtract(m5spec,x_mean)</span></span><br><span class="line"></span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">x = pca.fit(m5spec).transform(m5spec)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(</span><br><span class="line">    <span class="string">&quot;explained variance ratio (first two components): %s&quot;</span></span><br><span class="line">    % <span class="built_in">str</span>(pca.explained_variance_ratio_)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">plt.scatter(x[:,<span class="number">0</span>],x[:,<span class="number">1</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204185800726.png" /></p><h2 id="æ€»ç»“-4">æ€»ç»“</h2><p>ä¸»æˆåˆ†åˆ†ææ˜¯åŸºäºæŠ•å½±çš„æ–¹æ³•ï¼Œè€Œè¡¡é‡æŠ•å½±è·ç¦»çš„å°±æ˜¯åæ–¹å·®çŸ©é˜µã€‚è€Œå¯¹äºåæ–¹å·®çŸ©é˜µçš„åˆ†è§£æ–¹å¼å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œæˆ‘è‡ªå·±å®ç°çš„PCAä¸sklearnç§å‡ºç°æ˜¾è‘—å·®å¼‚çš„åŸå› å°±æ˜¯åœ¨å¥‡å¼‚å€¼åˆ†è§£çš„æ–¹å¼ã€‚sklearné‡‡ç”¨çš„æ˜¯éšæœºå¥‡å¼‚å€¼åˆ†è§£ã€‚</p><h1 id="å®éªŒäº”-ä¸»æˆåˆ†å›å½’">å®éªŒäº” ä¸»æˆåˆ†å›å½’</h1><h2 id="å®éªŒç›®çš„-5">å®éªŒç›®çš„</h2><ol type="1"><li>æŒæ¡PCRç®—æ³•åŸç†</li><li>æŒæ¡äº¤å‰éªŒè¯ç®—æ³•åº”ç”¨ï¼›</li><li>ä½“ä¼špythoné¢å‘å¯¹è±¡çš„çµæ´»</li></ol><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡-5">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>å®éªŒå®¤4074</p><h2 id="å®éªŒæ–¹å¼-5">å®éªŒæ–¹å¼</h2><p>ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡-5">å®éªŒè®¾è®¡</h2><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204194417158.png" alt="image-20230204194417158" style="zoom:50%;" /></p><h2 id="å®éªŒå†…å®¹-5">å®éªŒå†…å®¹</h2><h3 id="ä¼ªä»£ç -1">ä¼ªä»£ç </h3><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PCR.fit</span><br><span class="line">-----------------------------</span><br><span class="line">input:X,y,n_components</span><br><span class="line">output:P,b</span><br><span class="line">------------------------------</span><br><span class="line">P = PCA(X,n_components)</span><br><span class="line">T = X*P</span><br><span class="line">b = LS.fit(T,y)</span><br></pre></td></tr></table></figure><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PCR.predict</span><br><span class="line">-----------------------------</span><br><span class="line">input:X,P,b</span><br><span class="line">output:y_predict</span><br><span class="line">-----------------------------</span><br><span class="line">T = X*P</span><br><span class="line">y_predict = T*b</span><br></pre></td></tr></table></figure><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">PCR.cv</span><br><span class="line">-----------------------------</span><br><span class="line">input:X,y,max_pcs,k</span><br><span class="line">output:best_pcs</span><br><span class="line">-----------------------------X_train,X_val,y_train,y_val = cross validation.split(X,y,k)</span><br><span class="line">  <span class="keyword">for</span> n_pcs <span class="keyword">in</span> range(<span class="number">2</span>,max_pcs+<span class="number">1</span>):</span><br><span class="line">   y_predict = [ ]</span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,k):</span><br><span class="line">   P,b = PCR.fit(X_train=X_kâ‰ i,y_train=y_kâ‰ i,n_pcs)</span><br><span class="line">   ypre = PCR.predict(X_val=X_k=i,P,b)</span><br><span class="line">   y_predict.append(ypre)</span><br><span class="line">   RMSE(y,y_predict,len(y))</span><br><span class="line">  best_pcs = RMSE.<span class="keyword">index</span>(min(RMSE))</span><br><span class="line"> return best_pcs</span><br></pre></td></tr></table></figure><h3 id="pythonå®ç°-1"><strong>Pythonå®ç°</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> cross_validation</span><br><span class="line"><span class="comment"># from sklearn.decomposition import PCA</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cross_Validation</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, x, y, n_folds, max_components</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">        self.n_folds = n_folds</span><br><span class="line">        self.max_components = max_components</span><br><span class="line">        self.n = x.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">CV</span>(<span class="params">self</span>):</span><br><span class="line">        kf = cross_validation.KFold(self.n, self.n_folds)</span><br><span class="line">        x_train=[]</span><br><span class="line">        x_test=[]</span><br><span class="line">        y_train=[]</span><br><span class="line">        y_test=[]</span><br><span class="line">        <span class="keyword">for</span> train_index,test_index <span class="keyword">in</span> kf:</span><br><span class="line">            xtr, xte = self.x[train_index], self.x[test_index]</span><br><span class="line">            ytr, yte = self.y[train_index], self.y[test_index]</span><br><span class="line">            x_train.append(xtr)</span><br><span class="line">            x_test.append(xte)</span><br><span class="line">            y_train.append(ytr)</span><br><span class="line">            y_test.append(yte)</span><br><span class="line">        <span class="keyword">return</span> x_train, x_test, y_train, y_test</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">from</span> Cross_Validation <span class="keyword">import</span> Cross_Validation</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PCR</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, max_components</span>):</span><br><span class="line">        self.max_components=max_components</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,X,y,best_components</span>):</span><br><span class="line">        self.x_mean = np.mean(X, axis=<span class="number">0</span>)</span><br><span class="line">        self.y_mean = np.mean(y, axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># sklearnä¸­çš„pcaè‡ªå¸¦ä¸­å¿ƒåŒ–å¤„ç†</span></span><br><span class="line">        pca=PCA(n_components=best_components)</span><br><span class="line">        pca=pca.fit(X)</span><br><span class="line">        X_r=pca.transform(X)</span><br><span class="line">        b=np.linalg.lstsq(X_r,np.subtract(y,self.y_mean))[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> b,pca</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pridict</span>(<span class="params">self,b,X,pca</span>):</span><br><span class="line">        T=pca.transform(X)</span><br><span class="line">        y_pre = np.dot(T, b)</span><br><span class="line">        y_predict = np.add(y_pre, self.y_mean)</span><br><span class="line">        <span class="keyword">return</span> y_predict</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cv_pridict</span>(<span class="params">self,X,y,n_fold,</span>):</span><br><span class="line">        cv = Cross_Validation(X,y,n_fold,self.max_components)</span><br><span class="line">        X_train, X_test, y_train, y_test = cv.CV()</span><br><span class="line">        y_allPredict=np.ones((<span class="number">1</span>,self.max_components))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_fold):</span><br><span class="line">            y_predict=np.zeros((y_test[i].shape[<span class="number">0</span>],self.max_components))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(self.max_components):</span><br><span class="line">                b,pca=self.fit(X_train[i],y_train[i],j+<span class="number">1</span>)</span><br><span class="line">                y_pre=self.pridict(b,X_test[i],pca)</span><br><span class="line">                y_predict[:,j]=y_pre.ravel()</span><br><span class="line"></span><br><span class="line">            y_allPredict=np.vstack((y_allPredict,y_predict))</span><br><span class="line">        y_allPredict=y_allPredict[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">return</span> y_allPredict,cv</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">RMSE_CV</span>(<span class="params">self,y_allPredict, y_measure,cv</span>):</span><br><span class="line">        press = np.square(np.subtract(y_allPredict, y_measure))</span><br><span class="line">        press_all = np.<span class="built_in">sum</span>(press, axis=<span class="number">0</span>)</span><br><span class="line">        RMSECV = np.sqrt(press_all / cv.n)</span><br><span class="line">        min_RMSECV = <span class="built_in">min</span>(RMSECV)</span><br><span class="line">        comp_array = RMSECV.argsort()</span><br><span class="line">        comp_best = comp_array[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> RMSECV, min_RMSECV, comp_best</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_Select_comp</span>(<span class="params">self,RMSECV</span>):</span><br><span class="line">        x=np.linspace(<span class="number">1</span>,<span class="number">20</span>,<span class="number">20</span>)</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot(x,RMSECV)</span><br><span class="line">        plt.ylabel(RMSECV)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;n_comp&#x27;</span>)</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data = sio.loadmat(<span class="string">&quot;../NIRcorn.mat&quot;</span>)</span><br><span class="line"></span><br><span class="line">    cornprop = data[<span class="string">&quot;cornprop&quot;</span>]</span><br><span class="line">    m5spec = data[<span class="string">&#x27;m5spec&#x27;</span>][<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    y = data[<span class="string">&#x27;cornprop&#x27;</span>][:, [<span class="number">0</span>]]</span><br><span class="line">    x=m5spec</span><br><span class="line">    y_mean=np.mean(y,axis=<span class="number">0</span>)</span><br><span class="line">    pcr=PCR(<span class="number">20</span>)</span><br><span class="line">    b,pca=pcr.fit(x,y,<span class="number">14</span>)</span><br><span class="line">    y_pre=pcr.pridict(b,x,pca)</span><br><span class="line">    <span class="built_in">print</span>(y)</span><br><span class="line">    <span class="built_in">print</span>(y_pre)</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    # é¢„æµ‹å›¾æ˜¾ç¤º</span></span><br><span class="line"><span class="string">    plt.figure()</span></span><br><span class="line"><span class="string">    plt.scatter(np.linspace(1,80,80),y_pre)</span></span><br><span class="line"><span class="string">    plt.scatter(np.linspace(1, 80, 80),y)</span></span><br><span class="line"><span class="string">    plt.show()</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    y_pre,cv=pcr.cv_pridict(x,y,<span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(y_pre)</span><br><span class="line">    RMSEcv,min_RMSEcv,best_comp=pcr.RMSE_CV(y_pre,cv.y,cv)</span><br><span class="line">    <span class="built_in">print</span>(RMSEcv)</span><br><span class="line">    pcr.show_Select_comp(RMSEcv)</span><br><span class="line"><span class="comment"># &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>å‚æ•°é€‰æ‹©ï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204192233033.png"alt="image-20230204192233033" /></p><p>é¢„æµ‹ç»“æœï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204192338375.png"alt="image-20230204192338375" /><figcaption aria-hidden="true">image-20230204192338375</figcaption></figure><h2 id="æ€»ç»“-5">æ€»ç»“</h2><p>ä¸»æˆåˆ†å›å½’åˆ†æ(PCR)ï¼Œä»¥ä¸»æˆåˆ†ä¸ºè‡ªå˜é‡è¿›è¡Œçš„å›å½’åˆ†æã€‚æ˜¯åˆ†æå¤šå…ƒå…±çº¿æ€§é—®é¢˜çš„ä¸€ç§æ–¹æ³•ï¼Œå½“è‡ªå˜é‡å­˜åœ¨å¤å…±çº¿æ€§åˆšï¼Œç”¨äºæ”¹è¿›æœ€å°äºŒä¹˜å›å½’çš„ç»Ÿè®¡åˆ†ææ–¹æ³•ã€‚éœç‰¹æ—1933å¹´é¦–å…ˆç”¨ä¸»æˆåˆ†åˆ†æç›¸å…³ç»“æ„ï¼Œ1965å¹´é©¬è¥¿æå‡ºä¸»æˆåˆ†å›å½’ã€‚</p><p>åŸºæœ¬æ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰å°†è‡ªå˜é‡è½¬æ¢ä¸ºæ ‡å‡†åˆ†ï¼›</p><p>ï¼ˆ2ï¼‰æ±‚å‡ºè¿™æ­¤æ ‡å‡†åˆ†çš„ä¸»æˆåˆ†ï¼Œå»æ‰ç‰¹å¾æ ¹å¾ˆå°çš„ä¸»æˆåˆ†ï¼›</p><p>ï¼ˆ3ï¼‰ç”¨æœ€å°äºŒä¹˜æ³•ä½œå› å˜é‡å¯¹ä¿ç•™çš„ä¸»æˆåˆ†çš„å›å½’ï¼›</p><p>ï¼ˆ4ï¼‰å°†å›å½’æ–¹ç¨‹ä¸­çš„ä¸»æˆåˆ†æ¢æˆæ ‡å‡†åˆ†çš„çº¿æ€§ç»„åˆï¼Œå¾—åˆ°ç”±æ ‡å‡†åˆ†ç»™å‡ºçš„å›å½’æ–¹ç¨‹</p><p>åœ¨å®ç°è¿‡ç¨‹ä¸­ï¼Œæ³¨æ„åˆ°ä¸€ç‚¹ï¼Œselfåœ¨pythoné¢å‘å¯¹è±¡çš„æ´»ç”¨ï¼Œå¯ä»¥å¤§å¹…åº¦å‡å°‘å˜é‡å®šä¹‰ï¼Œè€Œä¸”å¯ä»¥ä½œä¸ºå…¨å±€å˜é‡è·³å‡ºå¾ªç¯ä¸­ï¼Œéå¸¸å¥½ç”¨ã€‚</p><h1 id="å®éªŒå…­-åæœ€å°äºŒä¹˜ç®—æ³•">å®éªŒå…­ åæœ€å°äºŒä¹˜ç®—æ³•</h1><h2 id="å®éªŒç›®çš„-6">å®éªŒç›®çš„</h2><ol type="1"><li>å®ç°NIPALSç®—æ³•å¹¶å¯¹nircornæ•°æ®é›†è¿›è¡Œé¢„æµ‹</li><li>æŒæ¡äº¤å‰éªŒè¯ç®—æ³•åº”ç”¨ï¼›</li><li>å®ç°PLSç®—æ³•</li></ol><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡-6">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>å®éªŒå®¤4074</p><h2 id="å®éªŒæ–¹å¼-6">å®éªŒæ–¹å¼</h2><p>ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡-6">å®éªŒè®¾è®¡</h2><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204194521892.png" alt="image-20230204194521892" style="zoom:50%;" /></p><h2 id="å®éªŒå†…å®¹-6">å®éªŒå†…å®¹</h2><h3 id="niplsä¼ªä»£ç ">NIPLSä¼ªä»£ç </h3><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">NIPALS.py</span><br><span class="line">--------------------------------------------</span><br><span class="line">input: X,Y,n_comp</span><br><span class="line">output:P,Q,T,U,W,C</span><br><span class="line">--------------------------------------------</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n_comp):</span><br><span class="line">    u_new=Y[i+<span class="number">1</span>]</span><br><span class="line">    u_old=np.ones((Y.shape[i+<span class="number">1</span>],<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> || u_new-u_old ||&gt;=<span class="number">0.0001</span>(æå°å€¼):</span><br><span class="line">        u_old=u_new</span><br><span class="line">        w = X^T * u_new / ( u_old^T * u_old )</span><br><span class="line">        w = w / sqrt(w^T * w)</span><br><span class="line">        t = X * w</span><br><span class="line">        c = Y * t /( t^T * t )</span><br><span class="line">        c = c / sqrt(c^T * c)</span><br><span class="line">        u_new = Y * c</span><br><span class="line"></span><br><span class="line">    p = X * t / ( t^T * t )</span><br><span class="line">    q = Y * c / ( c^T * c )</span><br><span class="line">    X1 = X - t * p^T</span><br><span class="line">    b1 = u_new^T * t / ( t^T * t )</span><br><span class="line">    Y1 = Y - b * t * q^T</span><br><span class="line"></span><br><span class="line">    B[n_comp,:]=b</span><br><span class="line">    P[:,n_comp]=p</span><br><span class="line">    Q[:,n_comp]=q</span><br><span class="line">    T[:,n_comp]=t</span><br><span class="line">    U[:,n_comp]=u_new</span><br><span class="line">    W[:,n_comp]=w</span><br><span class="line">    C[:,n_comp]=c</span><br><span class="line">--------------------------------------------</span><br></pre></td></tr></table></figure><h3 id="niplså®ç°">NIPLSå®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> linalg</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NIPALS</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, max_pcs, sigma=<span class="number">0.0001</span></span>):</span><br><span class="line"></span><br><span class="line">        self.max_pcs = max_pcs</span><br><span class="line">        self.sigma = sigma</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self, X, Y</span>):</span><br><span class="line">        E, F = X, Y</span><br><span class="line">        P = np.mat(np.ones((X.shape[<span class="number">1</span>], self.max_pcs)))  <span class="comment"># Xè½½è·çŸ©é˜µâ€”â€”P</span></span><br><span class="line">        T = np.mat(np.ones((X.shape[<span class="number">0</span>], self.max_pcs)))  <span class="comment"># Xå¾—åˆ†çŸ©é˜µâ€”â€”T</span></span><br><span class="line">        W = np.mat(np.ones((X.shape[<span class="number">1</span>], self.max_pcs)))  <span class="comment"># Xæƒé‡çŸ©é˜µâ€”â€”W</span></span><br><span class="line">        Q = np.mat(np.ones((Y.shape[<span class="number">1</span>], self.max_pcs)))  <span class="comment"># Yè½½è·çŸ©é˜µâ€”â€”Q</span></span><br><span class="line">        U = np.mat(np.ones((X.shape[<span class="number">0</span>], self.max_pcs)))  <span class="comment"># Yå¾—åˆ†çŸ©é˜µâ€”â€”U</span></span><br><span class="line">        C = np.mat(np.ones((Y.shape[<span class="number">1</span>], self.max_pcs)))  <span class="comment"># Yæƒé‡çŸ©é˜µC</span></span><br><span class="line">        B = np.ones((self.max_pcs, X.shape[<span class="number">1</span>], Y.shape[<span class="number">1</span>]))</span><br><span class="line">        <span class="keyword">for</span> pcs <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, self.max_pcs):</span><br><span class="line"></span><br><span class="line">            t_old, t_new = np.zeros((X.shape[<span class="number">0</span>], <span class="number">1</span>)), np.ones((X.shape[<span class="number">0</span>], <span class="number">1</span>))  <span class="comment"># (64,1)</span></span><br><span class="line">            p_old, p_new = np.ones((X.shape[<span class="number">1</span>], <span class="number">1</span>)), np.ones((X.shape[<span class="number">1</span>], <span class="number">1</span>))  <span class="comment"># (700,1)</span></span><br><span class="line">            w_old, w_new = np.ones((X.shape[<span class="number">1</span>], <span class="number">1</span>)), np.ones((X.shape[<span class="number">1</span>], <span class="number">1</span>))  <span class="comment"># (700,1)</span></span><br><span class="line">            q_old, q_new = np.ones((Y.shape[<span class="number">1</span>], <span class="number">1</span>)), np.ones((Y.shape[<span class="number">1</span>], <span class="number">1</span>))  <span class="comment"># (4,1)</span></span><br><span class="line">            u_old, u_new = np.mat(Y[:, <span class="number">0</span>]).T, np.ones((X.shape[<span class="number">0</span>], <span class="number">1</span>))  <span class="comment"># (64,1)</span></span><br><span class="line">            <span class="keyword">while</span> (np.sqrt(np.<span class="built_in">sum</span>(np.square(np.subtract(t_new, t_old)) / t_new.shape[<span class="number">0</span>])) &gt; self.sigma):</span><br><span class="line">                t_old = t_new</span><br><span class="line">                w_old = (np.dot(u_old.T, X) / np.dot(u_old.T, u_old)).T</span><br><span class="line">                w_new = (w_old.T / np.sqrt(np.dot(w_old.T, w_old))).T</span><br><span class="line">                t_new = np.dot(X, w_new) / np.dot(w_new.T, w_new)</span><br><span class="line">                q_old = (np.dot(t_new.T, Y) / np.dot(t_new.T, t_new)).T</span><br><span class="line">                q_new = (q_old.T / np.linalg.norm(q_old.T)).T</span><br><span class="line">                u_new = np.dot(Y, q_new) / np.dot(q_new.T, q_new)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (Y.shape[<span class="number">1</span>] == <span class="number">1</span>):  <span class="comment"># åˆ¤æ–­Yæ˜¯å¦æ˜¯ä¸€ç»´</span></span><br><span class="line">                p_old = (np.dot(t_new.T, X) / np.dot(t_new.T, t_new)).T</span><br><span class="line">                p_new = (p_old.T / np.linalg.norm(p_old.T)).T</span><br><span class="line">                t_new = t_old * np.linalg.norm(p_old.T)</span><br><span class="line">                w_new = (w_old.T * np.linalg.norm(p_old.T)).T</span><br><span class="line"></span><br><span class="line">            b = np.dot(np.dot(w_new, linalg.inv(np.dot(p_new.T, w_new))), q_new.T)</span><br><span class="line"></span><br><span class="line">            P[:, pcs] = p_new  <span class="comment"># ä¿å­˜p</span></span><br><span class="line">            T[:, pcs] = t_new  <span class="comment"># ä¿å­˜t</span></span><br><span class="line">            W[:, pcs] = w_new  <span class="comment"># ä¿å­˜w</span></span><br><span class="line">            B[pcs, ::] = b  <span class="comment"># ä¿å­˜b</span></span><br><span class="line">            Q[:, pcs] = q_new  <span class="comment"># ä¿å­˜q</span></span><br><span class="line">            U[:, pcs] = u_new  <span class="comment"># ä¿å­˜u</span></span><br><span class="line">            E = E - np.dot(t_new, p_new.T)</span><br><span class="line">            F = F - np.dot(t_new, q_new.T)</span><br><span class="line">            self.X = E</span><br><span class="line">            self.Y = F</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> P, T, W, Q, U, B</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self, X, B, best_pcs</span>):</span><br><span class="line">        B_new = np.zeros((B[<span class="number">0</span>].shape[<span class="number">0</span>], B[<span class="number">0</span>].shape[<span class="number">1</span>]))</span><br><span class="line">        B_new[:] = B[best_pcs - <span class="number">1</span>]</span><br><span class="line">        Y_predict = np.dot(X, B_new)</span><br><span class="line">        <span class="keyword">return</span> Y_predict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">RMSE</span>(<span class="params">y, y_predict, k</span>):</span><br><span class="line">    press = np.square(np.subtract(y, y_predict))</span><br><span class="line">    press_all = np.<span class="built_in">sum</span>(press, axis=<span class="number">0</span>)</span><br><span class="line">    RMSE = np.sqrt(press_all / k)</span><br><span class="line">    <span class="keyword">return</span> RMSE</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># å¯¼å…¥æ•°æ®</span></span><br><span class="line">    data = sio.loadmat(<span class="string">&quot;../NIRcorn.mat&quot;</span>)</span><br><span class="line">    cornprop = data[<span class="string">&quot;cornprop&quot;</span>]</span><br><span class="line">    Y = cornprop</span><br><span class="line">    <span class="built_in">print</span>(np.shape(Y))</span><br><span class="line">    A = data[<span class="string">&quot;m5spec&quot;</span>]</span><br><span class="line">    m5spec = A[<span class="string">&quot;data&quot;</span>][<span class="number">0</span>][<span class="number">0</span>]  <span class="comment"># 80*700çŸ©é˜µ</span></span><br><span class="line">    <span class="comment"># åˆ’åˆ†æ•°æ®é›†</span></span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(m5spec, Y, test_size=<span class="number">0.2</span>, random_state=<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;X_train:&quot;</span>, X_train.shape)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;X_test:&quot;</span>, X_test.shape)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;y_train:&quot;</span>, y_train.shape)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;y_test:&quot;</span>, y_test.shape)</span><br><span class="line">    <span class="comment"># å°†è®­ç»ƒé›†ä¸­å¿ƒåŒ–</span></span><br><span class="line">    X_mean = np.mean(X_train, axis=<span class="number">0</span>)</span><br><span class="line">    X_center = np.subtract(X_train, X_mean)</span><br><span class="line">    Y_mean = np.mean(y_train, axis=<span class="number">0</span>)</span><br><span class="line">    Y_center = np.subtract(y_train, Y_mean)</span><br><span class="line">    X_test_mean = np.mean(X_test, axis=<span class="number">0</span>)</span><br><span class="line">    X_test_center = np.subtract(X_test, X_test_mean)</span><br><span class="line">    pls = NIPALS(<span class="number">5</span>)</span><br><span class="line">    P, T, W, Q, U, B = pls.fit(X_center, Y_center)</span><br><span class="line">    Y_predict = pls.predict(X_test_center, B, <span class="number">2</span>)</span><br><span class="line">    Ypre = Y_predict + Y_mean</span><br><span class="line">    rmse = RMSE(y_test.ravel(), Ypre.ravel(), Y_center.shape[<span class="number">0</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Y_predict:&quot;</span>, Ypre)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;rmse:&quot;</span>, rmse)</span><br></pre></td></tr></table></figure><p>rmse: 0.5119355259810657</p><h3 id="plså®ç°">PLSå®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cross_decomposition <span class="keyword">import</span> PLSRegression</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> Cross_Validation <span class="keyword">import</span> Cross_Validation</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">pls</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,max_comp</span>):</span><br><span class="line">        self.max_comp=max_comp</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,X,Y,n_comp</span>):</span><br><span class="line">        pls=PLSRegression(n_components=n_comp)</span><br><span class="line">        pls.fit(X,Y)</span><br><span class="line">        <span class="keyword">return</span> pls</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self,X,pls</span>):</span><br><span class="line">        <span class="keyword">return</span> pls.predict(X)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cv_predict</span>(<span class="params">self,X,y,n_fold</span>):</span><br><span class="line">        cv = Cross_Validation(X, y, n_fold, self.max_comp)</span><br><span class="line">        X_train, X_test, y_train, y_test = cv.CV()</span><br><span class="line">        y_allPredict = np.ones((<span class="number">1</span>, self.max_comp))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_fold):</span><br><span class="line">            y_predict = np.zeros((y_test[i].shape[<span class="number">0</span>], self.max_comp))</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(self.max_comp):</span><br><span class="line">                pls=self.fit(X_train[i],y_train[i],j+<span class="number">1</span>)</span><br><span class="line">                y_pre=self.predict(X_test[i],pls)</span><br><span class="line">                y_predict[:,j]=y_pre.ravel()</span><br><span class="line">            y_allPredict = np.vstack((y_allPredict, y_predict))</span><br><span class="line">        y_allPredict = y_allPredict[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">return</span> y_allPredict, cv,y_test,y_train,X_test,X_train</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">RMSE_CV</span>(<span class="params">self, y_allPredict, y_measure, cv</span>):</span><br><span class="line">        press = np.square(np.subtract(y_allPredict, y_measure))</span><br><span class="line">        press_all = np.<span class="built_in">sum</span>(press, axis=<span class="number">0</span>)</span><br><span class="line">        RMSECV = np.sqrt(press_all / cv.n)</span><br><span class="line">        min_RMSECV = <span class="built_in">min</span>(RMSECV)</span><br><span class="line">        comp_array = RMSECV.argsort()</span><br><span class="line">        comp_best = comp_array[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> RMSECV, min_RMSECV, comp_best</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_Select_comp</span>(<span class="params">self,RMSECV</span>):</span><br><span class="line">        x=np.linspace(<span class="number">1</span>,<span class="number">20</span>,<span class="number">20</span>)</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot(x,RMSECV,marker=<span class="string">&#x27;^&#x27;</span>,markersize=<span class="number">10</span>,markerfacecolor=<span class="string">&#x27;orange&#x27;</span>,color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;num_components&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;RMSECV&#x27;</span>)</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_predict</span>(<span class="params">self,y</span>):</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot([<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], [<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], label=<span class="string">&#x27;y=x&#x27;</span>, color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        plt.scatter(y, y_pre, color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;y_all&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;measure value&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;predict value&#x27;</span>)</span><br><span class="line">        plt.legend()</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_predict</span>(<span class="params">self,y,y_pre</span>):</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot([<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], [<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], label=<span class="string">&#x27;y=x&#x27;</span>, color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        plt.scatter(y, y_pre, color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;y_all&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;measure value&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;predict value&#x27;</span>)</span><br><span class="line">        plt.legend()</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_cv_predict</span>(<span class="params">self,y,x_test,y_test,y_train,x_train,pls</span>):</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot([<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], [<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], label=<span class="string">&#x27;y=x&#x27;</span>, color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        plt.scatter(y_test[<span class="number">0</span>],self.predict(x_test[<span class="number">0</span>],pls), color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;test set&#x27;</span>)</span><br><span class="line">        plt.scatter(y_train[<span class="number">0</span>],self.predict(x_train[<span class="number">0</span>],pls), color=<span class="string">&#x27;blue&#x27;</span>, label=<span class="string">&#x27;train set&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;measure value&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;predict value&#x27;</span>)</span><br><span class="line">        plt.legend()</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data = sio.loadmat(<span class="string">&quot;../NIRcorn.mat&quot;</span>)</span><br><span class="line"></span><br><span class="line">    cornprop = data[<span class="string">&quot;cornprop&quot;</span>]</span><br><span class="line">    m5spec = data[<span class="string">&#x27;m5spec&#x27;</span>][<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    y = data[<span class="string">&#x27;cornprop&#x27;</span>][:, [<span class="number">0</span>]]</span><br><span class="line">    x=m5spec</span><br><span class="line"></span><br><span class="line">    pls=pls(<span class="number">20</span>)</span><br><span class="line">    pls1=pls.fit(x,y,<span class="number">14</span>)</span><br><span class="line">    y_pre=pls.predict(x,pls1)</span><br><span class="line">    <span class="built_in">print</span>(y)</span><br><span class="line">    <span class="built_in">print</span>(y_pre)</span><br><span class="line"></span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.plot([<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)],[<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)],label=<span class="string">&#x27;y=x&#x27;</span>,color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">    plt.scatter(y, y_pre,color=<span class="string">&#x27;red&#x27;</span>,label=<span class="string">&#x27;y_all&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;measure value&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;predict value&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    y_pre, cv,y_test,y_train,x_test,x_train = pls.cv_predict(x, y, <span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(y_pre)</span><br><span class="line">    RMSEcv, min_RMSEcv, best_comp = pls.RMSE_CV(y_pre, cv.y, cv)</span><br><span class="line">    <span class="built_in">print</span>(RMSEcv)</span><br><span class="line">    pls.show_Select_comp(RMSEcv)</span><br><span class="line"></span><br><span class="line">    pls.show_cv_predict(y,x_test,y_test,y_train,x_train,pls1)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> cross_validation</span><br><span class="line"><span class="comment"># from sklearn.decomposition import PCA</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cross_Validation</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, x, y, n_folds, max_components</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">        self.n_folds = n_folds</span><br><span class="line">        self.max_components = max_components</span><br><span class="line">        self.n = x.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">CV</span>(<span class="params">self</span>):</span><br><span class="line">        kf = cross_validation.KFold(self.n, self.n_folds)</span><br><span class="line">        x_train=[]</span><br><span class="line">        x_test=[]</span><br><span class="line">        y_train=[]</span><br><span class="line">        y_test=[]</span><br><span class="line">        <span class="keyword">for</span> train_index,test_index <span class="keyword">in</span> kf:</span><br><span class="line">            xtr, xte = self.x[train_index], self.x[test_index]</span><br><span class="line">            ytr, yte = self.y[train_index], self.y[test_index]</span><br><span class="line">            x_train.append(xtr)</span><br><span class="line">            x_test.append(xte)</span><br><span class="line">            y_train.append(ytr)</span><br><span class="line">            y_test.append(yte)</span><br><span class="line">        <span class="keyword">return</span> x_train, x_test, y_train, y_test</span><br></pre></td></tr></table></figure><p>é¢„æµ‹ç»“æœï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204193337549.png"alt="image-20230204193337549" /><figcaption aria-hidden="true">image-20230204193337549</figcaption></figure><p>å‚æ•°é€‰æ‹©ï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204193345363.png"alt="image-20230204193345363" /></p><p>æ‹Ÿåˆæ•ˆæœï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204193435252.png"alt="image-20230204193435252" /><figcaption aria-hidden="true">image-20230204193435252</figcaption></figure><h2 id="æ€»ç»“-6">æ€»ç»“</h2><p>PLSçš„ä»£ç å®ç°æ€»ä½“ä¸Šå’ŒPCRç±»ä¼¼ï¼Œå…¶æ ¸å¿ƒåŒºåˆ«å°±åœ¨äºPLSçš„fitå’Œpredictå‡½æ•°å‘ç”Ÿäº†æ”¹å˜ï¼Œ</p><h1 id="å®éªŒä¸ƒ-å²­å›å½’">å®éªŒä¸ƒ å²­å›å½’</h1><h2 id="å®éªŒç›®çš„-7">å®éªŒç›®çš„</h2><ol type="1"><li>å®ç°RRç®—æ³•</li><li>æŒæ¡äº¤å‰éªŒè¯ç®—æ³•åº”ç”¨ï¼›</li><li>è§‚å¯Ÿå²­è„Š</li></ol><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡-7">å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>å®éªŒå®¤4074</p><h2 id="å®éªŒæ–¹å¼-7">å®éªŒæ–¹å¼</h2><p>ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡-7">å®éªŒè®¾è®¡</h2><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204194615350.png" alt="image-20230204194615350" style="zoom:50%;" /></p><h2 id="å®éªŒå†…å®¹-7">å®éªŒå†…å®¹</h2><h3 id="å²­è¿¹">å²­è¿¹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line"></span><br><span class="line"><span class="comment"># X is the 10x10 Hilbert matrix</span></span><br><span class="line">X = <span class="number">1.0</span> / (np.arange(<span class="number">1</span>, <span class="number">11</span>) + np.arange(<span class="number">0</span>, <span class="number">10</span>)[:, np.newaxis])</span><br><span class="line">y = np.ones(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">n_alphas = <span class="number">200</span></span><br><span class="line">alphas = np.logspace(-<span class="number">10</span>, -<span class="number">2</span>, n_alphas)</span><br><span class="line"></span><br><span class="line">coefs = []</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> alphas:</span><br><span class="line">    ridge = linear_model.Ridge(alpha=a, fit_intercept=<span class="literal">False</span>)</span><br><span class="line">    ridge.fit(X, y)</span><br><span class="line">    coefs.append(ridge.coef_)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(alphas)</span><br><span class="line">ax = plt.gca()</span><br><span class="line"></span><br><span class="line">ax.plot(alphas, coefs)</span><br><span class="line"><span class="comment"># ax.set_xscale(&quot;log&quot;)</span></span><br><span class="line"><span class="comment"># ax.set_xlim(ax.get_xlim()[::-1])  # reverse axis</span></span><br><span class="line">plt.xlabel(<span class="string">&quot;alpha&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;weights&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Ridge coefficients as a function of the regularization&quot;</span>)</span><br><span class="line">plt.axis(<span class="string">&quot;tight&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>ç®—æœ¯åæ ‡å°ºåº¦<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204193803654.png"alt="image-20230204193803654" /></p><p>å¯¹æ•°åæ ‡å°ºåº¦<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204193817727.png"alt="image-20230204193817727" /></p><h3 id="rrå®ç°">RRå®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge</span><br><span class="line"><span class="keyword">from</span> Cross_Validation <span class="keyword">import</span> Cross_Validation</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RidgeRegression</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n_lambda</span>):</span><br><span class="line">        self.n_lambda=n_lambda</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,X,y,best_lambda</span>):</span><br><span class="line">        c=np.dot(X.T,X)</span><br><span class="line">        I=np.eye(np.shape(c)[<span class="number">0</span>])</span><br><span class="line">        d=np.dot(best_lambda,I)</span><br><span class="line">        e=(c+d)</span><br><span class="line">        e=np.linalg.inv(e)</span><br><span class="line">        b = np.dot(X.T, y)</span><br><span class="line">        b=np.dot(e,b)</span><br><span class="line">        self.b=b</span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pridict</span>(<span class="params">self,x</span>):</span><br><span class="line">        y_pri=np.dot(x,self.b)</span><br><span class="line">        <span class="keyword">return</span> y_pri</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cv_pridict</span>(<span class="params">self,X,y,n_fold</span>):</span><br><span class="line">        cv = Cross_Validation(X, y, n_fold, self.n_lambda)</span><br><span class="line">        X_train, X_test, y_train, y_test = cv.CV()</span><br><span class="line">        y_allPredict = np.ones((<span class="number">1</span>, self.n_lambda))</span><br><span class="line">        lambda1=np.logspace(-<span class="number">10</span>,-<span class="number">2</span>,self.n_lambda)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_fold):</span><br><span class="line">            y_predict = np.zeros((y_test[i].shape[<span class="number">0</span>], self.n_lambda))</span><br><span class="line">            k=<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j  <span class="keyword">in</span> np.nditer(lambda1) :</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;ç¬¬&#x27;</span>,k+<span class="number">1</span>+self.n_lambda*i,<span class="string">&#x27;æ¬¡:&#x27;</span>,j)</span><br><span class="line">                pls = self.fit(X_train[i], y_train[i], j)</span><br><span class="line">                y_pre = self.pridict(X_test[i])</span><br><span class="line">                y_predict[:, k] = y_pre.ravel()</span><br><span class="line">                k=k+<span class="number">1</span></span><br><span class="line">            y_allPredict = np.vstack((y_allPredict, y_predict))</span><br><span class="line">        y_allPredict = y_allPredict[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">return</span> y_allPredict, cv, y_test, y_train, X_test, X_train</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">RMSE_CV</span>(<span class="params">self, y_allPredict, y_measure, cv</span>):</span><br><span class="line">        press = np.square(np.subtract(y_allPredict, y_measure))</span><br><span class="line">        press_all = np.<span class="built_in">sum</span>(press, axis=<span class="number">0</span>)</span><br><span class="line">        RMSECV = np.sqrt(press_all / cv.n)</span><br><span class="line">        lambda_best= <span class="built_in">min</span>(RMSECV)</span><br><span class="line">        <span class="keyword">return</span> RMSECV, lambda_best</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_Select_lambda</span>(<span class="params">self,RMSECV</span>):</span><br><span class="line">        x=np.logspace(-<span class="number">10</span>,-<span class="number">2</span>,self.n_lambda)</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot(x,RMSECV,marker=<span class="string">&#x27;^&#x27;</span>,markersize=<span class="number">10</span>,markerfacecolor=<span class="string">&#x27;orange&#x27;</span>,color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;lambda&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;RMSECV&#x27;</span>)</span><br><span class="line">        ax = plt.gca()</span><br><span class="line">        ax.set_xscale(<span class="string">&quot;log&quot;</span>)</span><br><span class="line">        ax.set_xlim(ax.get_xlim()[::-<span class="number">1</span>])</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_cv_predict</span>(<span class="params">self, y, x_test, y_test, y_train, x_train</span>):</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot([<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], [<span class="built_in">min</span>(y), <span class="built_in">max</span>(y)], label=<span class="string">&#x27;y=x&#x27;</span>, color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        plt.scatter(y_test[<span class="number">0</span>], self.pridict(x_test[<span class="number">0</span>]), color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;test set&#x27;</span>)</span><br><span class="line">        plt.scatter(y_train[<span class="number">0</span>], self.pridict(x_train[<span class="number">0</span>]), color=<span class="string">&#x27;blue&#x27;</span>, label=<span class="string">&#x27;train set&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;measure value&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;predict value&#x27;</span>)</span><br><span class="line">        plt.legend()</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data = sio.loadmat(<span class="string">&quot;../NIRcorn.mat&quot;</span>)</span><br><span class="line"></span><br><span class="line">    cornprop = data[<span class="string">&quot;cornprop&quot;</span>]</span><br><span class="line">    m5spec = data[<span class="string">&#x27;m5spec&#x27;</span>][<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    y = data[<span class="string">&#x27;cornprop&#x27;</span>][:, [<span class="number">0</span>]]</span><br><span class="line">    x = m5spec</span><br><span class="line"></span><br><span class="line">    rr=RidgeRegression(<span class="number">50</span>)</span><br><span class="line">    rr.fit(x,y,<span class="number">0.335641904424</span>)</span><br><span class="line">    y_pri=rr.pridict(x)</span><br><span class="line"></span><br><span class="line">    y_allPredict, cv, y_test, y_train, X_test, X_train=rr.cv_pridict(x,y,<span class="number">20</span>)</span><br><span class="line">    RMSECV, best_lambda =rr.RMSE_CV(y_allPredict,cv.y,cv)</span><br><span class="line">    rr.show_Select_lambda(RMSECV)</span><br><span class="line">    <span class="built_in">print</span>(best_lambda)</span><br><span class="line"></span><br><span class="line">    rr.show_cv_predict(y, X_test, y_test, y_train, X_train)</span><br><span class="line">    <span class="built_in">print</span>(y_train[<span class="number">0</span>])</span><br><span class="line">    <span class="built_in">print</span>(rr.pridict(X_train[<span class="number">0</span>]))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> cross_validation</span><br><span class="line"><span class="comment"># from sklearn.decomposition import PCA</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cross_Validation</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, x, y, n_folds, max_lambda</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">        self.n_folds = n_folds</span><br><span class="line">        self.n = x.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">CV</span>(<span class="params">self</span>):</span><br><span class="line">        kf = cross_validation.KFold(self.n, self.n_folds)</span><br><span class="line">        x_train=[]</span><br><span class="line">        x_test=[]</span><br><span class="line">        y_train=[]</span><br><span class="line">        y_test=[]</span><br><span class="line">        <span class="keyword">for</span> train_index,test_index <span class="keyword">in</span> kf:</span><br><span class="line">            xtr, xte = self.x[train_index], self.x[test_index]</span><br><span class="line">            ytr, yte = self.y[train_index], self.y[test_index]</span><br><span class="line">            x_train.append(xtr)</span><br><span class="line">            x_test.append(xte)</span><br><span class="line">            y_train.append(ytr)</span><br><span class="line">            y_test.append(yte)</span><br><span class="line">        <span class="keyword">return</span> x_train, x_test, y_train, y_test</span><br></pre></td></tr></table></figure><p>æ­£åˆ™åŒ–å‚æ•°é€‰æ‹©å›¾åƒ<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204194028992.png"alt="image-20230204194028992" /></p><p>æ‹Ÿåˆæ•ˆæœå›¾åƒ</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230204194101069.png"alt="image-20230204194101069" /><figcaption aria-hidden="true">image-20230204194101069</figcaption></figure><p>å¯ä»¥å‘ç°æœ€åå›å½’ç³»æ•°éƒ½åˆ†å¸ƒåœ¨10å·¦å³ï¼Œæ¯”è¾ƒå¹³å‡ï¼Œæœ‰å¾ˆå¼ºçš„æŠ—æ‰°åŠ¨ã€‚</p><h2 id="æ€»ç»“-7">æ€»ç»“</h2><p>å²­å›å½’å¯¹äºæ¨¡å‹çš„ç‰¹å¾æ§åˆ¶æœ‰ç€å¾ˆå¥½çš„æ•ˆæœï¼Œå½¢æˆçš„å›å½’ç³»æ•°ç›¸å¯¹å¹³å‡æœ‰å¾ˆå¼ºçš„æŠ—å¹²æ‰°å·¦å³ï¼Œè€Œä¸”èƒ½è§£å†³å¤šé‡å…±çº¿æ€§ï¼Œè§£å†³å¸ƒæ»¡ç§©çš„æƒ…å†µã€‚æœ‰å¾ˆå¼ºçš„åº”ç”¨ä»·å€¼ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ ä½œä¸š</title>
      <link href="/2023/04/21/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%BD%9C%E4%B8%9A/"/>
      <url>/2023/04/21/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%BD%9C%E4%B8%9A/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½œä¸šä¹-åå‘ä¼ æ’­ç®—æ³•bp">ä½œä¸šä¹ åå‘ä¼ æ’­ç®—æ³•ï¼ˆBPï¼‰</h1><h2 id="ç®—æ³•æ¨å¯¼">ç®—æ³•æ¨å¯¼</h2><p><img src="G:\ä¸“ä¸šå­¦ä¹ \ç¬¬å…­å­¦æœŸ\æœºå™¨å­¦ä¹ \ç¥ç»ç½‘ç»œ.png" alt="ç¥ç»ç½‘ç»œ" style="zoom: 25%;" /></p><p>ä»¤input layer åˆ°hidden layerçš„æƒé‡ä¸º<spanclass="math inline">\(w_{ih}\)</span>ï¼Œhidden layerå’Œoutputlayerçš„æƒé‡ä¸º<span class="math inline">\(w_{ho}\)</span></p><p>å‰å‘ç®—æ³•ä¼ªä»£ç ï¼š</p><table><colgroup><col style="width: 100%" /></colgroup><thead><tr class="header"><th>Algorithm1: forward</th></tr></thead><tbody><tr class="odd"><td>input: X</td></tr><tr class="even"><td>output: <span class="math inline">\(y\)</span></td></tr><tr class="odd"><td>1. hidden_in=<span class="math inline">\(w_{ih}X+b_1\)</span><br/>2. hidden_out=<spanclass="math inline">\(\sigma(hidden\_in)\)</span><br/>3. output_in=<spanclass="math inline">\(w_{ho}X+b_2\)</span><br/>4. output_out=<spanclass="math inline">\(\sigma(output\_out)\)</span>#æ ¹æ®æƒ…å†µå¯æœ‰å¯æ— ï¼Œæ— çš„è¯åˆ™output_inå³ä¸ºoutput_out<br/>5.y=output_out<br />6.<br/>7. return <spanclass="math inline">\(y\)</span></td></tr></tbody></table><p>outputçš„è¾“å‡ºç»“æœä¸ºï¼š<spanclass="math inline">\(y_j\)</span>ï¼Œç›®æ ‡ç»“æœä¸º<spanclass="math inline">\(t_j\)</span></p><p>ä»¤è¯¯å·®å‡½æ•°ä¸º<spanclass="math inline">\(E=\frac{1}{2}\sum_{j=0}^{n}{(y_j-t_j)^2}\)</span>ï¼Œå…¶ä¸­<spanclass="math inline">\(i\)</span>ä¸ºoutput layerçš„ç¥ç»å…ƒä¸ªæ•°</p><p>ä¸‹é¢ç»™å‡ºåå‘ä¼ æ’­çš„ä¼ªä»£ç ï¼š</p><table><colgroup><col style="width: 100%" /></colgroup><thead><tr class="header"><th>Algorithm1: backprop</th></tr></thead><tbody><tr class="odd"><td>input: X,t,y,learn_rate</td></tr><tr class="even"><td>output: null</td></tr><tr class="odd"><td>1. <spanclass="math inline">\(\delta_1=(y-t)\sigma^{&#39;}(y)\)</span> #outputlayerçš„æ¢¯åº¦<br />2. <spanclass="math inline">\(\delta_2=\sigma^{&#39;}(hidden\_output)\sum_{i=0}^{n}{w_{ho}\delta_1}\)</span>#æ±‚è§£hidden layerçš„æ¢¯åº¦<br />3. <br/>4. <spanclass="math inline">\(w_{ih}-=learn\_rate*\delta_2\)</span><br/>5. <spanclass="math inline">\(w_{ho}-=learn\_rate*\delta_1\)</span><br/>6. <spanclass="math inline">\(b_{2}-=learn\_rate*\delta_2\)</span><br/>7. <spanclass="math inline">\(b_{1}-=learn\_rate*\delta_1\)</span><br/>8.<br/>9. return</td></tr></tbody></table><p>å…¶ä¸­æ¢¯åº¦æ±‚å¯¼åŸå› å¦‚ä¸‹ï¼š <span class="math display">\[\begin{array}{left}\frac{\partial E}{\partial w_{ij}}=\frac{\partial E}{\partiala{j}}\frac{\partial a_j}{\partial w_{ij}} \\å…¶ä¸­ï¼š\\E=\frac{1}{2}\sum_{j=0}^{n}{(y_j-t_j)^2}\\a_j=\sum_i{w_{ij}z_i}\\z_j=\sigma(a_j)\\é‚£ä¹ˆï¼š\\\frac{\partial E}{\partial a{j}}=y_j-t_j \\\delta \equiv\frac{\partial E}{\partial a{j}}\\åˆ™ï¼š\\\frac{\partial E}{\partial w_{ij}}=\delta\frac{\partial a_j}{\partialw_{ij}}=\delta\sigma^{&#39;}(a_j)\end{array}\]</span></p><h2 id="æ‹Ÿåˆsinæ›²çº¿">æ‹Ÿåˆsinæ›²çº¿</h2><p>åœ¨å®ç°ä¸­ï¼Œoutputlayerè¾“å‡ºæ—¶ä¸èƒ½é‡‡ç”¨Sigmoidå‡½æ•°æ¿€æ´»ï¼Œå¦åˆ™æ— æ³•å‡ºç°æ­£å¸¸ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NN</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_neurons, hidden_neurons, output_neurons, learning_rate, epochs</span>):</span><br><span class="line">        self.input_neurons = input_neurons</span><br><span class="line">        self.hidden_neurons = hidden_neurons</span><br><span class="line">        self.output_neurons = output_neurons</span><br><span class="line">        self.epochs = epochs</span><br><span class="line">        self.lr = learning_rate</span><br><span class="line"></span><br><span class="line">        self.wih = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (self.hidden_neurons, self.input_neurons))</span><br><span class="line">        self.bih = <span class="number">0</span></span><br><span class="line">        self.who = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (self.output_neurons, self.hidden_neurons))</span><br><span class="line">        self.bho = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">activation</span>(<span class="params">self, Z</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-Z))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sigmoid_derivative</span>(<span class="params">self, Z</span>):</span><br><span class="line">        <span class="keyword">return</span> self.activation(Z) * (<span class="number">1</span> - self.activation(Z))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‰å‘ä¼ æ’­</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, input_list</span>):</span><br><span class="line">        inputs = np.array(input_list, ndmin=<span class="number">2</span>)</span><br><span class="line">        hidden_inputs = np.dot(self.wih, inputs) + self.bih</span><br><span class="line">        hidden_outputs = self.activation(hidden_inputs)</span><br><span class="line">        final_inputs = np.dot(self.who, hidden_outputs) + self.bho</span><br><span class="line">        final_outputs=final_inputs</span><br><span class="line">        <span class="keyword">return</span> final_outputs</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åå‘ä¼ æ’­</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backprop</span>(<span class="params">self, inputs_list, targets_list</span>):</span><br><span class="line">        inputs = np.array(inputs_list, ndmin=<span class="number">2</span>)</span><br><span class="line">        tj = np.array(targets_list, ndmin=<span class="number">2</span>)</span><br><span class="line">        hidden_inputs = np.dot(self.wih, inputs) + self.bih</span><br><span class="line">        hidden_outputs = self.activation(hidden_inputs)</span><br><span class="line">        final_inputs = np.dot(self.who, hidden_outputs) + self.bho</span><br><span class="line">        yj = final_inputs</span><br><span class="line">        output_errors = (yj - tj)</span><br><span class="line">        hidden_errors = np.dot(self.who.T, output_errors)*self.sigmoid_derivative(hidden_outputs)</span><br><span class="line">        self.who -= self.lr * np.dot(output_errors , np.transpose(hidden_outputs))</span><br><span class="line">        self.wih -= self.lr * np.dot(hidden_errors, np.transpose(inputs))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># updating bias</span></span><br><span class="line">        self.bho -= self.lr * output_errors</span><br><span class="line">        self.bih -= self.lr * hidden_errors</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self, inputs_list, targets_list</span>):</span><br><span class="line">        loss_list=[]</span><br><span class="line">        <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(self.epochs):</span><br><span class="line">            self.backprop(inputs_list, targets_list)</span><br><span class="line">            y_pre=self.predict(inputs_list)</span><br><span class="line">            loss=np.sqrt(np.<span class="built_in">sum</span>(np.square(y_pre-targets_list)))/<span class="number">2</span></span><br><span class="line">            loss_list.append(loss)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Epoch <span class="subst">&#123;epoch&#125;</span>/<span class="subst">&#123;self.epochs&#125;</span> ,loss:<span class="subst">&#123;loss&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> loss_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self, X</span>):</span><br><span class="line">        outputs = self.forward(X).T</span><br><span class="line">        <span class="keyword">return</span> outputs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">    plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line">    <span class="comment"># åˆ›å»ºæ•°æ®</span></span><br><span class="line">    x = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line">    y = np.sin(<span class="number">2</span> * np.pi * x)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ éšæœºå™ªå£°</span></span><br><span class="line">    np.random.seed(<span class="number">20</span>)</span><br><span class="line">    y_noisy = y + <span class="number">0.05</span> * np.random.normal(size=x.shape)</span><br><span class="line">    nn = NN(<span class="number">1</span>, <span class="number">50</span>, <span class="number">1</span>, <span class="number">0.02</span>,<span class="number">200</span>)</span><br><span class="line">    loss=nn.fit(x, y_noisy)</span><br><span class="line"></span><br><span class="line">    x_test = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line">    y_pred = nn.predict(x_test)</span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.plot(x_test, y_pred, label=<span class="string">&#x27;Regressor&#x27;</span>, color=<span class="string">&#x27;#FFA628&#x27;</span>)</span><br><span class="line">    plt.plot(x, y, label=<span class="string">&#x27;True function&#x27;</span>, color=<span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">    plt.scatter(x, y_noisy, edgecolor=<span class="string">&#x27;b&#x27;</span>, s=<span class="number">20</span>, label=<span class="string">&#x27;Noisy samples&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.tight_layout()</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.plot(np.linspace(<span class="number">3</span>,<span class="built_in">len</span>(loss),<span class="built_in">len</span>(loss)-<span class="number">3</span>),loss[<span class="number">3</span>:])</span><br><span class="line">    plt.title(<span class="string">&#x27;loss curve&#x27;</span>)</span><br><span class="line">    plt.tight_layout()</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p>ç»è¿‡200æ¬¡è¿­ä»£åï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230507143232977.png" alt="image-20230507143232977" style="zoom:50%;" /></p><p>lossæ›²çº¿å¦‚ä¸‹ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230507143309196.png" alt="image-20230507143309196" style="zoom:50%;" /></p><p>å¦‚æœè¿­ä»£2000æ¬¡ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/f624b4755450bca033368ecadb12ed7.png" alt="f624b4755450bca033368ecadb12ed7" style="zoom: 67%;" /></p><p>å¯ä»¥çœ‹åˆ°æœ‰æ˜æ˜¾è¿‡æ‹Ÿåˆã€‚</p><p>å¦‚æœè¾“å‡ºç»“æœï¼Œé‡‡ç”¨Sigmoidå‡½æ•°å¤„ç†ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230507143624375.png" alt="image-20230507143624375" style="zoom: 50%;" /></p><p>åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºSigmoidå‡½æ•°å°†æ•°å€¼ç¼©æ”¾åˆ°äº†0ï¼Œå¯¼è‡´ç»“æœå‡ä¸º0ï¼Œå¦‚æœå°†è¯¯å·®ç¬¦å·åå‘ï¼Œé‚£ä¹ˆå°†å¾—åˆ°ä¸€æ¡y=1çš„ç›´çº¿ä½œä¸šå…«ç¥ç»ç½‘ç»œåˆæ­¥</p><h1 id="ä½œä¸šå…«-ç¥ç»ç½‘ç»œåˆæ­¥">ä½œä¸šå…« ç¥ç»ç½‘ç»œåˆæ­¥</h1><p>sklearnä¸­äººå·¥ç¥ç»ç½‘ç»œï¼ˆANNï¼‰ä¸»è¦æä¾›çš„æ˜¯å¤šå±‚æ„ŸçŸ¥æœºï¼ˆMLPï¼‰ï¼Œå…¶ä¸­æœ‰å›å½’å’Œåˆ†ç±»ä¸¤ç§ï¼Œå›å½’æ„ŸçŸ¥æœºè¿˜æœ‰èƒ½å¤Ÿè‡ªåŠ¨å®ç°äº¤å‰éªŒè¯çš„ç‰ˆæœ¬ã€‚</p><h2 id="mlpclassifieräºŒåˆ†ç±»">MLPClassifieräºŒåˆ†ç±»</h2><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ol type="1"><li>å¯¼å…¥irisæ•°æ®ï¼Œå–åä¸¤ç±»</li><li>æ ‡å‡†åŒ–</li><li>PCAå¾—åˆ°x_pcaï¼Œy</li><li>åˆå§‹åŒ–MLPï¼Œè®­ç»ƒ</li><li>ç»˜åˆ¶åˆ†ç±»é¢</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> l1_min_c</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> ListedColormap</span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_decision_surface</span>(<span class="params">model, X, y, grid_size=<span class="number">0.02</span></span>):</span><br><span class="line">    <span class="comment"># è·å–æ•°æ®èŒƒå›´</span></span><br><span class="line">    x_min, x_max = X[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">0.5</span>, X[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">0.5</span></span><br><span class="line">    y_min, y_max = X[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">0.5</span>, X[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆç½‘æ ¼ç‚¹</span></span><br><span class="line">    xx, yy = np.meshgrid(np.arange(x_min, x_max, grid_size), np.arange(y_min, y_max, grid_size))</span><br><span class="line">    Z = model.predict(np.c_[xx.ravel(), yy.ravel()])</span><br><span class="line">    Z = Z.reshape(xx.shape)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç»˜åˆ¶åˆ†ç±»é¢å’Œè®­ç»ƒæ•°æ®</span></span><br><span class="line">    cmap_light = ListedColormap([<span class="string">&#x27;#FFAAAA&#x27;</span>, <span class="string">&#x27;#AAFFAA&#x27;</span>, <span class="string">&#x27;#AAAAFF&#x27;</span>])</span><br><span class="line">    cmap_bold = ListedColormap([<span class="string">&#x27;#FF0000&#x27;</span>, <span class="string">&#x27;#00FF00&#x27;</span>, <span class="string">&#x27;#0000FF&#x27;</span>])</span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.pcolormesh(xx, yy, Z, cmap=cmap_light)</span><br><span class="line">    plt.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y, cmap=cmap_bold, edgecolor=<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line">    plt.xlim(xx.<span class="built_in">min</span>(), xx.<span class="built_in">max</span>())</span><br><span class="line">    plt.ylim(yy.<span class="built_in">min</span>(), yy.<span class="built_in">max</span>())</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Sepal length&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Sepal width&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;Iris classification using MLP&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">X = iris.data</span><br><span class="line">y = iris.target</span><br><span class="line"></span><br><span class="line">X = X[y != <span class="number">0</span>]</span><br><span class="line">y = y[y != <span class="number">0</span>]</span><br><span class="line"><span class="comment"># æ ‡å‡†åŒ–</span></span><br><span class="line">standard=StandardScaler()</span><br><span class="line">X=standard.fit_transform(X)</span><br><span class="line"><span class="comment"># PCA</span></span><br><span class="line">pca=PCA(n_components=<span class="number">2</span>)</span><br><span class="line">x_pca=pca.fit_transform(X)</span><br><span class="line"><span class="comment"># åˆå§‹åŒ–mlp</span></span><br><span class="line">mlp=MLPClassifier(solver=<span class="string">&#x27;lbfgs&#x27;</span>,hidden_layer_sizes=(<span class="number">5</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">mlp.fit(x_pca,y)</span><br><span class="line"></span><br><span class="line">plot_decision_surface(mlp, x_pca, y)</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230422220300024.png" alt="image-20230422220300024" style="zoom:50%;" /></p><h2 id="mlpclassifierå¤šåˆ†ç±»">MLPClassifierå¤šåˆ†ç±»</h2><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ol type="1"><li>å¯¼å…¥irisæ•°æ®</li><li>æ ‡å‡†åŒ–</li><li>PCAå¾—åˆ°x_pcaï¼Œy</li><li>åˆå§‹åŒ–MLPï¼Œè®­ç»ƒ</li><li>ç»˜åˆ¶åˆ†ç±»é¢</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> plot_confusion_matrix</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> ListedColormap</span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_decision_surface</span>(<span class="params">model, X, y, grid_size=<span class="number">0.02</span></span>):</span><br><span class="line">    <span class="comment"># è·å–æ•°æ®èŒƒå›´</span></span><br><span class="line">    x_min, x_max = X[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">0.5</span>, X[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">0.5</span></span><br><span class="line">    y_min, y_max = X[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">0.5</span>, X[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆç½‘æ ¼ç‚¹</span></span><br><span class="line">    xx, yy = np.meshgrid(np.arange(x_min, x_max, grid_size), np.arange(y_min, y_max, grid_size))</span><br><span class="line">    Z = model.predict(np.c_[xx.ravel(), yy.ravel()])</span><br><span class="line">    Z = Z.reshape(xx.shape)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç»˜åˆ¶åˆ†ç±»é¢å’Œè®­ç»ƒæ•°æ®</span></span><br><span class="line">    cmap_light = ListedColormap([<span class="string">&#x27;#FFAAAA&#x27;</span>, <span class="string">&#x27;#AAFFAA&#x27;</span>, <span class="string">&#x27;#AAAAFF&#x27;</span>])</span><br><span class="line">    cmap_bold = ListedColormap([<span class="string">&#x27;#FF0000&#x27;</span>, <span class="string">&#x27;#00FF00&#x27;</span>, <span class="string">&#x27;#0000FF&#x27;</span>])</span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.pcolormesh(xx, yy, Z, cmap=cmap_light)</span><br><span class="line">    plt.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y, cmap=cmap_bold, edgecolor=<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line">    plt.xlim(xx.<span class="built_in">min</span>(), xx.<span class="built_in">max</span>())</span><br><span class="line">    plt.ylim(yy.<span class="built_in">min</span>(), yy.<span class="built_in">max</span>())</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Sepal length&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Sepal width&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;Iris classification using MLP&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½æ•°æ®</span></span><br><span class="line">iris = load_iris()</span><br><span class="line">X = iris.data[:, :<span class="number">2</span>]  <span class="comment"># åªä½¿ç”¨å‰ä¸¤ä¸ªç‰¹å¾</span></span><br><span class="line">y = iris.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ’åˆ†æ•°æ®é›†</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.3</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¤šå±‚æ„ŸçŸ¥å™¨æ¨¡å‹</span></span><br><span class="line">mlp = MLPClassifier(hidden_layer_sizes=(<span class="number">10</span>,), max_iter=<span class="number">1000</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">mlp.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶åˆ†ç±»é¢</span></span><br><span class="line">plot_decision_surface(mlp, X_train, y_train)</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230422220443459.png" alt="image-20230422220443459" style="zoom:50%;" /></p><h2 id="mlpregressor">MLPRegressor</h2><p>ç¨‹åºæµç¨‹å¦‚ä¸‹ï¼š</p><ol type="1"><li>åˆ›å»ºæ•°æ®Xï¼Œy</li><li>ä¸ºyæ·»åŠ éšæœºå™ªå£°</li><li>åˆå§‹åŒ–MLP</li><li>è®­ç»ƒMLP</li><li>ç»˜åˆ¶é¢„æµ‹æ•ˆæœå›¾</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPRegressor</span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®</span></span><br><span class="line">x = np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">100</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ éšæœºå™ªå£°</span></span><br><span class="line">np.random.seed(<span class="number">42</span>)</span><br><span class="line">y_noisy = y + <span class="number">0.2</span> * np.random.normal(size=x.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¤šå±‚æ„ŸçŸ¥å™¨æ¨¡å‹</span></span><br><span class="line">mlp = MLPRegressor(hidden_layer_sizes=(<span class="number">50</span>,), max_iter=<span class="number">1000</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">mlp.fit(x.reshape(-<span class="number">1</span>, <span class="number">1</span>), y_noisy)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„æµ‹å¹¶ç»˜åˆ¶ç»“æœ</span></span><br><span class="line">x_test = np.linspace(-<span class="number">5.5</span>, <span class="number">5.5</span>, <span class="number">100</span>)</span><br><span class="line">y_pred = mlp.predict(x_test.reshape(-<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">plt.plot(x_test, y_pred, label=<span class="string">&#x27;MLP Regressor&#x27;</span>,color=<span class="string">&#x27;#FFA628&#x27;</span>)</span><br><span class="line">plt.plot(x, y, label=<span class="string">&#x27;True function&#x27;</span>,color=<span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">plt.scatter(x, y_noisy, edgecolor=<span class="string">&#x27;b&#x27;</span>, s=<span class="number">20</span>, label=<span class="string">&#x27;Noisy samples&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.title(<span class="string">&#x27;MLP Regressor&#x27;</span>)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230422220624823.png" alt="image-20230422220624823" style="zoom:50%;" /></p><h1 id="ä½œä¸šä¸ƒ-é€»è¾‘å›å½’åˆ†ç±»">ä½œä¸šä¸ƒ é€»è¾‘å›å½’åˆ†ç±»</h1><p>ç”±äºéƒ½æ˜¯ä»sklearnä¸­è°ƒç”¨ï¼Œå¹¶ä¸æ¶‰åŠä»€ä¹ˆå¤æ‚ç®—æ³•ï¼Œå› æ­¤ä¸‹é¢é‡‡ç”¨åˆ—è¡¨çš„æ–¹å¼æè¿°ç¨‹åºä½œç”¨</p><h2 id="äºŒåˆ†ç±»é€»è¾‘å›å½’">äºŒåˆ†ç±»é€»è¾‘å›å½’</h2><p>é¦–å…ˆè¯´æ˜ä¸‹é¢ç¨‹åºçš„ç›®çš„ï¼š</p><table><thead><tr class="header"><th>1.è§‚å¯Ÿä¸åŒæƒ©ç½šé¡¹ç³»æ•°å¯¹åº”å‚æ•°å˜åŒ–</th></tr></thead><tbody><tr class="odd"><td><strong>2.è§‚å¯Ÿä¸åŒæƒ©ç½šé¡¹ç³»æ•°å¯¹åº”é”™è¯¯ç‡</strong></td></tr><tr class="even"><td><strong>3.å¯è§†åŒ–äºŒåˆ†ç±»ç»“æœ</strong></td></tr></tbody></table><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ol type="1"><li>å¯¼å…¥irisæ•°æ®ï¼Œå–åä¸¤ç±»</li><li>æ ‡å‡†åŒ–</li><li>PCAå¾—åˆ°x_pcaï¼Œy</li><li>åˆå§‹åŒ–é€»è¾‘å›å½’</li><li>è°ƒæ•´å‚æ•°cï¼Œåˆ†åˆ«è®­ç»ƒé€»è¾‘å›å½’å¾—åˆ°æƒé‡å‚æ•°å’Œé”™è¯¯ç‡</li><li>ç»˜åˆ¶é”™è¯¯ç‡å’Œæƒé‡å‚æ•°æ›²çº¿</li><li>ç»˜åˆ¶åˆ†ç±»é¢</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> l1_min_c</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">X = iris.data</span><br><span class="line">y = iris.target</span><br><span class="line"><span class="comment"># é€‰å‡ºå‰ä¸¤ç±»</span></span><br><span class="line">X = X[y != <span class="number">0</span>]</span><br><span class="line">y = y[y != <span class="number">0</span>]</span><br><span class="line"><span class="comment"># ç”»å‡ºå›¾åƒ</span></span><br><span class="line">plt.figure()</span><br><span class="line">plt.scatter(X[y == <span class="number">2</span>, <span class="number">0</span>], X[y == <span class="number">2</span>, <span class="number">1</span>], color=<span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">plt.scatter(X[y == <span class="number">1</span>, <span class="number">0</span>], X[y == <span class="number">1</span>, <span class="number">1</span>], color=<span class="string">&#x27;g&#x27;</span>, label=<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># è®­ç»ƒ</span></span><br><span class="line">cs = l1_min_c(X, y, loss=<span class="string">&#x27;log&#x27;</span>) * np.logspace(<span class="number">0</span>, <span class="number">7</span>, <span class="number">16</span>)</span><br><span class="line"><span class="comment"># åˆå§‹åŒ–é€»è¾‘å›å½’</span></span><br><span class="line">clf = LogisticRegression(</span><br><span class="line">    penalty=<span class="string">&#x27;l1&#x27;</span>,</span><br><span class="line">    solver=<span class="string">&#x27;liblinear&#x27;</span>,</span><br><span class="line">    tol=<span class="number">1e-6</span>,</span><br><span class="line">    max_iter=<span class="built_in">int</span>(<span class="number">1e6</span>),</span><br><span class="line">    warm_start=<span class="literal">True</span>,</span><br><span class="line">    intercept_scaling=<span class="number">1000.0</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># é”™è¯¯ç‡</span></span><br><span class="line">errors = []</span><br><span class="line"><span class="comment"># å„ä¸ªç‰¹å¾å¯¹å‚æ•°</span></span><br><span class="line">coefs_ = []</span><br><span class="line"><span class="comment"># æ‹Ÿåˆè§‚å¯Ÿå‚æ•°</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> cs:</span><br><span class="line">    clf.set_params(C=c)</span><br><span class="line">    clf.fit(X, y)</span><br><span class="line">    y_pre = clf.predict(X)</span><br><span class="line">    error = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y)):</span><br><span class="line">        <span class="keyword">if</span> y_pre[i] != y[i]:</span><br><span class="line">            error = error + <span class="number">1</span></span><br><span class="line">    errors.append(error)</span><br><span class="line">    coefs_.append(clf.coef_.ravel().copy())</span><br><span class="line">errors = np.array(errors) / <span class="built_in">len</span>(y)</span><br><span class="line">coefs_ = np.array(coefs_)</span><br><span class="line"><span class="comment"># ç»˜åˆ¶å‚æ•°å˜åŒ–</span></span><br><span class="line">plt.plot(np.log10(cs), coefs_, marker=<span class="string">&quot;o&quot;</span>)</span><br><span class="line">ymin, ymax = plt.ylim()</span><br><span class="line">plt.xlabel(<span class="string">&quot;log(C)&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Coefficients&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Logistic Regression Path&quot;</span>)</span><br><span class="line">plt.axis(<span class="string">&quot;tight&quot;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># ç»˜åˆ¶é”™è¯¯ç‡</span></span><br><span class="line">plt.figure()</span><br><span class="line">plt.plot(np.log10(cs), errors, marker=<span class="string">&#x27;^&#x27;</span>, color=<span class="string">&#x27;orange&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;error rate&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;log(C)&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># æœ€ä¼˜æ‹Ÿåˆ</span></span><br><span class="line">clf.set_params(C=<span class="number">1</span>)</span><br><span class="line">clf.fit(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># PCAå¯è§†åŒ–</span></span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">X1 = pca.fit_transform(X)</span><br><span class="line">clf.set_params(C=<span class="number">1</span>)</span><br><span class="line">clf.fit(X1, y)</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.scatter(X1[y == <span class="number">2</span>, <span class="number">0</span>], X1[y == <span class="number">2</span>, <span class="number">1</span>], color=<span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line">plt.scatter(X1[y == <span class="number">1</span>, <span class="number">0</span>], X1[y == <span class="number">1</span>, <span class="number">1</span>], color=<span class="string">&#x27;g&#x27;</span>, label=<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">plt.plot([<span class="built_in">min</span>(X1[:, <span class="number">0</span>]), <span class="built_in">max</span>(X1[:, <span class="number">0</span>])], [-(<span class="built_in">min</span>(X1[:, <span class="number">0</span>]) * clf.coef_[<span class="number">0</span>, <span class="number">0</span>] + clf.intercept_[<span class="number">0</span>]) / clf.coef_[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">                                          -(<span class="built_in">max</span>(X1[:, <span class="number">0</span>]) * clf.coef_[<span class="number">0</span>, <span class="number">0</span>] + clf.intercept_[<span class="number">0</span>]) / clf.coef_[<span class="number">0</span>, <span class="number">1</span>]],</span><br><span class="line">         label=<span class="string">&#x27;classier&#x27;</span>, linewidth=<span class="number">3.0</span>, color=<span class="string">&#x27;black&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&#x27;component 1&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;component 2&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><p>ä¸åŒæƒ©ç½šé¡¹å¯¹åº”çš„å‚æ•°å˜åŒ–ï¼Œå¯ä»¥çœ‹å‡ºå½“æƒ©ç½šé¡¹å°äº1æ—¶ï¼Œå¯¹äºæ¨¡å‹çš„ç¨€ç–åŒ–æ•ˆæœè¾ƒå¥½ã€‚</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230422214826267.png" alt="image-20230422214826267" style="zoom:50%;" /></p><p>ä¸åŒæƒ©ç½šé¡¹ç³»æ•°å¯¹åº”çš„åˆ†ç±»é”™è¯¯ç‡ï¼Œé€‰æ‹©ä¸º10æ—¶æ•ˆæœè¾ƒå¥½ï¼›</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230422214946938.png" alt="image-20230422214946938" style="zoom:50%;" /></p><p>åˆ†ç±»ç»“æœæ•ˆæœå¦‚å›¾ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230422215101050.png" alt="image-20230422215101050" style="zoom:50%;" /></p><h2 id="å¤šåˆ†ç±»é€»è¾‘å›å½’">å¤šåˆ†ç±»é€»è¾‘å›å½’</h2><p>é¦–å…ˆè¯´æ˜ä¸‹é¢ç¨‹åºçš„ç›®çš„ï¼š</p><table><thead><tr class="header"><th>1.ç»˜åˆ¶å¤šåˆ†ç±»çš„åˆ†ç±»é¢</th></tr></thead><tbody></tbody></table><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ol type="1"><li>å¯¼å…¥irisæ•°æ®</li><li>æ ‡å‡†åŒ–</li><li>PCAå¾—åˆ°x_pcaï¼Œy</li><li>åˆå§‹åŒ–é€»è¾‘å›å½’ï¼Œè®­ç»ƒé€»è¾‘å›å½’</li><li>ç»˜åˆ¶åˆ†ç±»é¢</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> l1_min_c</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">X = iris.data</span><br><span class="line">y = iris.target</span><br><span class="line"><span class="comment"># æ ‡å‡†åŒ–</span></span><br><span class="line">standard=StandardScaler()</span><br><span class="line">X=standard.fit_transform(X)</span><br><span class="line"><span class="comment"># PCA</span></span><br><span class="line">pca=PCA(n_components=<span class="number">2</span>)</span><br><span class="line">x_pca=pca.fit_transform(X)</span><br><span class="line"><span class="comment"># åˆå§‹åŒ–é€»è¾‘å›å½’</span></span><br><span class="line">clf = LogisticRegression(</span><br><span class="line">    solver=<span class="string">&#x27;liblinear&#x27;</span>,</span><br><span class="line">    max_iter=<span class="built_in">int</span>(<span class="number">1e6</span>),</span><br><span class="line">    warm_start=<span class="literal">True</span>,</span><br><span class="line">    intercept_scaling=<span class="number">1000.0</span></span><br><span class="line">)</span><br><span class="line">clf.fit(x_pca,y)</span><br><span class="line">coef,intercept=np.array(clf.coef_),np.array(clf.intercept_)</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.scatter(x_pca[y == <span class="number">2</span>, <span class="number">0</span>], x_pca[y == <span class="number">2</span>, <span class="number">1</span>], color=<span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line">plt.scatter(x_pca[y == <span class="number">1</span>, <span class="number">0</span>], x_pca[y == <span class="number">1</span>, <span class="number">1</span>], color=<span class="string">&#x27;g&#x27;</span>, label=<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">plt.scatter(x_pca[y == <span class="number">0</span>, <span class="number">0</span>], x_pca[y == <span class="number">0</span>, <span class="number">1</span>], color=<span class="string">&#x27;b&#x27;</span>, label=<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">plt.plot([<span class="built_in">min</span>(x_pca[:, <span class="number">0</span>]), <span class="built_in">max</span>(x_pca[:, <span class="number">0</span>])], [-(<span class="built_in">min</span>(x_pca[:, <span class="number">0</span>]) * coef[<span class="number">0</span>, <span class="number">0</span>] + intercept[<span class="number">0</span>]) / coef[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">                                          -(<span class="built_in">max</span>(x_pca[:, <span class="number">0</span>]) * coef[<span class="number">0</span>, <span class="number">0</span>] + intercept[<span class="number">0</span>]) / coef[<span class="number">0</span>, <span class="number">1</span>]],</span><br><span class="line">         label=<span class="string">&#x27;classier&#x27;</span>, linewidth=<span class="number">3.0</span>, color=<span class="string">&#x27;black&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.plot([<span class="built_in">min</span>(x_pca[:, <span class="number">0</span>]), <span class="built_in">max</span>(x_pca[:, <span class="number">0</span>])], [-(<span class="built_in">min</span>(x_pca[:, <span class="number">0</span>]) * coef[<span class="number">1</span>, <span class="number">0</span>] + intercept[<span class="number">1</span>]) / coef[<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                          -(<span class="built_in">max</span>(x_pca[:, <span class="number">0</span>]) * coef[<span class="number">1</span>, <span class="number">0</span>] + intercept[<span class="number">1</span>]) / coef[<span class="number">1</span>, <span class="number">1</span>]],</span><br><span class="line">         label=<span class="string">&#x27;classier&#x27;</span>, linewidth=<span class="number">3.0</span>, color=<span class="string">&#x27;black&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">plt.plot([<span class="built_in">min</span>(x_pca[:, <span class="number">0</span>]), <span class="built_in">max</span>(x_pca[:, <span class="number">0</span>])], [-(<span class="built_in">min</span>(x_pca[:, <span class="number">0</span>]) * coef[<span class="number">2</span>, <span class="number">0</span>] + intercept[<span class="number">2</span>]) / coef[<span class="number">2</span>, <span class="number">1</span>],</span><br><span class="line">                                          -(<span class="built_in">max</span>(x_pca[:, <span class="number">0</span>]) * coef[<span class="number">2</span>, <span class="number">0</span>] + intercept[<span class="number">2</span>]) / coef[<span class="number">2</span>, <span class="number">1</span>]],</span><br><span class="line">         label=<span class="string">&#x27;classier&#x27;</span>, linewidth=<span class="number">3.0</span>, color=<span class="string">&#x27;black&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">plt.ylim(-<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&#x27;component 1&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;component 2&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230422215323041.png" alt="image-20230422215323041" style="zoom:50%;" /></p><h1 id="ä½œä¸šå…­">ä½œä¸šå…­</h1><h2 id="bayesian-linear-regression">Bayesian Linear Regression</h2><p>æ‰€æœ‰ç®—æ³•éƒ½æ”¾åœ¨åŒä¸€ä¸ªPythonæ–‡ä»¶ä¸‹ï¼Œå‡½æ•°ç®—æ³•ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><table><colgroup><col style="width: 100%" /></colgroup><thead><tr class="header"><th>Algorithm1: fit</th></tr></thead><tbody><tr class="odd"><td>input: X,t,degree, <spanclass="math inline">\(\alpha,\beta,\phi\)</span></td></tr><tr class="even"><td>output: <span class="math inline">\(m_n,S_n\)</span></td></tr><tr class="odd"><td>1. <strong><span class="math inline">\(if\)</span></strong>len(X.shape) == 1: # é¢„å…ˆåˆ¤æ–­å½¢çŠ¶<br /> 2. X=X.reshape(-1,1)<br />3.<strong><span class="math inline">\(if\)</span></strong> len(t.shape)==1:<br />4. t=t.reshape(-1,1)<br />5. <spanclass="math inline">\(S_n^{-1}=\alpha I+\beta\phi(X)^T\phi(X)\)</span> #è®¡ç®—åæ–¹å·®çš„é€†<br />6. <spanclass="math inline">\(S_n=\)</span>np.linalg.inv(<spanclass="math inline">\(S_n^{-1}\)</span>)<br />7. <spanclass="math inline">\(m_n=\beta S_n \phi(X)^Tt\)</span> # è®¡ç®—å‡å€¼<br />8.<br />9. return <spanclass="math inline">\(m_n,S_n\)</span></td></tr></tbody></table><table><colgroup><col style="width: 100%" /></colgroup><thead><tr class="header"><th>Algorithm2: predict</th></tr></thead><tbody><tr class="odd"><td>input: X, <span class="math inline">\(\phi,m_n,S_n\)</span></td></tr><tr class="even"><td>output: <span class="math inline">\(mean,\sigma^2\)</span></td></tr><tr class="odd"><td>1. <span class="math inline">\(\sigma^2\)</span> = <spanclass="math inline">\(\frac{1}{\beta}+\phi(X)S_n\phi(X)^T\)</span><br />2.mean=<span class="math inline">\(\phi(x)m_n\)</span><br />3.<br/>4.return mean, <span class="math inline">\(\sigma ^2\)</span></td></tr></tbody></table><p>ä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> multivariate_normal</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Polyfeature <span class="keyword">import</span> Polyfeature</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BLR</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n_features,alpha=<span class="number">0</span>,beta=<span class="number">1</span>,phi=<span class="string">&#x27;linear&#x27;</span></span>):</span><br><span class="line">        self.n_features=n_features</span><br><span class="line">        self.alpha=alpha</span><br><span class="line">        self.beta=beta</span><br><span class="line">        self.phi=phi</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    alpha è¡¨ç¤ºwçš„å…ˆéªŒçš„ç²¾åº¦</span></span><br><span class="line"><span class="string">    beta  è¡¨ç¤ºæ•°æ®çš„ç²¾åº¦</span></span><br><span class="line"><span class="string">    phi   è¡¨ç¤ºåŸºå‡½æ•°ï¼Œå¯é€‰å‚æ•°ä¸ºï¼šlinearã€gaussainã€polynomialã€sigmoid</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">gaussian</span>(<span class="params">self,x, mu, sigma</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> / (sigma * np.sqrt(<span class="number">2</span> * np.pi)) * np.exp(-(x - mu) ** <span class="number">2</span> / (<span class="number">2</span> * sigma ** <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,X,t</span>):</span><br><span class="line">        <span class="comment"># æ£€æŸ¥å‘é‡æ˜¯å¦æ˜¯äºŒç»´æ•°ç»„å¹¶è½¬åŒ–</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(X.shape) == <span class="number">1</span>:</span><br><span class="line">            X=X.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(t.shape) == <span class="number">1</span>:</span><br><span class="line">            t=t.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># æ˜¯å¦è¦0å‡å€¼ï¼Ÿ</span></span><br><span class="line">        <span class="keyword">global</span> phi_x</span><br><span class="line">        <span class="keyword">global</span> x</span><br><span class="line">        <span class="keyword">if</span> self.phi==<span class="string">&#x27;linear&#x27;</span>:</span><br><span class="line">            phi_x=X</span><br><span class="line">            x=np.dot(phi_x,phi_x.T)</span><br><span class="line">        <span class="keyword">if</span> self.phi==<span class="string">&#x27;polynomial&#x27;</span>:</span><br><span class="line">            polyf=Polyfeature(self.n_features)</span><br><span class="line">            phi_x=polyf.fit_transform(X)</span><br><span class="line">            x=np.dot(phi_x.T,phi_x)</span><br><span class="line">        <span class="comment"># Snçš„é€†</span></span><br><span class="line">        Sn_inverse=self.alpha*np.eye(x.shape[<span class="number">0</span>])+self.beta*x</span><br><span class="line">        <span class="comment"># è®¡ç®—æœŸæœ›</span></span><br><span class="line">        mn=self.beta*np.dot(np.dot(np.linalg.inv(Sn_inverse),phi_x.T),t)</span><br><span class="line"></span><br><span class="line">        self.phi_x=phi_x</span><br><span class="line">        self.Sn_inverse=Sn_inverse</span><br><span class="line">        self.mn=mn</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self,X</span>):</span><br><span class="line">        <span class="keyword">if</span> self.phi==<span class="string">&#x27;linear&#x27;</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(X.shape)==<span class="number">1</span>:</span><br><span class="line">                X = X.reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">                sigma2=<span class="number">1</span>/self.beta+np.dot(np.dot(self.phi_x.T,np.linalg.inv(self.Sn_inverse)),self.phi_x)</span><br><span class="line">                t_pre=self.gaussian(X,self.mn,np.sqrt(sigma2))</span><br><span class="line">                <span class="keyword">return</span> t_pre</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.phi==<span class="string">&#x27;polynomial&#x27;</span>:</span><br><span class="line">            polyf=Polyfeature(self.n_features)</span><br><span class="line">            X=polyf.fit_transform(X)</span><br><span class="line"></span><br><span class="line">        sigma2 = np.diag(<span class="number">1</span> / self.beta + X @ np.linalg.inv(self.Sn_inverse) @ X.T).reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">        mean=np.dot(X,self.mn)</span><br><span class="line"></span><br><span class="line">        upper = mean + np.sqrt(sigma2)</span><br><span class="line">        lower = mean - np.sqrt(sigma2)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> mean,sigma2,upper,lower</span><br></pre></td></tr></table></figure><p>å›å½’æ•ˆæœï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/90e39f72c8da404c0738ddf8072aae4.png" alt="90e39f72c8da404c0738ddf8072aae4" style="zoom: 67%;" /></p><h2 id="ä¸åŒæ ·æœ¬æ•°é‡å½±å“æ‹Ÿåˆæ•ˆæœ">ä¸åŒæ ·æœ¬æ•°é‡å½±å“æ‹Ÿåˆæ•ˆæœ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">   x_1=np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">    X_data=[np.array([<span class="number">0.5</span>]),</span><br><span class="line">                     np.array([<span class="number">0.3</span>,<span class="number">0.6</span>]),</span><br><span class="line">                     np.array([<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.75</span>,<span class="number">0.8</span>]),</span><br><span class="line">                     np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">60</span>)]</span><br><span class="line">j=<span class="number">1</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> X_data:</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">2</span>,j)</span><br><span class="line">    t=np.sin(<span class="number">2</span>*np.pi*i)+np.random.normal(loc=<span class="number">0</span>,scale=<span class="number">0.2</span>,size=i.shape)</span><br><span class="line">    <span class="keyword">if</span> j&lt;<span class="number">2</span>:</span><br><span class="line">        blr = BLR(<span class="number">5</span>, phi=<span class="string">&#x27;polynomial&#x27;</span>,alpha=<span class="number">0.2</span>)</span><br><span class="line">        plt.title(<span class="string">&#x27;alpha=0.2&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        blr = BLR(<span class="number">4</span>, phi=<span class="string">&#x27;polynomial&#x27;</span>)</span><br><span class="line">        plt.title(<span class="string">&#x27;without alpha&#x27;</span>)</span><br><span class="line">    j=j+<span class="number">1</span></span><br><span class="line">    <span class="comment"># ç»˜åˆ¶sinåŸå›¾åƒ</span></span><br><span class="line">    plt.plot(x_1,np.sin(<span class="number">2</span>*np.pi*x_1),label=<span class="string">&#x27;sin(x)&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶æ•°æ®æ•£ç‚¹</span></span><br><span class="line">    plt.scatter(i, t, color=<span class="string">&#x27;g&#x27;</span>,label=<span class="string">&#x27;samples&#x27;</span>)</span><br><span class="line">    blr.fit(i, t)</span><br><span class="line">    plt.plot(x_1, blr.predict(x_1)[<span class="number">0</span>], color=<span class="string">&#x27;black&#x27;</span>,label=<span class="string">&#x27;prediction&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶é˜´å½±éƒ¨åˆ†</span></span><br><span class="line">    plt.fill_between(x_1.squeeze(), blr.predict(x_1)[<span class="number">3</span>].squeeze(), blr.predict(x_1)[<span class="number">2</span>].squeeze(), alpha=<span class="number">0.4</span>,label=<span class="string">&#x27;varience&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    plt.xlabel(<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;t&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408203151173.png"alt="image-20230408203151173" /><figcaption aria-hidden="true">image-20230408203151173</figcaption></figure><p>åŒæ—¶ï¼Œæˆ‘è°ƒæ•´äº†æ ·æœ¬æ•°é‡è¾ƒå°æ—¶çš„<spanclass="math inline">\(\alpha\)</span>å€¼ï¼Œä¸‹å›¾æ˜¯æ— æ­£åˆ™åŒ–çš„æƒ…å†µï¼ˆæ ·æœ¬æ•°é‡ä¸º1æ—¶ï¼Œå¿…é¡»æœ‰æ­£åˆ™åŒ–å¦åˆ™å‡ºç°å¥‡å¼‚çŸ©é˜µï¼‰ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408203316307.png"alt="image-20230408203316307" /><figcaption aria-hidden="true">image-20230408203316307</figcaption></figure><h2 id="äº¤å‰éªŒè¯è°ƒä¼˜">äº¤å‰éªŒè¯è°ƒä¼˜</h2><p>å› ä¸ºè¦åšè°ƒä¼˜ï¼Œæ‰€ä»¥å›ºå®šç”Ÿæˆæ•°æ®ï¼Œè®¾å®šç§å­ä¸º0ã€‚</p><p>åœ¨å›ºå®š<spanclass="math inline">\(\alpha=0,beta=10\)</span>æ—¶ï¼Œé¦–å…ˆç¡®å®šdegreeï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408213637573.png" alt="image-20230408213637573" style="zoom:50%;" /></p><p>best degree is 9 min RMSE in test sets: 0.2014522467351943</p><p>æ¥ä¸‹æ¥åœ¨<spanclass="math inline">\(degrer=9\)</span>çš„æƒ…å†µä¸‹ï¼Œå¯»æ‰¾<spanclass="math inline">\(\alpha\)</span>çš„å‚æ•°æœ€ä¼˜æƒ…å†µï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408221238294.png" alt="image-20230408221238294" style="zoom:50%;" /></p><p>parameter_best is 2.848035868435799e-05</p><p>æœ€åï¼ŒæŒ‰ä»¥ä¸Šä¸¤ç§æƒ…å†µæœå¯»å‚æ•°<spanclass="math inline">\(\beta\)</span>ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408221701245.png" alt="image-20230408221701245" style="zoom: 50%;" /></p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408221719701.png" alt="image-20230408221719701" style="zoom:50%;" /></p><p>beta_best is 14.84968262254465</p><p>æœ€ç»ˆå‚æ•°é€‰æ‹©ç»“æœä¸ºï¼š</p><table><thead><tr class="header"><th><span class="math inline">\(\alpha\)</span></th><th>2.848035868435799e-05</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(degree\)</span></td><td><strong>9</strong></td></tr><tr class="even"><td><span class="math inline">\(\beta\)</span></td><td><strong>14.84968262254465</strong></td></tr></tbody></table><p>æœ€ç»ˆæ‹Ÿåˆç»“æœï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408222416810.png" alt="image-20230408222416810" style="zoom: 50%;" /></p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408222947483.png" alt="image-20230408222947483" style="zoom: 50%;" /></p><h2 id="æ¨¡æ‹Ÿæ‹Ÿåˆè¿‡ç¨‹ä¼¼ç„¶å…ˆéªŒ">æ¨¡æ‹Ÿæ‹Ÿåˆè¿‡ç¨‹ï¼ˆä¼¼ç„¶ã€å…ˆéªŒï¼‰</h2><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230408233948782.png" alt="image-20230408233948782" style="zoom:67%;" /></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> multivariate_normal, norm</span><br><span class="line"><span class="keyword">from</span> numpy.random <span class="keyword">import</span> seed, uniform, randn</span><br><span class="line"><span class="keyword">from</span> numpy.linalg <span class="keyword">import</span> inv</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x, a</span>):</span><br><span class="line">    <span class="keyword">return</span> a[<span class="number">0</span>] + a[<span class="number">1</span>] * x</span><br><span class="line"></span><br><span class="line">a = np.array([-<span class="number">0.3</span>, <span class="number">0.5</span>])</span><br><span class="line">N = <span class="number">30</span></span><br><span class="line">sigma = <span class="number">0.2</span></span><br><span class="line">X = uniform(-<span class="number">1</span>, <span class="number">1</span>, (N, <span class="number">1</span>))</span><br><span class="line">T = f(X, a) + randn(N, <span class="number">1</span>) * sigma</span><br><span class="line"></span><br><span class="line">beta = (<span class="number">1</span> / sigma) ** <span class="number">2</span> <span class="comment"># precision</span></span><br><span class="line">alpha = <span class="number">2.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">posterior_w</span>(<span class="params">phi, t, S0, m0</span>):</span><br><span class="line">    SN = inv(inv(S0) + beta * Phi.T @ Phi)</span><br><span class="line">    mN = SN @ (inv(S0) @ m0 + beta * Phi.T @ t)</span><br><span class="line">    <span class="keyword">return</span> SN, mN</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sample_vals</span>(<span class="params">X, T, ix</span>):</span><br><span class="line">    x_in = X[ix]</span><br><span class="line">    Phi = np.c_[np.ones_like(x_in), x_in]</span><br><span class="line">    t = T[[ix]]</span><br><span class="line">    <span class="keyword">return</span> Phi, t</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_prior</span>(<span class="params">m, S, liminf=-<span class="number">1</span>, limsup=<span class="number">1</span>, step=<span class="number">0.05</span>, ax=plt, **kwargs</span>):</span><br><span class="line">    grid = np.mgrid[liminf:limsup + step:step, liminf:limsup + step:step]</span><br><span class="line">    nx = grid.shape[-<span class="number">1</span>]</span><br><span class="line">    z = multivariate_normal.pdf(grid.T.reshape(-<span class="number">1</span>, <span class="number">2</span>), mean=m.ravel(), cov=S).reshape(nx, nx).T</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ax.contourf(*grid, z, cmap=<span class="string">&#x27;jet&#x27;</span>,interpolation=<span class="string">&#x27;nearest&#x27;</span>,**kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_sample_w</span>(<span class="params">mean, cov, size=<span class="number">10</span>, ax=plt</span>):</span><br><span class="line">    w = np.random.multivariate_normal(mean=mean.ravel(), cov=cov, size=size)</span><br><span class="line">    x = np.linspace(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> wi <span class="keyword">in</span> w:</span><br><span class="line">        ax.plot(x, f(x, wi), c=<span class="string">&quot;tab:blue&quot;</span>, alpha=<span class="number">0.4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_likelihood_obs</span>(<span class="params">X, T, ix, ax=plt</span>):</span><br><span class="line">    W = np.mgrid[-<span class="number">1</span>:<span class="number">1</span>:<span class="number">0.1</span>, -<span class="number">1</span>:<span class="number">1</span>:<span class="number">0.1</span>]</span><br><span class="line">    x, t = sample_vals(X, T, ix)</span><br><span class="line">    mean = W.T.reshape(-<span class="number">1</span>, <span class="number">2</span>) @ x.T</span><br><span class="line"></span><br><span class="line">    likelihood = norm.pdf(t, loc=mean, scale=np.sqrt(<span class="number">1</span> / beta)).reshape(<span class="number">20</span>, <span class="number">20</span>).T</span><br><span class="line">    ax.contourf(*W, likelihood,cmap=<span class="string">&#x27;jet&#x27;</span>,interpolation=<span class="string">&#x27;nearest&#x27;</span>)</span><br><span class="line">    ax.scatter(-<span class="number">0.3</span>, <span class="number">0.5</span>, c=<span class="string">&quot;white&quot;</span>, marker=<span class="string">&quot;+&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SN = np.eye(<span class="number">2</span>) / alpha</span><br><span class="line">mN = np.zeros((<span class="number">2</span>, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">seed(<span class="number">1643</span>)</span><br><span class="line">N = <span class="number">20</span></span><br><span class="line">nobs = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">20</span>]</span><br><span class="line">ix_fig = <span class="number">1</span></span><br><span class="line">fig, ax = plt.subplots(<span class="built_in">len</span>(nobs) + <span class="number">1</span>, <span class="number">3</span>, figsize=(<span class="number">10</span>, <span class="number">12</span>))</span><br><span class="line">plot_prior(mN, SN, ax=ax[<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">ax[<span class="number">0</span>, <span class="number">1</span>].scatter(-<span class="number">0.3</span>, <span class="number">0.5</span>, c=<span class="string">&quot;white&quot;</span>, marker=<span class="string">&quot;+&quot;</span>)</span><br><span class="line">ax[<span class="number">0</span>, <span class="number">0</span>].axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">plot_sample_w(mN, SN, ax=ax[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, N + <span class="number">1</span>):</span><br><span class="line">    Phi, t = sample_vals(X, T, i)</span><br><span class="line">    SN, mN = posterior_w(Phi, t, SN, mN)</span><br><span class="line">    <span class="keyword">if</span> i + <span class="number">1</span> <span class="keyword">in</span> nobs:</span><br><span class="line">        plot_likelihood_obs(X, T, i, ax=ax[ix_fig, <span class="number">0</span>])</span><br><span class="line">        plot_prior(mN, SN, ax=ax[ix_fig, <span class="number">1</span>])</span><br><span class="line">        ax[ix_fig, <span class="number">1</span>].scatter(-<span class="number">0.3</span>, <span class="number">0.5</span>, c=<span class="string">&quot;white&quot;</span>, marker=<span class="string">&quot;+&quot;</span>)</span><br><span class="line">        ax[ix_fig, <span class="number">2</span>].scatter(X[:i + <span class="number">1</span>], T[:i + <span class="number">1</span>], c=<span class="string">&quot;crimson&quot;</span>)</span><br><span class="line">        ax[ix_fig, <span class="number">2</span>].set_xlim(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        ax[ix_fig, <span class="number">2</span>].set_ylim(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">            ax[ix_fig, l].set_xlabel(<span class="string">&quot;$w_0$&quot;</span>)</span><br><span class="line">            ax[ix_fig, l].set_ylabel(<span class="string">&quot;$w_1$&quot;</span>)</span><br><span class="line">        plot_sample_w(mN, SN, ax=ax[ix_fig, <span class="number">2</span>])</span><br><span class="line">        ix_fig += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">titles = [<span class="string">&quot;likelihood&quot;</span>, <span class="string">&quot;prior/posterior&quot;</span>, <span class="string">&quot;data space&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> axi, title <span class="keyword">in</span> <span class="built_in">zip</span>(ax[<span class="number">0</span>], titles):</span><br><span class="line">    axi.set_title(title, size=<span class="number">15</span>)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h1 id="ä½œä¸šäº”">ä½œä¸šäº”</h1><h2 id="ç­‰ä»·æ ¸ç»˜åˆ¶">ç­‰ä»·æ ¸ç»˜åˆ¶</h2><p>é¦–å…ˆæ˜¯é«˜æ–¯æ ¸çš„ç»˜åˆ¶ï¼Œä¸‹å›¾æ˜¯ä¸€ä¸ªå–å€¼ä¸ºçº¿æ€§çš„é«˜æ–¯æ ¸å‡½æ•°çš„å›¾åƒ<img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402182640901.png" alt="image-20230402182640901" style="zoom: 80%;" /></p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402182755965.png" alt="image-20230402182755965" style="zoom:67%;" /></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gaussianLike</span>(<span class="params">mu,sigma,x</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp((-<span class="number">1</span>/<span class="number">2</span>)*np.matmul(np.matmul((x-mu),np.linalg.inv(sigma)),(x-mu).reshape(<span class="built_in">len</span>(x),<span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gaussianKernel</span>(<span class="params">gaussianLike,x</span>):</span><br><span class="line">    <span class="keyword">return</span> np.dot(gaussianLike(np.zeros(<span class="number">2</span>,),np.eye(<span class="number">2</span>,<span class="number">2</span>),x),gaussianLike(np.zeros(<span class="number">2</span>,),np.eye(<span class="number">2</span>,<span class="number">2</span>),x))</span><br><span class="line"></span><br><span class="line">x=np.linspace(-<span class="number">2</span>,<span class="number">2</span>,<span class="number">100</span>)</span><br><span class="line">y=np.linspace(-<span class="number">2</span>,<span class="number">2</span>,<span class="number">100</span>)</span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line">Z=[]</span><br><span class="line">z1=np.ones((<span class="number">100</span>,<span class="number">100</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> x:</span><br><span class="line">    n=<span class="number">0</span></span><br><span class="line">    z=[]</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> y:</span><br><span class="line">        m=<span class="number">0</span></span><br><span class="line">        z.append(gaussianKernel(gaussianLike,[i,j]))</span><br><span class="line">        z1[n,m]=gaussianKernel(gaussianLike,[i,j])</span><br><span class="line">        m+=<span class="number">1</span></span><br><span class="line">    n+=<span class="number">1</span></span><br><span class="line">    Z.append(z)</span><br><span class="line">Z=np.array(Z)</span><br><span class="line"></span><br><span class="line">plt.imshow(Z,cmap=<span class="string">&#x27;hot&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">ax = plt.axes(projection=<span class="string">&#x27;3d&#x27;</span>)</span><br><span class="line">ax.plot_surface(X,Y,Z,cmap=<span class="string">&#x27;rainbow&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>ä¸‹é¢å¤ç°è¯¾æœ¬çš„ç­‰ä»·æ ¸ï¼š</p><p><strong>é«˜æ–¯æ ¸</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gaussian_kernel</span>(<span class="params">x, y, sigma</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp(-np.linalg.norm(x - y)**<span class="number">2</span> / (<span class="number">2</span> * (sigma ** <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compute_kernel_matrix</span>(<span class="params">X, sigma</span>):</span><br><span class="line">    n = X.shape[<span class="number">0</span>]</span><br><span class="line">    K = np.zeros((n, n))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, n):</span><br><span class="line">            K[i, j] = gaussian_kernel(X[i], X[j], sigma)</span><br><span class="line">            K[j, i] = K[i, j]</span><br><span class="line">    <span class="keyword">return</span> K</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆç¤ºä¾‹æ•°æ®é›†</span></span><br><span class="line">X = np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">100</span>).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">y = np.sin(X)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—ä¸åŒå¸¦å®½å‚æ•°ä¸‹çš„é«˜æ–¯ç­‰ä»·æ ¸çŸ©é˜µ</span></span><br><span class="line">sigmas = [<span class="number">0.1</span>, <span class="number">1</span>, <span class="number">10</span>]</span><br><span class="line"><span class="keyword">for</span> sigma <span class="keyword">in</span> sigmas:</span><br><span class="line">    K = compute_kernel_matrix(X, sigma)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç»˜åˆ¶é«˜æ–¯æ ¸å½¢çŠ¶å›¾åƒ</span></span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.imshow(K, cmap=<span class="string">&#x27;jet&#x27;</span>, interpolation=<span class="string">&#x27;nearest&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">r&#x27;Gaussian Kernel with $\sigma=$&#x27;</span> + <span class="built_in">str</span>(sigma))</span><br><span class="line">    plt.colorbar()</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183003203.png"alt="image-20230402183003203" /><figcaption aria-hidden="true">image-20230402183003203</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183010833.png"alt="image-20230402183010833" /><figcaption aria-hidden="true">image-20230402183010833</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183017836.png"alt="image-20230402183017836" /><figcaption aria-hidden="true">image-20230402183017836</figcaption></figure><p><strong>å¤šé¡¹å¼æ ¸</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">polynomial_kernel</span>(<span class="params">x, y, degree, coef0=<span class="number">0</span></span>):</span><br><span class="line">    <span class="keyword">return</span> (np.dot(x, y) + coef0) ** degree</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compute_kernel_matrix</span>(<span class="params">X, degree, coef0=<span class="number">0</span></span>):</span><br><span class="line">    n = X.shape[<span class="number">0</span>]</span><br><span class="line">    K = np.zeros((n, n))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, n):</span><br><span class="line">            K[i, j] = polynomial_kernel(X[i], X[j], degree, coef0)</span><br><span class="line">            K[j, i] = K[i, j]</span><br><span class="line">    <span class="keyword">return</span> K</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆç¤ºä¾‹æ•°æ®é›†</span></span><br><span class="line">X = np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">100</span>).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">y = np.sin(X)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—ä¸åŒé˜¶æ•°å’Œå¸¸æ•°é¡¹å‚æ•°ä¸‹çš„å¤šé¡¹å¼æ ¸çŸ©é˜µ</span></span><br><span class="line">degrees = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">coef0s = [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">for</span> degree <span class="keyword">in</span> degrees:</span><br><span class="line">    <span class="keyword">for</span> coef0 <span class="keyword">in</span> coef0s:</span><br><span class="line">        K = compute_kernel_matrix(X, degree, coef0)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç»˜åˆ¶å¤šé¡¹å¼æ ¸å½¢çŠ¶å›¾åƒ</span></span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.imshow(K, cmap=<span class="string">&#x27;jet&#x27;</span>, interpolation=<span class="string">&#x27;nearest&#x27;</span>)</span><br><span class="line">        plt.title(<span class="string">&#x27;Polynomial Kernel with degree=&#x27;</span> + <span class="built_in">str</span>(degree) + <span class="string">&#x27; and coef0=&#x27;</span> + <span class="built_in">str</span>(coef0))</span><br><span class="line">        plt.colorbar()</span><br><span class="line">        plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183116818.png"alt="image-20230402183116818" /><figcaption aria-hidden="true">image-20230402183116818</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183128404.png"alt="image-20230402183128404" /><figcaption aria-hidden="true">image-20230402183128404</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183137656.png"alt="image-20230402183137656" /><figcaption aria-hidden="true">image-20230402183137656</figcaption></figure><p><strong>Sigmoidæ ¸</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sigmoid_kernel</span>(<span class="params">x, y, alpha, c</span>):</span><br><span class="line">    <span class="keyword">return</span> np.tanh(alpha * np.dot(x, y) + c)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compute_kernel_matrix</span>(<span class="params">X, alpha, c</span>):</span><br><span class="line">    n = X.shape[<span class="number">0</span>]</span><br><span class="line">    K = np.zeros((n, n))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, n):</span><br><span class="line">            K[i, j] = sigmoid_kernel(X[i], X[j], alpha, c)</span><br><span class="line">            K[j, i] = K[i, j]</span><br><span class="line">    <span class="keyword">return</span> K</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆç¤ºä¾‹æ•°æ®é›†</span></span><br><span class="line">X = np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">100</span>).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">y = np.sin(X)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—ä¸åŒè¶…å‚æ•°ä¸‹çš„ Sigmoid æ ¸çŸ©é˜µ</span></span><br><span class="line">alphas = [<span class="number">0.1</span>, <span class="number">0.5</span>, <span class="number">1</span>]</span><br><span class="line">cs = [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">for</span> alpha <span class="keyword">in</span> alphas:</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> cs:</span><br><span class="line">        K = compute_kernel_matrix(X, alpha, c)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç»˜åˆ¶ Sigmoid æ ¸å½¢çŠ¶å›¾åƒ</span></span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.imshow(K, cmap=<span class="string">&#x27;jet&#x27;</span>, interpolation=<span class="string">&#x27;nearest&#x27;</span>)</span><br><span class="line">        plt.title(<span class="string">&#x27;Sigmoid Kernel with alpha=&#x27;</span> + <span class="built_in">str</span>(alpha) + <span class="string">&#x27; and c=&#x27;</span> + <span class="built_in">str</span>(c))</span><br><span class="line">        plt.colorbar()</span><br><span class="line">        plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183249517.png"alt="image-20230402183249517" /><figcaption aria-hidden="true">image-20230402183249517</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183257364.png"alt="image-20230402183257364" /><figcaption aria-hidden="true">image-20230402183257364</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402183304889.png"alt="image-20230402183304889" /><figcaption aria-hidden="true">image-20230402183304889</figcaption></figure><h2 id="ä¼¼ç„¶">ä¼¼ç„¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> stats</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">615</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_synth_data</span>(<span class="params">N, beta</span>):</span><br><span class="line">    X_N =np.random.uniform(-<span class="number">1</span>,<span class="number">1</span>, N)</span><br><span class="line">    X_N = np.column_stack((np.ones(N), X_N))</span><br><span class="line">    <span class="comment"># for this example the true function is f(x,a) = a_0 + a_1*x</span></span><br><span class="line">    <span class="comment"># where a_0 = -.3 and a_1 = .5 are the parameters that we</span></span><br><span class="line">    <span class="comment"># are going to estimate</span></span><br><span class="line">    a = np.array([-<span class="number">.3</span>, <span class="number">.5</span>])</span><br><span class="line">    t = np.dot(X_N, a)</span><br><span class="line">    <span class="keyword">return</span> X_N, t + np.random.normal(loc=<span class="number">0.0</span>, scale=np.sqrt(<span class="number">1.</span>/beta), size=N)</span><br><span class="line"></span><br><span class="line">beta_ = <span class="number">25.0</span></span><br><span class="line">alpha = <span class="number">2.0</span></span><br><span class="line">N = <span class="number">20</span></span><br><span class="line">X_N, t_N = get_synth_data(N, beta_)</span><br><span class="line">x = np.linspace(-<span class="number">1</span>, <span class="number">1</span>, <span class="number">70</span>)</span><br><span class="line">y = np.linspace(-<span class="number">1</span>, <span class="number">1</span>, <span class="number">70</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">w0, w1 = np.meshgrid(x, y)</span><br><span class="line">m_0 = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">S_0 = <span class="number">1</span>/alpha * np.eye(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">n = <span class="number">1</span></span><br><span class="line">X_n = X_N[<span class="built_in">range</span>(n), :]</span><br><span class="line">t_n = t_N[<span class="built_in">range</span>(n)]</span><br><span class="line">plt.xlim(-<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">plt.ylim(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">plt.scatter(X_n[:, <span class="number">1</span>], t_n)</span><br><span class="line">plt.title(<span class="string">&quot;First point in the data set&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">likelihood</span>(<span class="params">t_, x, w, beta</span>):</span><br><span class="line">    <span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line">    <span class="keyword">return</span> stats.norm.pdf(t_,loc=np.dot(w,x), scale=sqrt(<span class="number">1.</span>/beta))</span><br><span class="line"></span><br><span class="line">Z = np.zeros((<span class="built_in">len</span>(y), <span class="built_in">len</span>(x)))</span><br><span class="line"><span class="keyword">for</span> i, w1 <span class="keyword">in</span> <span class="built_in">enumerate</span>(y):</span><br><span class="line">    <span class="keyword">for</span> j, w0 <span class="keyword">in</span> <span class="built_in">enumerate</span>(x):</span><br><span class="line">        Z[i, j] = likelihood(t_n[-<span class="number">1</span>], X_n[-<span class="number">1</span>,:], np.array([w0, w1]), beta_)</span><br><span class="line">extent = (-<span class="number">1</span>,<span class="number">1</span>,-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">plt.imshow(Z, extent=extent, origin=<span class="string">&#x27;lower&#x27;</span>)</span><br><span class="line">plt.plot(-<span class="number">0.3</span>, <span class="number">0.5</span>, <span class="string">&#x27;w+&#x27;</span>, markeredgewidth=<span class="number">2</span>, markersize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Likelihood of the first point in the data set, white cross = true value&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;w0&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;w1&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402184647229.png"alt="image-20230402184647229" /><figcaption aria-hidden="true">image-20230402184647229</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402184827621.png"alt="image-20230402184827621" /><figcaption aria-hidden="true">image-20230402184827621</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230402184922104.png"alt="image-20230402184922104" /><figcaption aria-hidden="true">image-20230402184922104</figcaption></figure><h1 id="ä½œä¸šä¸€-å¤šé¡¹å¼æ‹Ÿåˆ">ä½œä¸šä¸€ å¤šé¡¹å¼æ‹Ÿåˆ</h1><h2 id="ç†è®ºæ¨å¯¼">ç†è®ºæ¨å¯¼</h2><p><span class="math display">\[\min ||f(\omega;x)-t||^2\\\sum_{i=0}^{n}{\omega_i*x_i^j}=t\]</span></p><p>å†™æˆçŸ©é˜µå½¢å¼ï¼š <span class="math display">\[XW=T\]</span> ä½¿ç”¨å¹³æ–¹å’Œæœ€å°æ¥è¡¡é‡ï¼Œè®¾æŸå¤±å‡½æ•°ï¼š <spanclass="math display">\[L(x)=\frac{1}{2}\sum^{N}_{i=1}{(\sum_{j=0}^{M}{\omega_jx_i^j-y_i)^2}}\]</span> å¯¹æŸå¤±å‡½æ•°æ±‚å¯¼ï¼Œä»¤å¯¼æ•°ç­‰äº0ï¼š <span class="math display">\[\begin{array}{l}\frac{\partial L(x;\omega)}{\partial \omega_i}=0 \\\\\frac{1}{2}\sum_{i=1}^{N}{2(\sum^{j=0}_{M}{\omega_jx_i^j-y_i)}\timesx_i^k}=0 \\\\\sum_{i=1}^{N}{\sum^{M}_{j=1}{\omega_ix_i^{j+k}}}=\sum_{j=1}^{M}{x_i^ky_i}(k=0,1,2,3,\cdots,M)\end{array}\]</span> é‚£ä¹ˆå°±æœ‰ï¼š <span class="math display">\[\begin{array}{l}X=\sum^M_{j=1}{x_i^{j+k}} \\W=\omega_i \\Y=\sum_{i=1}^{M}{x_i^ky_i}\\XW=Y\end{array}\]</span> å°†ä»¥<spanclass="math inline">\(x\)</span>ä¸ºå‚æ•°çš„éçº¿æ€§æ¨¡å‹è½¬åŒ–ä¸ºä»¥<spanclass="math inline">\(w\)</span>çš„çº¿æ€§æ¨¡å‹ï¼Œä»è€Œè½¬åŒ–ä¸ºçŸ©é˜µæ–¹ç¨‹æ±‚è§£é—®é¢˜,éœ€è¦å°†æ–¹ç¨‹ç‰¹å¾è¿›è¡Œç»„åˆï¼Œå®ç°ä¸Šä½¿ç”¨sklearnï¼Œè¿›è¡Œå¤šé¡¹å¼ç‰¹å¾ç»„åˆï¼Œç„¶åä½¿ç”¨çº¿æ€§å›å½’è¿›è¡Œé¢„æµ‹ï¼š</p><p>ç®—æ³•è¯­è¨€æè¿°ï¼š</p><ol type="1"><li><p>ç”Ÿæˆä¸€ä¸ªï¼ˆç‰¹å¾æ•°ç›®+1ï¼Œç‰¹å¾æ•°ç›®+1ï¼‰çš„çŸ©é˜µ</p></li><li><p>åˆ†åˆ«è®¡ç®—0-ç‰¹å¾é˜¶æ•°çš„å¹‚</p></li><li><p>è¿”å›ç‰¹å¾æ··åˆçŸ©é˜µ</p></li><li><p>çº¿æ€§å›å½’</p></li></ol><h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Polyfeature</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n_features</span>):</span><br><span class="line">        self.n_features=n_features</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¸€å…ƒç‰¹å¾æ··åˆ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self, x</span>):</span><br><span class="line">        xf = np.zeros((<span class="built_in">len</span>(x), self.n_features + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.n_features + <span class="number">1</span>):</span><br><span class="line">            xf[:,i] = np.power(x, i).reshape(np.shape(xf[:,i]))</span><br><span class="line">        self.xf=xf</span><br><span class="line">        <span class="keyword">return</span> xf</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">transform</span>(<span class="params">self,x</span>):</span><br><span class="line">        xf = np.zeros((<span class="built_in">len</span>(x), self.n_features + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.n_features + <span class="number">1</span>):</span><br><span class="line">            xf[:, i] = np.power(x, i).reshape(np.shape(xf[:, i]))</span><br><span class="line">        self.xf = xf</span><br><span class="line">        <span class="keyword">return</span> xf</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit_transform</span>(<span class="params">self, x</span>):</span><br><span class="line">        xf = np.zeros((<span class="built_in">len</span>(x), self.n_features + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.n_features + <span class="number">1</span>):</span><br><span class="line">            xf[:, i] = np.power(x, i).reshape(np.shape(xf[:, i]))</span><br><span class="line">            self.xf = xf</span><br><span class="line">        <span class="keyword">return</span> xf</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">linearregression</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,x,y,Lambda=<span class="number">0</span></span>):</span><br><span class="line">        c = np.dot(x.T, x)</span><br><span class="line">        I = np.eye(np.shape(c)[<span class="number">0</span>])</span><br><span class="line">        d = np.dot(Lambda, I)</span><br><span class="line">        e = (c + d)</span><br><span class="line">        e = np.linalg.inv(e)</span><br><span class="line">        w = np.dot(x.T, y)</span><br><span class="line">        w = np.dot(e, w)</span><br><span class="line">        self.w = w</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self,x</span>):</span><br><span class="line">        y=np.dot(x,self.w)</span><br><span class="line">        <span class="keyword">return</span> y</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">polyregression</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,features</span>):</span><br><span class="line">        self.n_features=features</span><br><span class="line">    <span class="comment"># ç”Ÿæˆæ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_data</span>(<span class="params">self,n</span>):</span><br><span class="line">        self.n=n</span><br><span class="line">        X=np.random.rand(n,<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># è€ƒè™‘åˆ°éœ€è¦ä¿è¯é«˜æ–¯ç™½å™ªå£°çš„0å‡å€¼</span></span><br><span class="line">        noise=<span class="number">0.3</span>*np.random.uniform(low=-<span class="number">1</span>, high=<span class="number">1</span>, size=(n,<span class="number">1</span>))</span><br><span class="line">        t=np.sin(X*<span class="number">2</span>*math.pi)+noise</span><br><span class="line">        self.X=X</span><br><span class="line">        self.t=t</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ’åˆ†æ•°æ®é›†</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">splitData</span>(<span class="params">self</span>):</span><br><span class="line">        X_train, X_test, T_train, T_test = train_test_split(self.X, self.t, test_size=<span class="number">0.3</span>, random_state=<span class="number">0</span>)</span><br><span class="line">        self.X_train=X_train</span><br><span class="line">        self.X_test=X_test</span><br><span class="line">        self.T_train=T_train</span><br><span class="line">        self.T_test=T_test</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤šé¡¹å¼æ‹Ÿåˆ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self</span>):</span><br><span class="line">        poly = PolynomialFeatures(self.n_features)</span><br><span class="line">        x_train_poly = poly.fit_transform(self.X_train)</span><br><span class="line"></span><br><span class="line">        lin=LinearRegression()</span><br><span class="line">        lin.fit(x_train_poly,self.T_train)</span><br><span class="line"></span><br><span class="line">        self.lin=lin</span><br><span class="line">        self.poly=poly</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw</span>(<span class="params">self</span>):</span><br><span class="line">        plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>),np.sin(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>)*<span class="number">2</span>*math.pi),color=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">        plt.scatter(self.X,self.t,marker=<span class="string">&#x27;o&#x27;</span>,edgecolor=<span class="string">&#x27;blue&#x27;</span>,color=<span class="string">&#x27;white&#x27;</span>,linewidths=<span class="string">&#x27;1.1&#x27;</span>)</span><br><span class="line">        plt.plot(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>),self.lin.predict(self.poly.transform(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>).reshape(-<span class="number">1</span>,<span class="number">1</span>))),color=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">        s=<span class="string">&#x27;n_features=&#x27;</span>+<span class="built_in">str</span>(self.n_features)</span><br><span class="line">        plt.text(<span class="number">0.7</span>,<span class="number">1</span>,s)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line">        plt.savefig(<span class="string">&#x27;features=&#x27;</span>+<span class="built_in">str</span>(self.n_features)+<span class="string">&#x27; samples=&#x27;</span>+<span class="built_in">str</span>(self.n)+<span class="string">&#x27;.png&#x27;</span>)</span><br><span class="line">        plt.show()</span><br><span class="line">    <span class="comment"># è¡¡é‡æ‹Ÿåˆçš„æ ‡å‡†</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">RSME</span>(<span class="params">self</span>):</span><br><span class="line">        T_test_predict=self.lin.predict(self.poly.transform(self.X_test))</span><br><span class="line">        SSE=np.<span class="built_in">sum</span>(np.square(self.T_test-T_test_predict))</span><br><span class="line">        MSE=SSE/<span class="built_in">len</span>(T_test_predict)</span><br><span class="line">        rsme=np.sqrt(MSE)</span><br><span class="line">        <span class="keyword">return</span> rsme</span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># å¯¹ä¸åŒç‰¹å¾é€‰æ‹©çš„æ¯”è¾ƒ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">features_test</span>():</span><br><span class="line">        RSME=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">            poly=polyregression(i)</span><br><span class="line">            poly.create_data(<span class="number">20</span>)</span><br><span class="line">            poly.splitData()</span><br><span class="line">            poly.fit()</span><br><span class="line">            poly.draw()</span><br><span class="line">            RSME.append(poly.RSME())</span><br><span class="line"></span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot(np.linspace(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>),RSME,marker=<span class="string">&#x27;^&#x27;</span>,label=<span class="string">&quot;points&quot;</span>)</span><br><span class="line">        plt.show()</span><br><span class="line">    <span class="comment"># å¯¹ä¸åŒæ ·æœ¬æ•°é‡çš„æ¯”è¾ƒ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">samples_test</span>():</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> [<span class="number">20</span>,<span class="number">200</span>,<span class="number">500</span>]:</span><br><span class="line">            RSME=[]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50</span>):</span><br><span class="line">                poly=polyregression(i)</span><br><span class="line">                poly.create_data(j)</span><br><span class="line">                poly.splitData()</span><br><span class="line">                poly.fit()</span><br><span class="line">                poly.draw()</span><br><span class="line">                RSME.append(poly.RSME())</span><br><span class="line">            plt.figure()</span><br><span class="line">            plt.plot(np.linspace(<span class="number">0</span>,<span class="number">50</span>,<span class="number">50</span>),RSME,marker=<span class="string">&#x27;^&#x27;</span>,label=<span class="string">&quot;points&quot;</span>)</span><br><span class="line">            plt.savefig(<span class="string">&#x27;sample=&#x27;</span>+<span class="built_in">str</span>(j)+<span class="string">&#x27;.png&#x27;</span>)</span><br><span class="line">            plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># features_test()</span></span><br><span class="line">    samples_test()</span><br></pre></td></tr></table></figure><h2 id="ç»“æœå¯¹æ¯”">ç»“æœå¯¹æ¯”</h2><p>ä¸åŒçš„ç‰¹å¾æ•°é‡ï¼Œé¦–å…ˆå…¨éƒ¨é’ˆå¯¹æ ·æœ¬æ•°é‡ä¸º10çš„æƒ…å†µï¼š <imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=0%20samples=10.png"alt="features=0 samples=10" /></p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=1%20samples=10.png"alt="features=1 samples=10" /><figcaption aria-hidden="true">features=1 samples=10</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=2%20samples=10.png"alt="features=2 samples=10" /><figcaption aria-hidden="true">features=2 samples=10</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=3%20samples=10.png"alt="features=3 samples=10" /><figcaption aria-hidden="true">features=3 samples=10</figcaption></figure><figure><imgsrc="G:\ä¸“ä¸šå­¦ä¹ \ç¬¬å…­å­¦æœŸ\æœºå™¨å­¦ä¹ \å®éªŒä¸€\selectF\features=4%20samples=10.png"alt="features=4 samples=10" /><figcaption aria-hidden="true">features=4 samples=10</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=5%20samples=10.png"alt="features=5 samples=10" /><figcaption aria-hidden="true">features=5 samples=10</figcaption></figure><p>ä»ä¸­å¯ä»¥å¤§è‡´çœ‹å‡ºï¼Œåœ¨é€‰æ‹©ç‰¹å¾è¿‡å°‘æ—¶ï¼Œä¼šå‡ºç°æ¬ æ‹Ÿåˆç°è±¡ï¼Œé€‰æ‹©è¿‡å¤šååˆ™ä¼šè¿‡æ‹Ÿåˆï¼Œé’ˆå¯¹æ ·æœ¬é‡ä¸º20çš„æƒ…å†µä¸‹ï¼ŒRSMEæ›²çº¿å¦‚å›¾ï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/sample=20.png"alt="sample=20.png" />å›¾ä¸Šæ˜¾ç¤ºçš„æƒ…å†µï¼Œå¹¶ä¸æ˜¯ä¸æˆ‘ä»¬é¢„æœŸä¸­çš„æƒ…å†µå®Œå…¨å»åˆï¼Œå…¶åŸå› å¯èƒ½æ˜¯å› ä¸ºæµ‹è¯•é›†æ ·æœ¬æ•°é‡è¿‡å°‘ï¼Œå¯¼è‡´æ— æ³•å¾ˆå¥½çš„æ•æ‰æ›²çº¿æ‹Ÿåˆçš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘ä»¬å¯¹å…¶ä»–æ ·æœ¬æ•°é‡è¿›è¡Œå¯¹æ¯”ã€ <imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/sample=200.png"alt="sample=200.png" /> <imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/sample=500.png"alt="sample=500.png" /><br />å¯ä»¥çœ‹å‡ºæ ·æœ¬æ•°é‡å¢å¤šåï¼Œç‰¹å¾çš„é€‰æ‹©æœ‰æ˜æ˜¾çš„è¶‹åŠ¿ã€‚å°è¯•å¤ç°ä½¿ç”¨æ ·æœ¬ä¸º10çš„æƒ…å†µï¼š<imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/sample=10.png"alt="sample=10" /> ä¸”æ ·æœ¬æ•°é‡ä¼šæ˜æ˜¾çš„å½±å“æ‹Ÿåˆçš„æ•ˆæœã€‚</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=5%20samples=10.png"alt="features=5 samples=10" /><figcaption aria-hidden="true">features=5 samples=10</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=5%20samples=20.png"alt="features=5 samples=20" /><figcaption aria-hidden="true">features=5 samples=20</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=5%20samples=200.png"alt="features=5 samples=200" /><figcaption aria-hidden="true">features=5 samples=200</figcaption></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/features=5%20samples=500.png"alt="features=5 samples=500" /><figcaption aria-hidden="true">features=5 samples=500</figcaption></figure><p>é’ˆå¯¹æ ·æœ¬ä¸º10ï¼Œç‰¹å¾ä¸º5çš„æƒ…å†µä¸‹è¿›è¡Œæ­£åˆ™åŒ–ï¼š</p><p><span class="math inline">\(\lambda\)</span>=0.7740859059011267</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230311220541756.png"alt="image-20230311220541756" /><figcaption aria-hidden="true">image-20230311220541756</figcaption></figure><h1 id="ä½œä¸šäºŒ">ä½œä¸šäºŒ</h1><h2 id="é¢‘ç‡å­¦æ´¾ä¸è´å¶æ–¯å­¦æ´¾">é¢‘ç‡å­¦æ´¾ä¸è´å¶æ–¯å­¦æ´¾</h2><ul><li>é¢‘ç‡è§‚ç‚¹è®¤ä¸ºé¢‘ç‡èƒ½å¤Ÿè¶‹è¿‘æ¦‚ç‡ï¼Œæ¨¡å‹çš„å‚æ•°æ˜¯ä¸€å®šçš„ï¼Œåªè¦é‡‡æ ·æ•°ç›®è¶³å¤Ÿå¤šå°±èƒ½é€¼è¿‘å‚æ•°å€¼ï¼Œæˆ‘çš„ç†è§£æ˜¯å…¶ç¬¦åˆå¤§æ•°å®šå¾‹çš„æ€æƒ³ï¼ˆæ­¤ä¸ºè¾›é’¦å¤§æ•°å®šå¾‹ï¼‰ï¼š<span class="math display">\[\lim_{n\to\infty}P\left(\left|\frac{1}{n}\sum_{i=1}^{n}{a_i-\mu}  \right|&lt;\varepsilon\right)=1\]</span></li><li>è´å¶æ–¯è§‚ç‚¹è®¤ä¸ºæ¨¡å‹çš„å‚æ•°æ˜¯åœ¨å˜åŒ–çš„ï¼Œæ ·æœ¬æ˜¯ä¸€å®šçš„ã€‚ <spanclass="math display">\[p(w|D)=\frac{p(D|w)p(w)}{p(D)}\]</span> ä»¥ä¸€å…ƒé«˜æ–¯åˆ†å¸ƒä¸ºä¾‹ï¼Œè§£é‡Šæ ·æœ¬åˆ†å¸ƒé—®é¢˜ï¼š</li><li>é¢‘ç‡ï¼šé¢‘ç‡çš„æ€æƒ³æ˜¯ä»¥æ ·æœ¬ä»£æ›¿æ€»ä½“ï¼Œä»è€Œå¾—åˆ°æ¨¡å‹å‚æ•°ï¼Œå‡è®¾æœ‰æ•°æ®é›†<spanclass="math inline">\(D=\{x_1,x_2,\cdot\cdot\cdot,x_n\}\)</span>ï¼Œåˆ™ä¼°è®¡å¾—åˆ°çš„ä¸€å…ƒé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ä¸º<span class="math display">\[\hat\mu=\frac{1}{n}\sum_{i=1}^{n}{x_i}\]</span> <span class="math display">\[\hat{\sigma^2}=\frac{1}{n}\sum_{i=1}^{n}{(x_i-\hat\mu)}^2\]</span>æ ·æœ¬åˆ†å¸ƒæ˜¾ç„¶æ˜¯å’Œæ€»ä½“æœ‰å·®å¼‚çš„ï¼Œå¯¹å…¶æ±‚æœŸæœ›å¯ä»¥å¾—åˆ°ï¼Œå‡å€¼ä¸ºæ— åä¼°è®¡ï¼Œè€Œæ–¹å·®å­˜åœ¨åå·®ï¼Œè€Œåå·®éšç€æ ·æœ¬æ•°ç›®nçš„å¢å¤§è€Œå‡å°ï¼ˆ<spanclass="math inline">\(E(\hat\sigma^2)=\frac{n-1}{n}\sigma^2\)</span>ï¼‰ã€‚</li><li>è´å¶æ–¯ï¼šè´å¶æ–¯çš„æ€æƒ³è®¤ä¸ºæ‰€æœ‰å‚æ•°éƒ½æ˜¯ä¸€ä¸ªåˆ†å¸ƒï¼Œè€Œæ ·æœ¬æ˜¯å›ºå®šä¸å˜çš„é‡ã€‚æ‰€ä»¥é€šè¿‡å…ˆéªŒå°½å¯èƒ½ä½¿é€¼è¿‘é«˜æ–¯åˆ†å¸ƒã€‚<span class="math display">\[p(D|w)=\frac{p(w|D)p(D)}{p(w)}\]</span> æœ‰ä¼¼ç„¶å‡½æ•°ï¼Œå…¶ä¸­<spanclass="math inline">\(p(D)\)</span>ä¸ºä¸€ä¸ªå¸¸æ•°ï¼Œå¯è¢«å¿½ç•¥ï¼ˆå½’ä¸€åŒ–ï¼‰ï¼Œæ ¹æ®è¯¾æœ¬ç»™å‡ºçš„é«˜æ–¯åˆ†å¸ƒæ±‚è§£ç»“æœï¼Œå‘ç°ä»–çš„æ–¹å·®å’Œå‡å€¼å‡ä¸ºæ— åä¼°è®¡ã€‚## å…¬å¼æ¨å¯¼ <imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230421154051248.png"alt="image-20230421154051248" /></li></ul><p>å¼•å…¥å…ˆéªŒ</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230421154116419.png"alt="image-20230421154116419" /><figcaption aria-hidden="true">image-20230421154116419</figcaption></figure><p>åœ¨è¿™é‡Œå°†æ•°æ®çš„æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œäº†å½’ä¸€ï¼Œè®¤ä¸ºæ ·æœ¬æ¦‚ç‡ä¸ºä¸€å¸¸æ•°</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230421154257436.png"alt="image-20230421154257436" /><figcaption aria-hidden="true">image-20230421154257436</figcaption></figure><p>ç„¶åå¯¹<span class="math inline">\(\lnp(\mathbf{w}|\alpha)\)</span>æ±‚è§£ï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230421154321678.png"alt="image-20230421154321678" /><figcaption aria-hidden="true">image-20230421154321678</figcaption></figure><p>å–è´Ÿæ•°ï¼š<br /><span class="math display">\[-\ln p(\mathbf{t|x},w,\beta)p(\mathbf{w}|\alpha)=\frac{\beta}{2}\sum_{n=1}^{N}{(x-y_n(x_n,\mathbf{w}))^2 }+\frac{\alpha}{2}\mathbf{w^T}\mathbf{w}-\frac{n}{2}\ln \frac{\beta}{2\pi}-\frac{M+1}{2}\ln \alpha+\frac{M+1}{2}\ln 2\pi\]</span> åä¸‰é¡¹å‡ä¸ºå¸¸æ•°ï¼Œå¯¹æœ€å¤§åŒ–æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› æ­¤æŸå¤±å‡½æ•°ä¸ºï¼š</p><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230421154342936.png"alt="image-20230421154342936" /><figcaption aria-hidden="true">image-20230421154342936</figcaption></figure><h1 id="ä½œä¸šä¸‰">ä½œä¸šä¸‰</h1><h2 id="åŸºå‡½æ•°å›¾åƒå¤ç°">åŸºå‡½æ•°å›¾åƒå¤ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib.ticker <span class="keyword">import</span> MultipleLocator</span><br><span class="line"></span><br><span class="line">x_major_locator=MultipleLocator(<span class="number">1</span>)</span><br><span class="line">y_major_locator=MultipleLocator(<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">15</span>,<span class="number">5</span>))</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sigma</span>(<span class="params">x,b</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(np.exp((-x+b)*<span class="number">10</span>)+<span class="number">1</span>)</span><br><span class="line">x=np.linspace(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">b=np.linspace(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">11</span>).tolist()</span><br><span class="line"><span class="keyword">for</span> bi <span class="keyword">in</span> b:</span><br><span class="line">    plt.plot(x,sigma(x,bi))</span><br><span class="line">plt.xlim(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">ax=plt.gca()</span><br><span class="line">ax.xaxis.set_major_locator(x_major_locator)</span><br><span class="line">ax.yaxis.set_major_locator(y_major_locator)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">def gaussian(mu,sigma,x,b):</span></span><br><span class="line"><span class="string">    return 1/(np.sqrt(2*np.pi)*sigma)*np.exp(-np.square((x+b)*5-mu)/2*np.square(sigma))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">plt.subplot(1,3,2)</span></span><br><span class="line"><span class="string">for bi in b:</span></span><br><span class="line"><span class="string">    plt.plot(x,gaussian(0,1,x,bi))</span></span><br><span class="line"><span class="string">plt.xlim(-1,1)</span></span><br><span class="line"><span class="string">plt.ylim(0,0.4)</span></span><br><span class="line"><span class="string">plt.show()</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">poly</span>(<span class="params">x,n</span>):</span><br><span class="line">    <span class="keyword">return</span> np.power(x,n)</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">n=np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>).tolist()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> n:</span><br><span class="line">    plt.plot(x,poly(x,i))</span><br><span class="line">plt.xlim(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">plt.ylim(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">ax=plt.gca()</span><br><span class="line">y_major_locator1=MultipleLocator(<span class="number">0.5</span>)</span><br><span class="line">ax.xaxis.set_major_locator(x_major_locator)</span><br><span class="line">ax.yaxis.set_major_locator(y_major_locator1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gaussian1</span>(<span class="params">mu,sigma,x,b</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp(-np.square((x+b)*<span class="number">5</span>-mu)/<span class="number">2</span>*np.square(sigma))</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> bi <span class="keyword">in</span> b:</span><br><span class="line">    plt.plot(x,gaussian1(<span class="number">0</span>,<span class="number">1</span>,x,bi))</span><br><span class="line"></span><br><span class="line">ax=plt.gca()</span><br><span class="line">ax.xaxis.set_major_locator(x_major_locator)</span><br><span class="line">ax.yaxis.set_major_locator(y_major_locator)</span><br><span class="line"></span><br><span class="line">plt.xlim(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure><imgsrc="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230317214519144.png"alt="image-20230317214519144" /><figcaption aria-hidden="true">image-20230317214519144</figcaption></figure><h1 id="ä½œä¸šå››-å¤šé¡¹å¼æ‹ŸåˆåŠ å¼ºç‰ˆ">ä½œä¸šå›› å¤šé¡¹å¼æ‹Ÿåˆï¼ˆåŠ å¼ºç‰ˆï¼‰</h1><h2 id="å®éªŒé¡¹ç›®ç»“æ„">å®éªŒé¡¹ç›®ç»“æ„</h2><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326184103754.png" alt="image-20230326184103754" style=" float:left" />/&gt;å…¶ä¸­ï¼Œdataå‚¨å­˜å›ºåŒ–çš„æ•°æ®</p><p>å°†æ•°æ®ç”Ÿæˆå‡½æ•°ä¸å¤šé¡¹å¼æ‹ŸåˆåŠŸèƒ½åˆ†ç¦»ï¼Œå»ºç«‹createData.py</p><p>äº¤å‰éªŒè¯å‡½æ•°</p><p>çº¿æ€§å›å½’</p><p>å¤šé¡¹å¼ç‰¹å¾ç”Ÿæˆå’Œå¤šé¡¹å¼å›å½’</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">createData.py</span><br><span class="line">__________________</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ•°æ®é›†</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_data</span>(<span class="params">n,beta</span>):</span><br><span class="line">    n = n</span><br><span class="line">    X = np.linspace(<span class="number">0</span>, <span class="number">1</span>, n).reshape(n, <span class="number">1</span>)</span><br><span class="line">    noise = beta * np.random.uniform(low=-<span class="number">1</span>, high=<span class="number">1</span>, size=(n, <span class="number">1</span>))</span><br><span class="line">    t = np.sin(X * <span class="number">2</span> * np.pi) + noise</span><br><span class="line">    X = X</span><br><span class="line">    t = t</span><br><span class="line">    data=np.hstack((X,t))</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">splitData</span>(<span class="params">X,t</span>):</span><br><span class="line">    X_train, X_test, T_train, T_test = train_test_split(X, t, test_size=<span class="number">0.2</span>, random_state=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> X_train,X_test,T_train,T_test</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®å›ºåŒ–</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">tocsv</span>(<span class="params">data</span>):</span><br><span class="line">    df=pd.DataFrame(data)</span><br><span class="line">    df.to_csv(<span class="string">&#x27;.\data\sample=&#x27;</span>+<span class="built_in">str</span>(data.shape[<span class="number">0</span>])+<span class="string">&#x27;.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data=create_data(<span class="number">10</span>,<span class="number">0.1</span>)</span><br><span class="line">    tocsv(data)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Cross_Validation.py</span><br><span class="line">_________________________________________</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> KFold</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cross_Validation</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n_folds</span>):</span><br><span class="line">        self.n_folds = n_folds</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">CV</span>(<span class="params">self,x,y</span>):</span><br><span class="line">        kf = KFold(n_splits=self.n_folds)</span><br><span class="line">        x_train=[]</span><br><span class="line">        x_test=[]</span><br><span class="line">        y_train=[]</span><br><span class="line">        y_test=[]</span><br><span class="line">        <span class="keyword">for</span> train_index,test_index <span class="keyword">in</span> kf.split(x):</span><br><span class="line">            xtr, xte = x[train_index], x[test_index]</span><br><span class="line">            ytr, yte = y[train_index], y[test_index]</span><br><span class="line">            x_train.append(xtr)</span><br><span class="line">            x_test.append(xte)</span><br><span class="line">            y_train.append(ytr)</span><br><span class="line">            y_test.append(yte)</span><br><span class="line">        <span class="keyword">return</span> x_train, x_test, y_train, y_test</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">linearregression.py</span><br><span class="line">_______________________</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">linearregression</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,x,y,Lambda=<span class="number">0</span></span>):</span><br><span class="line">        c = np.dot(x.T, x)</span><br><span class="line">        I = np.eye(np.shape(c)[<span class="number">0</span>])</span><br><span class="line">        d = np.dot(Lambda, I)</span><br><span class="line">        e = (c + d)</span><br><span class="line">        e = np.linalg.inv(e)</span><br><span class="line">        w = np.dot(x.T, y)</span><br><span class="line">        w = np.dot(e, w)</span><br><span class="line">        self.w = w</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self,x</span>):</span><br><span class="line">        y=np.dot(x,self.w)</span><br><span class="line">        <span class="keyword">return</span> y</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Polyfeature.py</span><br><span class="line">____________________</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Polyfeature</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n_features</span>):</span><br><span class="line">        self.n_features=n_features</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¸€å…ƒç‰¹å¾æ··åˆ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment"># å•ä¸ªæ•°å­—</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(x,<span class="built_in">int</span>):</span><br><span class="line">            x=np.array([x])</span><br><span class="line">        <span class="comment"># æ•°ç»„è®¡ç®—</span></span><br><span class="line">        xf = np.zeros((<span class="built_in">len</span>(x), self.n_features + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.n_features + <span class="number">1</span>):</span><br><span class="line">            xf[:,i] = np.power(x, i).reshape(np.shape(xf[:,i]))</span><br><span class="line">        self.xf=xf</span><br><span class="line">        <span class="keyword">return</span> xf</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit_transform</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="comment"># å•ä¸ªæ•°å­—</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(x, <span class="built_in">int</span>):</span><br><span class="line">            x = np.array([x])</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(x,<span class="built_in">float</span>):</span><br><span class="line">            x = np.array([x])</span><br><span class="line">        <span class="comment"># æ•°ç»„è®¡ç®—</span></span><br><span class="line">        xf = np.zeros((<span class="built_in">len</span>(x), self.n_features + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.n_features + <span class="number">1</span>):</span><br><span class="line">            xf[:, i] = np.power(x, i).reshape(np.shape(xf[:, i]))</span><br><span class="line">        <span class="keyword">return</span> xf</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">PolyRegress.py</span><br><span class="line">______________________________________</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.ticker <span class="keyword">as</span> mticker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Polyfeature <span class="keyword">import</span> Polyfeature</span><br><span class="line"><span class="keyword">from</span> linearregression <span class="keyword">import</span> linearregression</span><br><span class="line"><span class="keyword">from</span> Cross_Validation <span class="keyword">import</span> Cross_Validation</span><br><span class="line"><span class="keyword">from</span> createData <span class="keyword">import</span> create_data</span><br><span class="line"><span class="keyword">from</span> createData <span class="keyword">import</span> splitData</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">polyRegression</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, features, n_lambda</span>):</span><br><span class="line">        self.n_features = features</span><br><span class="line">        self.n_lambda = n_lambda</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‹Ÿåˆ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fit</span>(<span class="params">self,x,y,l</span>):</span><br><span class="line">        <span class="comment"># æ··åˆç‰¹å¾</span></span><br><span class="line">        pf=Polyfeature(self.n_features)</span><br><span class="line">        pf.fit(x)</span><br><span class="line">        <span class="comment"># çº¿æ€§å›å½’</span></span><br><span class="line">        lin = linearregression()</span><br><span class="line">        lin.fit(pf.xf,y,Lambda=l)</span><br><span class="line"></span><br><span class="line">        self.lin = lin</span><br><span class="line">        self.poly = pf</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self,x</span>):</span><br><span class="line">        x=self.poly.fit_transform(x)</span><br><span class="line">        prediction=self.lin.predict(x)</span><br><span class="line">        <span class="keyword">return</span> prediction</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw</span>(<span class="params">self,X,t</span>):</span><br><span class="line">        plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>),np.sin(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>)*<span class="number">2</span>*math.pi),c=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">        plt.scatter(X,t,marker=<span class="string">&#x27;o&#x27;</span>,edgecolor=<span class="string">&#x27;blue&#x27;</span>,c=<span class="string">&#x27;white&#x27;</span>,linewidths=<span class="number">1.1</span>)</span><br><span class="line">        plt.plot(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>),</span><br><span class="line">                 self.lin.predict(self.poly.fit_transform(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>).reshape(-<span class="number">1</span>,<span class="number">1</span>))),</span><br><span class="line">                 c=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">        s=<span class="string">&#x27;n_features=&#x27;</span>+<span class="built_in">str</span>(self.n_features)</span><br><span class="line">        plt.text(<span class="number">0.7</span>,<span class="number">1</span>,s)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line">        s=<span class="string">&#x27;cv\\features=&#x27;</span>+<span class="built_in">str</span>(self.n_features)+<span class="string">&#x27; samples=&#x27;</span>+<span class="built_in">str</span>(<span class="number">1</span>)+<span class="string">&#x27;.png&#x27;</span></span><br><span class="line">        plt.savefig(<span class="string">&#x27;11.png&#x27;</span>)</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cv_pridict</span>(<span class="params">self, X, y, n_fold</span>):</span><br><span class="line">        cv = Cross_Validation(n_fold)</span><br><span class="line">        X_train, X_test, y_train, y_test = cv.CV(X,y)</span><br><span class="line">        y_allPredict = np.ones((<span class="number">1</span>, self.n_lambda))</span><br><span class="line">        Lambda = np.logspace(-<span class="number">10</span>, -<span class="number">7</span>, self.n_lambda)</span><br><span class="line">        w=[]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_fold):</span><br><span class="line">            y_predict = np.zeros((y_test[i].shape[<span class="number">0</span>], self.n_lambda))</span><br><span class="line">            k=<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> np.nditer(Lambda) :</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;ç¬¬&#x27;</span>,k+<span class="number">1</span>+self.n_lambda*i,<span class="string">&#x27;æ¬¡:&#x27;</span>,j)</span><br><span class="line">                poly = self.fit(X_train[i], y_train[i], j)</span><br><span class="line">                y_pre = self.predict(X_test[i])</span><br><span class="line">                w.append(self.lin.w)</span><br><span class="line">                y_predict[:, k] = y_pre.ravel()</span><br><span class="line">                k=k+<span class="number">1</span></span><br><span class="line">            y_allPredict = np.vstack((y_allPredict, y_predict))</span><br><span class="line">        y_allPredict = y_allPredict[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">return</span> y_allPredict, cv, y_test, y_train, X_test, X_train,w</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">RMSE_CV</span>(<span class="params">self, y_allPredict, y_measure, n</span>):</span><br><span class="line">        press = np.square(np.subtract(y_allPredict, y_measure.reshape(-<span class="number">1</span>,<span class="number">1</span>)))</span><br><span class="line">        press_all = np.<span class="built_in">sum</span>(press, axis=<span class="number">0</span>)</span><br><span class="line">        RMSECV = np.sqrt(press_all / n)</span><br><span class="line">        lambda_best_index= np.argmin(RMSECV)</span><br><span class="line">        lambda_best=np.logspace(-<span class="number">10</span>,-<span class="number">7</span>, self.n_lambda)[lambda_best_index]</span><br><span class="line">        <span class="keyword">return</span> RMSECV, lambda_best</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">bias_cv</span>(<span class="params">self, y_allPredict, y_expect, n</span>):</span><br><span class="line">        press = np.square(np.subtract(y_allPredict, y_expect.reshape(-<span class="number">1</span>,<span class="number">1</span>)))</span><br><span class="line">        press_all = np.<span class="built_in">sum</span>(press, axis=<span class="number">0</span>)</span><br><span class="line">        bias_cv = press_all / n</span><br><span class="line">        <span class="keyword">return</span> bias_cv</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">variance_cv</span>(<span class="params">self,y_allPredict, y_expect</span>):</span><br><span class="line">        press = np.square(np.subtract(y_allPredict, y_expect.reshape(-<span class="number">1</span>,<span class="number">1</span>)))</span><br><span class="line">        variance=np.average(press,axis=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> variance</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_error_cv</span>(<span class="params">self,y_allPredict,y,Lambda,w</span>):</span><br><span class="line">        press = np.square(np.subtract(y_allPredict, y.reshape(-<span class="number">1</span>, <span class="number">1</span>)))</span><br><span class="line">        error1 = np.<span class="built_in">sum</span>(press, axis=<span class="number">0</span>)/<span class="number">2</span></span><br><span class="line">        error2 = np.linalg.norm(w,axis=<span class="number">1</span>)</span><br><span class="line">        error_temp=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">            e=np.average(error2[i*<span class="number">5</span>:(i+<span class="number">1</span>)*<span class="number">5</span>])</span><br><span class="line">            error_temp.append(e)</span><br><span class="line">        error2=np.array(error_temp)*Lambda/<span class="number">2</span></span><br><span class="line">        error=error1+error2</span><br><span class="line">        <span class="keyword">return</span> error</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_Select_lambda</span>(<span class="params">self,RMSECV</span>):</span><br><span class="line">        x=np.logspace(-<span class="number">10</span>,-<span class="number">7</span>,self.n_lambda)</span><br><span class="line">        plt.plot(x,</span><br><span class="line">                 RMSECV,marker=<span class="string">&#x27;^&#x27;</span>,</span><br><span class="line">                 markersize=<span class="number">10</span>,</span><br><span class="line">                 markerfacecolor=<span class="string">&#x27;orange&#x27;</span>,</span><br><span class="line">                 color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;lambda&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;RMSECV&#x27;</span>)</span><br><span class="line">        ax = plt.gca()</span><br><span class="line">        ax.set_xscale(<span class="string">&quot;log&quot;</span>)</span><br><span class="line">        ax.set_xlim(ax.get_xlim()[::-<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">RSME</span>(<span class="params">self,X,t</span>):</span><br><span class="line">        T_predict = self.lin.predict(self.poly.fit_transform(X))</span><br><span class="line">        SSE = np.<span class="built_in">sum</span>(np.square(t - T_predict))</span><br><span class="line">        MSE = SSE / <span class="built_in">len</span>(T_predict)</span><br><span class="line">        rsme = np.sqrt(MSE)</span><br><span class="line">        <span class="keyword">return</span> rsme</span><br></pre></td></tr></table></figure><h2 id="è°ƒæ•´betaå’Œlambdaè§‚å¯Ÿrmseå˜åŒ–">è°ƒæ•´<spanclass="math inline">\(\beta\)</span>å’Œ<spanclass="math inline">\(\lambda\)</span>è§‚å¯ŸRMSEå˜åŒ–</h2><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__name__&#x27;</span>:</span><br><span class="line">   beta=np.linspace(<span class="number">0</span>,<span class="number">0.5</span>,<span class="number">1000</span>)</span><br><span class="line">   Lambda=np.logspace(-<span class="number">10</span>,<span class="number">0</span>,<span class="number">1000</span>)</span><br><span class="line">   RMSE_SUM=[]</span><br><span class="line">   <span class="comment"># betaå’Œlambdaå¯¹æ‹Ÿåˆæ•ˆæœå½±å“</span></span><br><span class="line">   <span class="keyword">for</span> j <span class="keyword">in</span> beta:</span><br><span class="line">        poly = polyRegression(<span class="number">8</span>, <span class="number">1000</span>)</span><br><span class="line">        data=create_data(<span class="number">10</span>,j)</span><br><span class="line">        X=data[:,<span class="number">0</span>]</span><br><span class="line">        t=data[:,<span class="number">1</span>]</span><br><span class="line">        y_allPredict, cv, y_test, y_train, X_test, X_train = poly.cv_pridict(X, t, <span class="number">5</span>)</span><br><span class="line">        RMSECV, best_lambda = poly.RMSE_CV(y_allPredict, t, X.shape[<span class="number">0</span>])</span><br><span class="line">        RMSE_SUM.append(RMSECV)</span><br><span class="line">    RMSE=np.array(RMSE_SUM)</span><br><span class="line">    X, Y = np.meshgrid(Lambda, beta)</span><br><span class="line">    fig = plt.figure(figsize=(<span class="number">15</span>,<span class="number">15</span>))</span><br><span class="line">    ax = plt.axes(projection=<span class="string">&#x27;3d&#x27;</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">&#x27;beta&#x27;</span>)</span><br><span class="line">    ax.set_ylabel(<span class="string">&#x27;lambda&#x27;</span>)</span><br><span class="line">    ax.set_zlabel(<span class="string">&#x27;RSME&#x27;</span>)</span><br><span class="line">    ax.plot_surface(np.log(Y), np.log(X), RMSE, rstride=<span class="number">1</span>, cstride=<span class="number">1</span>, cmap=plt.get_cmap(<span class="string">&#x27;rainbow&#x27;</span>))</span><br><span class="line">    ax.set_title(<span class="string">&#x27;Surface plot&#x27;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><center left><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230323215538367.png" alt="image-20230323215538367" style="zoom:50%;"  width="800"/><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230323220045143.png" alt="image-20230323220045143" style="zoom: 33%;" width="1250" /></center><p>å³å›¾<span class="math inline">\(-\ln \beta\)</span>å€¼ä½œä¸ºxè½´ï¼Œ<spanclass="math inline">\(\ln \lambda\)</span>ä½œä¸ºyè½´ï¼Œå·¦å›¾åä¹‹ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œå¯¹å±€éƒ¨ä½œå›¾ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/img.png" alt="img" style="zoom: 67%;" /></p><p>é¦–å…ˆï¼Œä»<span class="math inline">\(\ln\lambda\)</span>æ–¹å‘è§‚å¯Ÿï¼Œå¯ä»¥çœ‹å‡º<spanclass="math inline">\(\lambda\)</span>å¯¹RMSEçš„å½±å“å‘ˆæ³¢æµªçŠ¶ï¼Œå­˜åœ¨å¤šä¸ªæå°å€¼ï¼Œå½“<spanclass="math inline">\(\lambda\)</span>å–å¾ˆå°çš„å€¼æ—¶ï¼Œåœ¨<spanclass="math inline">\(-ln\beta\)</span>è¾ƒå¤§çš„æ—¶å€™å‡ºç°äº†æ¯”è¾ƒä¸¥é‡çš„è¿‡æ‹Ÿåˆã€‚</p><p>ç„¶åä»<span class="math inline">\(-\ln\beta\)</span>æ–¹å‘è§‚å¯Ÿï¼Œå¯ä»¥çœ‹å‡º<spanclass="math inline">\(\beta\)</span>å¯¹RMSEçš„å½±å“å®é™…ä¸Šå¹¶ä¸å¤§ï¼Œå‘ˆå°è€Œå¯†çš„æ³¢æµªè¶‹åŠ¿ã€‚</p><h2 id="æ­£åˆ™åŒ–å‰åå›å½’ç³»æ•°">æ­£åˆ™åŒ–å‰åå›å½’ç³»æ•°</h2><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€‰æ‹©å‚æ•°lambdaï¼Œç»™å‡ºæ‹Ÿåˆè¡¨è¾¾</span></span><br><span class="line">    df=pd.read_csv(<span class="string">&#x27;./data/sample=10.csv&#x27;</span>)</span><br><span class="line">    X=df.values[:,<span class="number">1</span>]</span><br><span class="line">    t=df.values[:,<span class="number">2</span>]</span><br><span class="line">    x_train, x_test, T_train, T_test=splitData(X,t)</span><br><span class="line">    <span class="comment"># æ­£åˆ™åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        poly = polyRegression(i, <span class="number">50</span>)</span><br><span class="line">        y_allPredict, cv, y_test, y_train, X_test, X_train = poly.cv_pridict(X, t, <span class="number">5</span>)</span><br><span class="line">        RMSECV, best_lambda = poly.RMSE_CV(y_allPredict, t, X.shape[<span class="number">0</span>])</span><br><span class="line">        poly_best=polyRegression(i,<span class="number">5</span>)</span><br><span class="line">        poly_best.fit(x_train,T_train,best_lambda)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;æ¬¡æ•°ä¸º&#x27;</span>,i,<span class="string">&#x27;æ—¶çš„æƒé‡é›†åˆï¼š&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(poly_best.lin.w)</span><br><span class="line">    <span class="comment"># æ— æ­£åˆ™åŒ–</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ­£åˆ™åŒ–\n&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        poly = polyRegression(i, <span class="number">50</span>)</span><br><span class="line">        poly.fit(x_train, T_train, <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;æ¬¡æ•°ä¸º&#x27;</span>, i, <span class="string">&#x27;æ—¶çš„æƒé‡é›†åˆï¼š&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(poly.lin.w)</span><br><span class="line">    rmse_train=[]</span><br><span class="line">    rmse_test=[]</span><br></pre></td></tr></table></figure><p>æ— æ­£åˆ™åŒ–ï¼š</p><table><colgroup><col style="width: 6%" /><col style="width: 17%" /><col style="width: 17%" /><col style="width: 17%" /><col style="width: 18%" /><col style="width: 6%" /><col style="width: 17%" /></colgroup><thead><tr class="header"><th><span class="math inline">\(w\)</span></th><th>0</th><th>1</th><th>2</th><th>3</th><th>â€¦â€¦</th><th>9</th></tr></thead><tbody><tr class="odd"><td></td><td>-0.08673405</td><td>0.43162238</td><td>0.5695881</td><td>-0.05816218</td><td></td><td>-0.07491257</td></tr><tr class="even"><td></td><td></td><td>-1.05343403</td><td>-2.17473669</td><td>11.14510403</td><td></td><td>10.41748047</td></tr><tr class="odd"><td></td><td></td><td></td><td>1.16724815</td><td>-33.31060868</td><td></td><td>-34.4765625</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td>22.29544252</td><td></td><td>56.09375</td></tr><tr class="odd"><td></td><td></td><td></td><td></td><td></td><td></td><td>-60.</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td></td><td></td><td>-14.375</td></tr><tr class="odd"><td></td><td></td><td></td><td></td><td></td><td></td><td>34.796875</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td></td><td></td><td>44.5625</td></tr><tr class="odd"><td></td><td></td><td></td><td></td><td></td><td></td><td>-2.0625</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td></td><td></td><td>-35.390625</td></tr></tbody></table><p>æ­£åˆ™åŒ–åï¼š</p><table><colgroup><col style="width: 6%" /><col style="width: 17%" /><col style="width: 17%" /><col style="width: 17%" /><col style="width: 17%" /><col style="width: 6%" /><col style="width: 17%" /></colgroup><thead><tr class="header"><th><span class="math inline">\(w\)</span></th><th>0</th><th>1</th><th>2</th><th>3</th><th>â€¦â€¦</th><th>9</th></tr></thead><tbody><tr class="odd"><td></td><td>-0.07776724</td><td>0.15514244</td><td>0.17544013</td><td>0.33805469</td><td></td><td>0.21515437</td></tr><tr class="even"><td></td><td></td><td>-0.52292037</td><td>-0.38363097</td><td>-0.80726911</td><td></td><td>-0.44372143</td></tr><tr class="odd"><td></td><td></td><td></td><td>-0.25709792</td><td>-0.42717323</td><td></td><td>-0.42050595</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td>0.41092392</td><td></td><td>-0.25649878</td></tr><tr class="odd"><td></td><td></td><td></td><td></td><td></td><td></td><td>-0.10138744</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td></td><td></td><td>0.02127489</td></tr><tr class="odd"><td></td><td></td><td></td><td></td><td></td><td></td><td>0.1134249</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td></td><td></td><td>0.1815334</td></tr><tr class="odd"><td></td><td></td><td></td><td></td><td></td><td></td><td>0.23170656</td></tr><tr class="even"><td></td><td></td><td></td><td></td><td></td><td></td><td>0.26874031</td></tr></tbody></table><h2 id="bias-varianceç»“æ„">bias-varianceç»“æ„</h2><p>ç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœŸæœ›è®¡ç®—</span></span><br><span class="line">    predictAll=[]</span><br><span class="line">    T11=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        data1 = create_data(<span class="number">25</span>, np.random.uniform(<span class="number">0</span>,<span class="number">0.5</span>))</span><br><span class="line">        X1 = data1[:,<span class="number">0</span>]</span><br><span class="line">        t1 = data1[:,<span class="number">1</span>]</span><br><span class="line">        x1_train, x1_test, T1_train, T1_test = splitData(X1, t1)</span><br><span class="line">        poly_evey=polyRegression(<span class="number">25</span>,<span class="number">100</span>)</span><br><span class="line">        y_allPredict, cv, y_test, y_train, X_test, X_train,w = poly_evey.cv_pridict(X1, t1, <span class="number">5</span>)</span><br><span class="line">        predictAll.append(y_allPredict)</span><br><span class="line">        RMSECV, best_lambda = poly_evey.RMSE_CV(y_allPredict, t1, X1.shape[<span class="number">0</span>])</span><br><span class="line">        poly_evey.fit(x1_train,T1_train,best_lambda)</span><br><span class="line">        t_predict=poly_evey.predict(X1)</span><br><span class="line">        T11.append(t_predict)</span><br><span class="line"></span><br><span class="line">    T1=np.array(T11)</span><br><span class="line">    f_hat=np.average(T1,axis=<span class="number">0</span>)</span><br><span class="line">    poly11=polyRegression(<span class="number">25</span>,<span class="number">100</span>)</span><br><span class="line">    variances=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> predictAll:</span><br><span class="line">        variance=poly11.variance_cv(i,f_hat)</span><br><span class="line">        variances.append(variance)</span><br><span class="line">    variance=np.average(variances,axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆä¸€ä¸ªæ–°æ•°æ®é›†</span></span><br><span class="line">    data2 = create_data(<span class="number">25</span>, np.random.uniform(<span class="number">0</span>, <span class="number">0.5</span>))</span><br><span class="line">    X2 = data2[:, <span class="number">0</span>]</span><br><span class="line">    t2 = data2[:, <span class="number">1</span>]</span><br><span class="line">    x2_train, x2_test, T2_train, T2_test = splitData(X2, t2)</span><br><span class="line">    poly2=polyRegression(<span class="number">25</span>,<span class="number">100</span>)</span><br><span class="line">    y_allPredict, cv, y_test, y_train, X_test, X_train, w = poly2.cv_pridict(X2, t2, <span class="number">5</span>)</span><br><span class="line">    RMSECV, best_lambda = poly2.RMSE_CV(y_allPredict, t2, X2.shape[<span class="number">0</span>])</span><br><span class="line">    poly2.show_Select_lambda(RMSECV)</span><br><span class="line">    bias_2=poly2.bias_cv(y_allPredict,f_hat,X2.shape[<span class="number">0</span>])</span><br><span class="line">    w=np.array(w)</span><br><span class="line">    error=poly2.test_error_cv(y_allPredict,t2,np.logspace(-<span class="number">10</span>,-<span class="number">7</span>,<span class="number">100</span>),w)</span><br><span class="line">    <span class="built_in">print</span>(bias_2)</span><br><span class="line"></span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.plot(np.logspace(-<span class="number">10</span>,-<span class="number">7</span>, <span class="number">100</span>),bias_2,label=<span class="string">&#x27;bias^2&#x27;</span>,color=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">    plt.plot(np.logspace(-<span class="number">10</span>,-<span class="number">7</span>, <span class="number">100</span>),variance, label=<span class="string">&#x27;variance&#x27;</span>, color=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">    plt.plot(np.logspace(-<span class="number">10</span>,-<span class="number">7</span>, <span class="number">100</span>),bias_2+variance, label=<span class="string">&#x27;bias^2+variance&#x27;</span>, color=<span class="string">&#x27;pink&#x27;</span>)</span><br><span class="line">    plt.plot(np.logspace(-<span class="number">10</span>,-<span class="number">7</span>, <span class="number">100</span>),error,label=<span class="string">&#x27;test error&#x27;</span>, color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">    ax = plt.gca()</span><br><span class="line">    ax.set_xscale(<span class="string">&quot;log&quot;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326185731318.png" alt="image-20230326185731318" style="zoom:80%;" /></p><h2 id="degreelambdaå¯»ä¼˜è¿‡ç¨‹"><spanclass="math inline">\(degree\)</span>ã€<spanclass="math inline">\(lambda\)</span>å¯»ä¼˜è¿‡ç¨‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">rmse_train=[]</span><br><span class="line">rmse_test=[]</span><br><span class="line"><span class="comment"># å¯»æ‰¾æœ€ä¼˜æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    poly = polyRegression(i, <span class="number">50</span>)</span><br><span class="line">    poly.fit(x_train,T_train,<span class="number">0</span>)</span><br><span class="line">    rmse_train.append(poly.RSME(x_train,T_train))</span><br><span class="line">    rmse_test.append(poly.RSME(x_test,T_test))</span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line">plt.figure()</span><br><span class="line">plt.plot(np.linspace(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>),</span><br><span class="line">         rmse_test,</span><br><span class="line">         label=<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">         marker=<span class="string">&#x27;o&#x27;</span>,</span><br><span class="line">         markerfacecolor=<span class="string">&#x27;white&#x27;</span></span><br><span class="line">         , markeredgecolor=<span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">         color=<span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">         markeredgewidth=<span class="number">1.5</span>)</span><br><span class="line">plt.plot(np.linspace(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>),rmse_train,</span><br><span class="line">         label=<span class="string">&#x27;train&#x27;</span>,</span><br><span class="line">         marker=<span class="string">&#x27;o&#x27;</span>,</span><br><span class="line">         markerfacecolor=<span class="string">&#x27;white&#x27;</span>,</span><br><span class="line">         markeredgecolor=<span class="string">&#x27;r&#x27;</span>,</span><br><span class="line">         color=<span class="string">&#x27;r&#x27;</span>,</span><br><span class="line">         markeredgewidth=<span class="number">1.5</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;RMSE&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;degree&#x27;</span>)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br><span class="line">best_degree=np.argmin(np.array(rmse_test))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;best degree is&#x27;</span>,best_degree)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;min RMSE in test sets:&#x27;</span>,np.<span class="built_in">min</span>(rmse_test))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹æœ€ä¼˜æ¬¡æ•°å¯»æ‰¾åˆé€‚çš„lambda</span></span><br><span class="line">poly = polyRegression(best_degree, <span class="number">50</span>)</span><br><span class="line">poly.fit(x_train, T_train, <span class="number">0</span>)</span><br><span class="line">poly.draw(X,t)</span><br><span class="line">y_allPredict, cv, y_test, y_train, X_test, X_train,w = poly.cv_pridict(X, t, <span class="number">5</span>)</span><br><span class="line">RMSECV, best_lambda = poly.RMSE_CV(y_allPredict, t, X.shape[<span class="number">0</span>])</span><br><span class="line">poly.show_Select_lambda(RMSECV)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;best lambda is&#x27;</span>,best_lambda)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;min RMSE with regularization:&#x27;</span>,np.<span class="built_in">min</span>(RMSECV))</span><br><span class="line">poly_best = polyRegression(best_degree, <span class="number">50</span>)</span><br><span class="line">poly_best.fit(x_train, T_train, best_lambda)</span><br><span class="line">poly_best.draw(X, t)</span><br></pre></td></tr></table></figure><p>degreeå¯»ä¼˜ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326191813731.png" alt="image-20230326191813731" style="zoom:50%;" /></p><p><span class="math inline">\(lambda\)</span>å¯»ä¼˜ï¼š</p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326191840244.png" alt="image-20230326191840244" style="zoom: 67%;" /></p>æ­£åˆ™åŒ–å‰åå›¾åƒå¯¹æ¯”ï¼š<center><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326191928367.png" alt="image-20230326191928367" style="zoom:50%;" /><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326191912106.png" alt="image-20230326191912106" style="zoom:50%;" /></center><p>å·¦å›¾ä¸ºæœªæ­£åˆ™åŒ–ï¼Œå³å›¾ä¸ºæ­£åˆ™åŒ–åã€‚è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">best degree is 5</span><br><span class="line">min RMSE in test sets: 0.11753272730633338</span><br><span class="line">best lambda is 1.8420699693267162e-08</span><br><span class="line">min RMSE with regularization: 0.0998645060490816</span><br></pre></td></tr></table></figure><h2 id="æ ·æœ¬æ•°ç›®å½±å“">æ ·æœ¬æ•°ç›®å½±å“</h2><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">RMSEs=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>,<span class="number">50</span>):</span><br><span class="line">    data=create_data(i,<span class="number">0.25</span>)</span><br><span class="line">    X=data[:,<span class="number">0</span>]</span><br><span class="line">    t=data[:,<span class="number">1</span>]</span><br><span class="line">    X_train, X_test, T_train, T_test=splitData(X,t)</span><br><span class="line">    poly=polyRegression(<span class="number">8</span>,<span class="number">50</span>)</span><br><span class="line">    poly.fit(X_train,T_train,<span class="number">0</span>)</span><br><span class="line">    rmse=poly.RSME(X,t)</span><br><span class="line">    RMSEs.append(rmse)</span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line">plt.figure()</span><br><span class="line">plt.plot(np.linspace(<span class="number">10</span>,<span class="number">50</span>,<span class="number">40</span>),RMSEs)</span><br><span class="line">plt.ylabel(<span class="string">&quot;RMSE&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;samples&#x27;</span>)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326193335597.png" alt="image-20230326193335597" style="zoom:50%;" /></p><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20230326193511771.png" alt="image-20230326193511771" style="zoom:50%;" /></p><p>ä¸Šå›¾æ˜¯æ ·æœ¬æ•°é‡åœ¨ï¼ˆ10,200ï¼‰çš„RMSEå›¾ï¼Œä¸‹å›¾æ˜¯æ ·æœ¬æ•°é‡åœ¨ï¼ˆ10,20ï¼‰çš„RMSEå›¾ï¼Œå¯ä»¥æ˜æ˜¾çœ‹å‡ºéšç€æ ·å¸ƒæ•°ç›®å¢é•¿RMSEé€æ¸è¶‹äºç¨³å®šï¼Œä»…æœ‰å¾ˆå°çš„æ³¢åŠ¨ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PythonåŸºç¡€è¯­æ³•æ€»ç»“</title>
      <link href="/2022/09/14/pythonSummry/"/>
      <url>/2022/09/14/pythonSummry/</url>
      
        <content type="html"><![CDATA[<h1 id="PythonåŸºç¡€è¯­æ³•å­¦ä¹ æ€»ç»“"><a href="#PythonåŸºç¡€è¯­æ³•å­¦ä¹ æ€»ç»“" class="headerlink" title="PythonåŸºç¡€è¯­æ³•å­¦ä¹ æ€»ç»“"></a>PythonåŸºç¡€è¯­æ³•å­¦ä¹ æ€»ç»“</h1><h2 id="å®éªŒç›®çš„"><a href="#å®éªŒç›®çš„" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h2><p>å­¦ä¹ PythonåŸºæœ¬è¯­æ³•</p><h2 id="å®éªŒåœºåœ°ä¸è®¾å¤‡"><a href="#å®éªŒåœºåœ°ä¸è®¾å¤‡" class="headerlink" title="å®éªŒåœºåœ°ä¸è®¾å¤‡"></a>å®éªŒåœºåœ°ä¸è®¾å¤‡</h2><p>çº¿ä¸Š</p><h2 id="å®éªŒæ–¹å¼"><a href="#å®éªŒæ–¹å¼" class="headerlink" title="å®éªŒæ–¹å¼"></a>å®éªŒæ–¹å¼</h2><p>é˜…è¯»æ•™ç¨‹ä¸ç¨‹åºè®¾è®¡</p><h2 id="å®éªŒè®¾è®¡"><a href="#å®éªŒè®¾è®¡" class="headerlink" title="å®éªŒè®¾è®¡"></a>å®éªŒè®¾è®¡</h2><p> <img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/Python%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80.png" alt="Pythonè¯­è¨€åŸºç¡€"></p><p>å›¾1.1 PythonåŸºç¡€è¯­æ³•å­¦ä¹ å®éªŒè®¾è®¡</p><h2 id="å®éªŒå†…å®¹"><a href="#å®éªŒå†…å®¹" class="headerlink" title="å®éªŒå†…å®¹"></a>å®éªŒå†…å®¹</h2><h3 id="Pythonè¯­æ³•æ€»ç»“"><a href="#Pythonè¯­æ³•æ€»ç»“" class="headerlink" title="Pythonè¯­æ³•æ€»ç»“"></a>Pythonè¯­æ³•æ€»ç»“</h3><h4 id="PythonåŸºæœ¬è¯­æ³•"><a href="#PythonåŸºæœ¬è¯­æ³•" class="headerlink" title="PythonåŸºæœ¬è¯­æ³•"></a>PythonåŸºæœ¬è¯­æ³•</h4><h4 id="åŸºæœ¬è¯­å¥"><a href="#åŸºæœ¬è¯­å¥" class="headerlink" title="åŸºæœ¬è¯­å¥"></a>åŸºæœ¬è¯­å¥</h4><p>â‘   é¦–å…ˆæ˜¯è¾“å…¥è¾“å‡ºè¯­å¥ï¼Œè¾“å…¥è¯­å¥æ¯”è¾ƒç®€å•ä¸º<code>name=input()</code>ï¼ŒåŸºæœ¬è¾“å‡ºè¯­å¥ä¸º<code>print()</code>,æ‹¼æ¥è¾“å‡ºä½¿ç”¨é€—å·ã€‚</p><p>â‘¡  æ³¨é‡Šé‡‡ç”¨<code>#</code> è¿›è¡Œä¹¦å†™</p><p>â‘¢   ä»£ç é£æ ¼ï¼šPythoné‡‡ç”¨çš„æ˜¯ç¼©è¿›å¼ä»£ç é£æ ¼ï¼Œæ‰€ä»¥å¯¹äºå¤åˆ¶ç²˜è´´æ¯”è¾ƒä¸å‹å¥½</p><p>â‘£   æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼š<code>if æ¡ä»¶1 :...elif æ¡ä»¶2 : ... else : ...</code></p><p>â‘¤å¾ªç¯è¯­å¥ï¼š</p><p>ç¬¬ä¸€ç§æ˜¯<code>for</code>å¾ªç¯ï¼š<code>for x in []:</code> <code>for x in ...:</code> å¾ªç¯å°±æ˜¯æŠŠæ¯ä¸ªå…ƒç´ ä»£å…¥å˜é‡xï¼Œç„¶åæ‰§è¡Œç¼©è¿›å—çš„è¯­å¥</p><p>ç¬¬äºŒç§æ˜¯<code>while</code>å¾ªç¯ï¼š<code>while æ¡ä»¶åˆ¤æ–­è¯­å¥ :</code>    <code>break</code>ã€<code>continue</code>å’Œjavaä¸­ç”¨æ³•ç›¸åŒ</p><h4 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h4><p><strong>â‘ æ•´æ•°ï¼š</strong>å¯¹äºå¾ˆå¤§çš„æ•°ï¼Œå¾ˆéš¾æ•°æ¸…æ¥š0çš„ä¸ªæ•°ã€‚Pythonå…è®¸åœ¨æ•°å­—ä¸­é—´ä»¥_åˆ†éš”ã€‚</p><p><strong>â‘¡æµ®ç‚¹æ•°ï¼š</strong>å…è®¸ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•å®šä¹‰</p><p><strong>â‘¢å­—ç¬¦ä¸²ï¼š</strong>åœ¨Pythonæ²¡æœ‰ä¸¥æ ¼è¦æ±‚<code>&#39;&#39; </code>å’Œ<code>&quot;&quot;</code>çš„åŒºåˆ«åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰åŒºåˆ†å­—ç¬¦å’Œå­—ç¬¦ä¸²ä½¿ç”¨äºŒè€…æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><ul><li>è½¬ä¹‰ç¬¦å’ŒJavaä¸­ä¿æŒä¸€è‡´</li><li>Pythonå…è®¸ç”¨<code>r&#39;&#39;</code>è¡¨ç¤º<code>&#39;&#39;</code>å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰</li></ul><p><strong>â‘£    å¸ƒå°”å€¼ï¼š</strong></p><p>åœ¨Pythonä¸­è¦æ³¨æ„ï¼š<code>True</code>ã€<code>False</code>è¦æ³¨æ„å¼€å¤´é¦–å­—æ¯å¤§å†™ã€‚<br>å¯ä»¥è¿›è¡Œä¸ã€æˆ–ã€éçš„è¿ç®—ï¼Œè¿ç®—ç¬¦åˆ†åˆ«ä¸ºï¼š<code>and</code>ï¼Œ<code>or</code>ï¼Œ<code>not</code>  </p><p><strong>â‘¤ç©ºå€¼ï¼š</strong>ç©ºå€¼ç”¨<code>None</code>è¡¨ç¤ºï¼Œæ„ä¹‰ä¸Javaä¸­çš„<code>null</code>ç›¸åŒã€‚</p><p><strong>â‘¥listï¼š</strong></p><p>listæ˜¯Pythonå†…ç½®çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œlistæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚æ­¤æ•°æ®ç±»å‹åœ¨Javaçš„å®ç”¨ç±»ä¸­æœ‰å°è£…ã€‚listå’Œæ•°ç»„å¾ˆåƒï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classname = [<span class="string">&#x27;è€å…­&#x27;</span>,<span class="string">&#x27;è€å…«&#x27;</span>,<span class="string">&#x27;è€ä¹&#x27;</span>]</span><br></pre></td></tr></table></figure><p>æƒ³è¦è°ƒå–å…¶ä¸­çš„æŸä¸ªå…ƒç´ ä¹Ÿå’Œæ•°ç»„ä¸€è‡´ï¼Œèµ‹å€¼ä¿®æ”¹ç­‰ä¹Ÿç›¸åŒ<br>ä¸‹é¢åˆ—ä¸¾ä¸€ä¸‹listçš„ADT</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list:</span><br><span class="line">append(&#x27;Elem&#x27;)  # åœ¨æœ«å°¾æ·»åŠ æ–°çš„å…ƒç´ </span><br><span class="line">insert(i,&#x27;Elem&#x27;) # å°†å…ƒç´ æ’å…¥æŒ‡å®šä½ç½®</span><br><span class="line">pop() # åˆ é™¤æœ«å°¾å…ƒç´ </span><br><span class="line">pop(i) # åˆ é™¤iå¤„çš„å…ƒç´ </span><br><span class="line">len(list) # liståˆ—è¡¨çš„é•¿åº¦</span><br></pre></td></tr></table></figure><p>listå…è®¸æ··åˆç±»å‹ï¼Œä¹Ÿå…è®¸liståµŒå¥—ï¼Œä»è€Œå‡ºç°å¤šç»´æ•°ç»„ã€‚</p><p><strong>â‘¦ tuple</strong></p><p>tupleè¢«ç§°ä¸ºå…ƒç»„ï¼Œå…¶æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ä¸å¯ä¿®æ”¹ï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classname = (<span class="string">&#x27;è€å…­&#x27;</span>,<span class="string">&#x27;è€å…«&#x27;</span>,<span class="string">&#x27;è€ä¹&#x27;</span>)</span><br></pre></td></tr></table></figure><p>tupleåœ¨å®šä¹‰æ—¶è¦ç¡®å®šå…ƒç´ ä¸ªæ•°ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨å®šä¹‰åªæœ‰ä¸€ä¸ªå…ƒç´ çš„tupleæ—¶ï¼ŒPythonè¯­æ³•ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå°æ‹¬å·ï¼Œå› æ­¤åœ¨å®šä¹‰ä¸€ä¸ªå…ƒç»„çš„tupleæ—¶ï¼Œè¦åŠ ä¸€ä¸ª<code>,</code>é¿å…æ­§ä¹‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t=(<span class="number">1</span>,)</span><br></pre></td></tr></table></figure><p><strong>â‘§å­—å…¸ï¼ˆdictï¼‰</strong></p><p>å­—å…¸å…¨ç§°ä¸ºdictionaryï¼Œåœ¨Javaå®ç”¨ç±»ä¸­å«hash mapã€‚å…¶ç”±é”®å€¼å¯¹ï¼ˆkey-valueï¼‰ç»„æˆï¼ŒæŸ¥æ‰¾é€Ÿåº¦å¿«ã€‚ ä¸‹é¢æ˜¯ä¸€ç§åˆå§‹åŒ–æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&#x27;Michael&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Bob&#x27;</span>: <span class="number">75</span>, <span class="string">&#x27;Tracy&#x27;</span>: <span class="number">85</span>&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æ”¾å…¥æŒ‡å®šçš„keyä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>] = <span class="number">67</span></span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾value:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>]</span><br></pre></td></tr></table></figure><p>keyä¸valueæ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ï¼Œkeyéœ€è¦æ˜¯ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ä¿è¯keyåšhashè¿ç®—åçš„å”¯ä¸€æ€§ã€‚å¦‚æœå¤šæ¬¡å¯¹æŸä¸ªkeyèµ‹å€¼ï¼Œåè¾¹çš„valueä¼šè¦†ç›–å‰é¢çš„value æä¾›äº†å‡ ä¸ªå‡½æ•°ï¼š</p><ol><li>é€šè¿‡<code>in</code>æ¥åˆ¤æ–­keyæ˜¯å¦åœ¨dictä¸­ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œæ ¼å¼ä¸ºï¼š<code>key in dict</code></li><li>get()æ–¹æ³•ï¼Œ<code>dict.get(&#39;key&#39;,ç©ºè¿”å›å€¼)</code>keyä¸å­˜åœ¨æ—¶è¿”å›ç©ºè¿”å›å€¼ï¼Œç©ºè¿”å›å€¼å¯è‡ªå®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰çš„è¯è¿”å›None</li><li>pop()æ–¹æ³•ï¼Œåˆ é™¤keyï¼Œå¦‚æœæœ‰valueä¹Ÿä¸€å¹¶åˆ é™¤ï¼Œæ ¼å¼ä¸º<code>pop(&#39;key&#39;)</code></li></ol><p><strong>â‘¨é›†åˆï¼ˆsetï¼‰</strong></p><p>setæ˜¯ä¸€ç»„keyçš„é›†åˆ,é›†åˆç‰¹ç‚¹ï¼›æ— åºæ€§ã€ç¡®å®šæ€§ã€äº’å¼‚æ€§<br>è¦åˆ›å»ºä¸€ä¸ªsetï¼Œéœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥é›†åˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•ï¼š<br><code>add(key)</code>æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ <br><code>remove(key)</code>åˆ é™¤ä¸€ä¸ªå…ƒç´ </li><li>ä¸¤ä¸ªsetå¯ä»¥åšäº¤è¿ç®—å’Œå¹¶è¿ç®—ï¼š<br>äº¤è¿ç®—ï¼š<code>s1&amp;s2</code><br>å¹¶è¿ç®—ï¼š<code>s1|s2</code></li></ul><h4 id="ç†è§£å˜é‡"><a href="#ç†è§£å˜é‡" class="headerlink" title="ç†è§£å˜é‡"></a>ç†è§£å˜é‡</h4><p>åœ¨Pythonä¸­å˜é‡ä»…ä»…æ˜¯ä¸€ä¸ªä¸€ä¸ªå­—æ¯ï¼Œå˜é‡ä¸æ‰€å¯¹åº”çš„å€¼ä¹‹é—´çš„å…³ç³»é æŒ‡é’ˆè”ç³»èµ·æ¥çš„ã€‚æ‰€ä»¥å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯ï¼š<strong>å½“æˆ‘ä»¬ä½¿ç”¨å˜é‡æ—¶ï¼Œæ›´å¤šçš„è¦å…³æ³¨å˜é‡æŒ‡å‘çš„ä¸œè¥¿ï¼Œä»–å¯èƒ½æ˜¯å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå˜é‡</strong></p><h4 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h4><h4 id="æ¨¡å—å¯¼å…¥"><a href="#æ¨¡å—å¯¼å…¥" class="headerlink" title="æ¨¡å—å¯¼å…¥"></a>æ¨¡å—å¯¼å…¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h4 id="æ¨¡å—ä¸‹è½½"><a href="#æ¨¡å—ä¸‹è½½" class="headerlink" title="æ¨¡å—ä¸‹è½½"></a>æ¨¡å—ä¸‹è½½</h4><p>æ¨¡å—ä¸‹è½½æœ‰æ¯”è¾ƒå¤æ‚çš„æ–¹æ³•ï¼Œä¹Ÿæœ‰æ¯”è¾ƒå‚»ç“œå¼çš„ã€‚å…ˆè¯´å¤æ‚çš„ï¼Œä½¿ç”¨Pythonä¸­è‡ªå¸¦çš„pipåŒ…ç®¡ç†å·¥å…·ï¼Œç”¨å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä½¿ç”¨pipéœ€è¦äº‹å…ˆäº†è§£è¦å¯¼çš„åŒ…çš„åå­—ï¼Œè€Œä¸”ä¸èƒ½æ‰¹é‡å¯¼å…¥ï¼Œè€Œä¸”åœ¨Pythonç¼–ç¨‹é‡Œä¹Ÿæœ‰ç¼–ç¨‹ä¸€åˆ†é’Ÿï¼Œå¯¼åŒ…ä¸€å°æ—¶çš„è¯´æ³•ã€‚pipä¸‹è½½ç¬¬ä¸‰æ–¹åº“çš„æºå¯èƒ½ä¼šå¾ˆæ…¢æˆ–è€…å¤±æ•ˆï¼Œéœ€è¦ä¼šè‡ªå·±æ·»åŠ å›½å†…çš„é«˜é€Ÿé•œåƒã€‚</p><p>å‚»ç“œå¼çš„å¯¼åŒ…ï¼Œä¾‹å¦‚åœ¨pycharmä¸­å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­å†™å‡ºè‡ªå·±éœ€è¦çš„åŒ…ï¼Œç„¶åäº¤ç»™pycharmè‡ªå·±å»ä¸‹è½½ï¼Œæˆ–è€…ç”¨Anacondaæå‰æ„å»ºå¥½çš„Pythonçš„åº“ç¯å¢ƒã€‚</p><h4 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h4><h4 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h4><p><strong>â‘ å‡½æ•°å®šä¹‰</strong></p><p>åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ä¸ºï¼Œ<code>def å‡½æ•°å(å‚æ•°):</code>ç„¶åï¼Œåœ¨ç¼©è¿›å—ä¸­ç¼–å†™å‡½æ•°ä½“ï¼Œå‡½æ•°çš„è¿”å›å€¼ç”¨<code>return</code>è¯­å¥è¿”å›ã€‚<br>å¦‚æœæ²¡æœ‰returnè¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åä¹Ÿä¼šè¿”å›ç»“æœï¼Œåªæ˜¯ç»“æœä¸ºNoneã€‚return Noneå¯ä»¥ç®€å†™ä¸ºreturnã€‚</p><p>1ï¼‰ç©ºå‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">nop</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œ<code>pass</code>ä½œä¸ºå ä½ç¬¦ï¼Œè¡¨ç¤ºè·³è¿‡ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨<code>if</code>çš„ç¼©è¿›å—ã€‚</p><p>2ï¼‰å‚æ•°é™åˆ¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(x, (<span class="built_in">int</span>, <span class="built_in">float</span>)):</span><br><span class="line">      <span class="keyword">raise</span> TypeError(<span class="string">&#x27;bad operand type&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šå‚æ•°é™åˆ¶å°±æ˜¯å®šä¹‰ä¸€ä¸ªæŠ¥é”™ï¼Œ<code>isinstance()</code>åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå¦‚æœä¸æ˜¯å°±æå‡ºä¸€ä¸ªé”™è¯¯ã€‚  <strong>ä½œä¸ºä¸€ä¸ªå¼±ç±»å‹è¯­è¨€ï¼Œå®šä¹‰è¿™ä¸€æ­¥æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œæœ‰åŠ©äºè¯»æ‡‚ä»£ç ã€‚</strong></p><p>3ï¼‰è¿”å›å€¼ï¼š</p><p>Pythonå…è®¸è¿”å›å¤šä¸ªå€¼ï¼Œå…¶è¿”å›çš„å®é™…ä¸Šæ˜¯ä¸€ä¸ªtupleå…ƒç»„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡æ¥æ”¶ã€‚</p><p><strong>â‘¡å‚æ•°å®šä¹‰</strong>  </p><p>åœ¨Pythonä¸­å‡½æ•°å‚æ•°çš„å®šä¹‰ä¹Ÿæ¯”è¾ƒçµæ´»ï¼Œæä¾›ä½ç½®å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°ç­‰</p><p>1ï¼‰ä½ç½®å‚æ•°ï¼šä½ç½®å‚æ•°æŒ‡çš„æ˜¯å‚æ•°åœ¨ä¼ å…¥æ—¶ï¼Œå®å‚å’Œå½¢å‚æœ‰ç€ä¸¥æ ¼çš„ä½ç½®å¯¹åº”å…³ç³»ï¼Œä¸ºå¸¸ç”¨å‚æ•°å½¢å¼ã€‚</p><p>2ï¼‰é»˜è®¤å‚æ•°ï¼šé»˜è®¤å‚æ•°æ˜¯æŒ‡åœ¨ä½ç½®å‚æ•°çš„åŸºç¡€ä¸Šä¸ºå…¶æ·»åŠ é»˜è®¤å€¼ï¼Œæœ‰é»˜è®¤å€¼çš„å‚æ•°ä¸ºé»˜è®¤å‚æ•°ï¼Œæ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°ä¸ºå¿…é€‰å‚æ•°<br>åŸºæœ¬å®šä¹‰å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_def</span>(<span class="params">a,b=<span class="number">1</span></span>):</span><br><span class="line">    a=b+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ul><li>é»˜è®¤å‚æ•°å¿…é¡»åœ¨å¿…é€‰å‚æ•°åè¾¹ï¼Œå¦åˆ™ä¼šæ— æ³•è¾¨è®¤æ˜¯å¦è¾“å…¥å¿…é€‰å‚æ•°ï¼Œä»è€ŒæŠ¥é”™ã€‚</li><li>é»˜è®¤å‚æ•°çš„é»˜è®¤å€¼ä¸€å®šæ˜¯<strong>ä¸å˜å¯¹è±¡</strong>ï¼Œç”±äºPythonä¸­çš„å˜é‡å®šä¹‰ä¸ºæŒ‡é’ˆæŒ‡å‘ï¼Œä¼šå¯¼è‡´å¯å˜å¯¹è±¡å€¼å‘ç”Ÿå˜åŒ–</li></ul><p>3ï¼‰ä¸å¯å˜å¯¹è±¡æœ‰ï¼šæ•°å€¼ç±»å‹ã€å­—ç¬¦ä¸²ã€tupleå…ƒç»„ã€Noneç­‰</p><p>4ï¼‰å¯å˜å‚æ•°ï¼šå¯å˜å‚æ•°æŒ‡çš„æ˜¯å‚æ•°çš„æ•°ç›®ä¸å›ºå®šï¼Œå®šä¹‰å½¢å¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">*v</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> vi <span class="keyword">in</span> v:</span><br><span class="line">        <span class="built_in">sum</span>+=vi</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure><p>åœ¨å¯å˜å‚æ•°ä¸­ä¼ å…¥çš„æ‰€æœ‰å‚æ•°å°†ä½œä¸ºä¸€ä¸ªtupleè¢«æ¥æ”¶ï¼Œè¯¥tupleçš„å˜é‡åä¸ºå‡½æ•°åœ¨å®šä¹‰æ—¶çš„å½¢å‚åï¼Œå®šä¹‰æ—¶çš„éœ€è¦åœ¨å‚æ•°åå‰åŠ ä¸€ä¸ª<code>*</code>ã€‚</p><p>5ï¼‰å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°</p><p>æ­¤å¤„çš„å…³é”®å­—å’Œcè¯­è¨€ä¸­çš„å…³é”®å­—å¹¶ä¸æ˜¯ä¸€ä¸ªæ„ä¹‰ï¼Œè€Œæ˜¯åœ¨dictä¸­çš„keyçš„æ„ä¹‰ã€‚å³åœ¨ä¼ é€’å‚æ•°æ—¶ï¼ŒåŒæ—¶ä¼ é€’é”®ï¼ˆkeyï¼‰å’Œå€¼(value),Pythonä¼šè‡ªåŠ¨å°è£…ä¸ºä¸€ä¸ªdictã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">**v</span>):</span><br><span class="line">    <span class="built_in">print</span>(v)</span><br><span class="line">    <span class="keyword">return</span> </span><br></pre></td></tr></table></figure><p>6ï¼‰å‘½åå…³é”®å­—å‚æ•°</p><p>åœ¨å…³é”®å­—å‚æ•°ä¸Šï¼Œè¿›ä¸€æ­¥é™åˆ¶ä¼ å…¥çš„keyçš„å‘½åï¼Œå°±æœ‰äº†å‘½åå…³é”®è¯å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, *, city, job</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age, city, job)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦ä¸€ä¸ª<code>*</code>åŒºåˆ†ä½ç½®å‚æ•°ä¸å‘½åå…³é”®å­—å‚æ•°ï¼Œå¦‚æœåœ¨è¿™ä¹‹å‰æœ‰å¯å˜å‚æ•°ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åŠ <code>*</code>ã€‚<br>å‘½åå…³é”®å­—å‚æ•°å¿…é¡»ä¼ å…¥å‚æ•°åï¼Œè¿™å’Œä½ç½®å‚æ•°ä¸åŒã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥å‚æ•°åï¼Œè°ƒç”¨å°†æŠ¥é”™ï¼š</p><p>7ï¼‰å‚æ•°ç»„åˆ</p><p>åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ä½¿ç”¨å¤šä¸ªå‚æ•°è¦ä¿è¯å…¶ä¸­çš„é¡ºåºï¼Œä¾æ¬¡ä¸ºï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">onefunction</span>(<span class="params">a,b,c=<span class="number">0</span>,*args,job,city,**kw</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>tipsï¼š  </p><ul><li>ä½¿ç”¨<code>*args</code>å’Œ<code>**kw</code>æ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ã€‚</li><li>å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°æœ‰ä¸€ç‚¹å±‚çº§çš„æ„Ÿè§‰ï¼Œä¸­é—´åŒ…è£¹çš„æ˜¯å‘½åå…³é”®å­—å‚æ•°è¿™ä¸ªæ¯”è¾ƒå°´å°¬çš„å‚æ•°ã€‚</li></ul><p><strong>â‘¢é€’å½’å‡½æ•°</strong></p><p>å†™æ³•ä¸Javaç›¸åŒã€‚</p><h4 id="å®ç”¨æ–¹æ³•"><a href="#å®ç”¨æ–¹æ³•" class="headerlink" title="å®ç”¨æ–¹æ³•"></a>å®ç”¨æ–¹æ³•</h4><p><strong>â‘ åˆ‡ç‰‡</strong></p><p>åˆ‡ç‰‡æ˜¯ä¸€ä¸ªé’ˆå¯¹tupleå’Œlistæ–¹ä¾¿åœ°å–å…ƒç´ çš„æ–¹æ³•ï¼Œè¯­æ³•è§„åˆ™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L[èµ·å§‹åæ ‡:ç»ˆæ­¢åæ ‡:æ­¥é•¿]</span><br></pre></td></tr></table></figure><p>å½“èµ·å§‹åæ ‡ä¸º0æ—¶å¯ä»¥çœç•¥ï¼›æ­¥é•¿ä¸º1æ—¶å¯ä»¥çœç•¥ã€‚</p><p><strong>â‘¡è¿­ä»£</strong></p><p>è¿­ä»£æ˜¯å¾ªç¯çš„å¢å¼ºï¼Œä½†æ˜¯æƒ³è¦å¼„æ¸…è¿­ä»£ï¼Œéœ€è¦çŸ¥é“ä¸¤ä»¶äº‹ï¼šä¸€ä¸ªæ˜¯èƒ½ä¸èƒ½è¿­ä»£ï¼Œä¸€ä¸ªæ˜¯è¿­ä»£å‡ºçš„æ•°æ®æ˜¯ä»€ä¹ˆ</p><p>æƒ³è¦çŸ¥é“ä¸€ä¸ªæ•°æ®èƒ½å¦è¿­ä»£å¯ä»¥é€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥å®Œæˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line">L=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">isinstance</span>(L,Iterable)</span><br></pre></td></tr></table></figure><p>è¿­ä»£å‡ºçš„æ˜¯ä»€ä¹ˆï¼Œå’Œè¦è¿­ä»£çš„å¯¹è±¡çš„å‚¨å­˜æ–¹å¼ï¼Œè¦ç‰¹æ®Šè®°å¿†ä¸€ä¸‹dicã€‚</p><p><strong>â‘¢ åˆ—è¡¨ç”Ÿæˆå™¨</strong></p><p>ä¸€ç§å¿«æ·ç”Ÿæˆlistçš„æ–¹å¼ï¼Œä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)]</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦ç­›é€‰ç”Ÿæˆçš„å€¼ï¼Œå¯ä»¥åœ¨<code>for</code>ååŠ ä¸Š<code>if</code>ä½œä¸º<strong>ç­›é€‰æ¡ä»¶</strong>ï¼Œæ³¨æ„è¿™é‡Œæ˜¯ç­›é€‰æ¡ä»¶ï¼Œ å› æ­¤è¿™é‡Œå’Œå¹³æ—¶çš„<code>if else</code>å¹¶ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br></pre></td></tr></table></figure><p><strong>â‘£ ç”Ÿæˆå™¨</strong></p><p>ç”Ÿæˆå™¨æ˜¯ä¸€ç§æƒ°æ€§çš„è®¡ç®—æ–¹å¼ã€‚åŒ…å«<code>yield</code>å…³é”®å­—ï¼Œå½“ä¸€ä¸ªå‡½æ•°åŒ…å«<code>yield</code>å…³é”®å­—æ—¶ï¼Œä»–å°±æˆäº†ä¸€ä¸ªgeneratorå‡½æ•°ã€‚<code>yield</code>åœ¨generatorå‡½æ•°ä¸­èµ·åˆ°äº†ä¸€ä¸ªreturnçš„ä½œç”¨ï¼Œå³åˆ°<code>yield</code>ä¾¿è¿”å›ã€‚ åœ¨è°ƒç”¨æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥å—ä¸€ä¸ªgeneratorå¯¹è±¡ã€‚ä½¿ç”¨<code>next()</code>å‡½æ•°ä¾æ¬¡è·å¾—ä¸‹ä¸€ä¸ªè¿”å›å€¼ã€‚</p><p><strong>â‘¤è¿­ä»£å™¨</strong></p><p>åŒºåˆ†<code>Iterable</code>å’Œ<code>Iterator</code></p><p><code>Iterable</code>æ˜¯å¯è¿­ä»£çš„ï¼Œæ˜¯ç›´æ¥å¯ç”¨äº<code>for</code>å¾ªç¯çš„ã€‚åŒ…æ‹¬dictã€listã€tupleã€setã€strã€greneratorã€‚<br><code>Iterator</code>æ˜¯è¿­ä»£å™¨ï¼Œæ˜¯ç›´æ¥å¯ç”¨äº<code>next()</code>å‡½æ•°çš„ï¼Œç”Ÿæˆå™¨éƒ½æ˜¯<code>Iterator</code>å¯¹è±¡ï¼Œé›†åˆæ•°æ®ç±»å‹å¯ä»¥é€šè¿‡<code>iter()</code>è·å–<code>Interator</code>å¯¹è±¡ã€‚</p><h4 id="å‡½æ•°å¼ç¼–ç¨‹-1"><a href="#å‡½æ•°å¼ç¼–ç¨‹-1" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h4><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹æ€æƒ³ï¼Œå®é™…ä¸Šæ˜¯å°†å¤æ‚é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªä¸ªå‡½æ•°ã€‚</p><p>åœ¨Javaçš„å‡½æ•°å®šä¹‰ä¸­ï¼Œé™¤å»<code>void</code>ç±»å‹ä¸è¿”å›å€¼ï¼Œå…¶ä½™çš„éƒ½éœ€è¦è¿”å›å€¼ã€‚å› æ­¤ä¹Ÿå°±ç»å¸¸å­˜åœ¨ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥å—å‡½æ•°å€¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">function</span><span class="params">(x,y)</span>&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> a=function(x,y);</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæ˜¯ä¸æ˜¯å­˜åœ¨ä¸€ç§å¯èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°åµŒå¥—ï¼Œè®©å‡½æ•°è°ƒç”¨å‡½æ•°ï¼Œè®©å‡½æ•°è¿”å›å‡½æ•°ï¼Œå½»åº•æŠ›å¼ƒå˜é‡ï¼Ÿ</p><p>æŠ›å¼ƒå˜é‡ã€åªæœ‰å‡½æ•°å°±æ˜¯å½»åº•çš„å‡½æ•°å¼ç¼–ç¨‹</p><p><strong>â‘ ç†è§£é«˜é˜¶å‡½æ•°</strong></p><p>ä¹‹å‰æœ‰è¿‡å˜é‡åå’Œå€¼çš„ç†è§£ï¼Œåœ¨Pythonä¸­å˜é‡åå’Œå€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…³ç³»ã€‚åŒç†ï¼Œå‡½æ•°åå’Œå‡½æ•°ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œå‡½æ•°åä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°åï¼Œæ‹¿åˆ°å‡½æ•°ä½“ã€‚ä¹Ÿå°±æ˜¯è¯´å‡½æ•°åæ˜¯ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼Œæˆ‘ä»¬çœ‹ä¸­çš„æ˜¯å‡½æ•°ä½“ã€‚</p><p>![ç»˜å›¾1](<a href="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/">https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/</a> typora&#x2F;%E7%BB%98%E5%9B%BE1.png)</p><p>é‚£ä¹ˆè®¾æƒ³ä¸€ç§æƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬å®šä¹‰äº†å‡½æ•°f2ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥éšä¾¿å†™ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªå˜é‡f2ï¼Œé‚£ä¹ˆå®é™…ä¸Šæˆ‘å°±æ‹¿åˆ°äº†å‡½æ•°ä½“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f3</span>():</span><br><span class="line">    <span class="keyword">return</span> f2</span><br><span class="line"><span class="built_in">print</span>(f3()(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220909173741530.png" alt="image-20220909173741530"></p><p>ç„¶åæˆ‘ä»¬åœ¨è®¾æƒ³å¦ä¸€ç§æƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬å®šä¹‰äº†å¦ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å†™äº†ä¸€ä¸ªf1ä½œä¸ºå±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ä¼ å…¥å˜é‡f2ï¼Œç„¶åå°±ç›¸å½“äºä¼ å…¥äº†å‡½æ•°ä½“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>(<span class="params">a,b,f</span>):</span><br><span class="line">    <span class="keyword">return</span> f(a,b)</span><br><span class="line"><span class="built_in">print</span>(f1(<span class="number">1</span>,<span class="number">2</span>,f2))</span><br></pre></td></tr></table></figure><p>ç°åœ¨å°±å¯ä»¥è¿›è¡Œä¸€ä¸ªåŒºåˆ†ï¼š</p><ul><li><code>f</code>ä»£è¡¨å‡½æ•°åï¼Œæ˜¯å˜é‡</li><li><code>f()</code>ä»£è¡¨æ•°å€¼ï¼Œæ˜¯å‡½æ•°çš„è¿”å›å€¼ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªé‡</li></ul><p>é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯è®©å‡½æ•°çš„å‚æ•°èƒ½å¤Ÿæ¥æ”¶åˆ«çš„å‡½æ•°ã€‚</p><p>å®ç”¨çš„å‡ ä¸ªå‡½æ•°ï¼Œæœ‰å¿…è¦æŸ¥è¡¨å³å¯</p><p><strong>â‘¡è¿”å›å‡½æ•°</strong></p><p>åŒä¸Šæ–‡ç†è§£ï¼Œåªä¸è¿‡æ˜¯å°†ä¸€ä¸ªå‡½æ•°åµŒå¥—å…¥äº†å¦ä¸€ä¸ªå‡½æ•°</p><p><strong>â‘¢ lambdaè¡¨è¾¾å¼</strong></p><p>ä¸Javaä¸­è¯­æ³•ç›¸åŒï¼Œç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–è¿”å›å‡½æ•°åµŒå¥—</p><h4 id="é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹</h4><h4 id="ç±»å’Œå¯¹è±¡"><a href="#ç±»å’Œå¯¹è±¡" class="headerlink" title="ç±»å’Œå¯¹è±¡"></a>ç±»å’Œå¯¹è±¡</h4><p>åˆ›å»ºç±»ï¼šè¯­æ³•å¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ç±»å</span>(<span class="title class_ inherited__">ç»§æ‰¿çš„ç±»</span>):</span><br></pre></td></tr></table></figure><p>pythonçš„ç±»éå¸¸éšæ„ï¼Œå‡ ä¹å¯ä»¥ä¸å®šä¹‰å°±èƒ½ç”¨ã€‚åœ¨ç±»ä¸­è‡ªå¸¦æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°<code>__init__()</code>,æ­¤å‡½æ•°å¯ä»¥é‡æ–°å®šä¹‰</p><p>ç”Ÿæˆå¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=A()</span><br></pre></td></tr></table></figure><h4 id="è®¿é—®æƒé™"><a href="#è®¿é—®æƒé™" class="headerlink" title="è®¿é—®æƒé™"></a>è®¿é—®æƒé™</h4><p>å¦‚æœè¦è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥æŠŠå±æ€§çš„åç§°å‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿<code>__</code>ï¼Œåœ¨Pythonä¸­ï¼Œå®ä¾‹çš„å˜é‡åå¦‚æœä»¥<code>__</code>å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ã€‚</p><p>æ­¤å¤–ï¼Œ<code>__ __</code>è¿™ç§å˜é‡éƒ½æ˜¯ç‰¹æ®Šå˜é‡ï¼Œåœ¨ä¸æ¸…æ¥šçš„æ—¶å€™ä¸è¦éšä¾¿ä¹±æ”¹</p><h4 id="ç»§æ‰¿å’Œå¤šæ€"><a href="#ç»§æ‰¿å’Œå¤šæ€" class="headerlink" title="ç»§æ‰¿å’Œå¤šæ€"></a>ç»§æ‰¿å’Œå¤šæ€</h4><p>å’ŒJavaä¸­çš„æ€æƒ³å®Œå…¨ç›¸åŒ</p><h4 id="å¸¸ç”¨å˜é‡å’Œæ–¹æ³•"><a href="#å¸¸ç”¨å˜é‡å’Œæ–¹æ³•" class="headerlink" title="å¸¸ç”¨å˜é‡å’Œæ–¹æ³•"></a>å¸¸ç”¨å˜é‡å’Œæ–¹æ³•</h4><p>â‘ <code>__slots__</code></p><p>ç”¨è¿™ä¸ªå˜é‡å¯ä»¥èµ·åˆ°å‚æ•°åˆ—è¡¨çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶å‚æ•°çš„å˜é‡åï¼Œç”¨turpleè¿›è¡Œé™å®š</p><p>â‘¡<code>@property</code></p><p>æ³¨è§£ç¼–ç¨‹ï¼Œå¯ä»¥èµ·åˆ°ä¸€ä¸ªç®€åŒ–å®šä¹‰setterå’Œgetterå‡½æ•°çš„ä½œç”¨ã€‚@propertyæ³¨è§£åœ¨getteræ–¹æ³•ä¸Šï¼Œç„¶åä¼šè‡ªåŠ¨ç”Ÿæˆ @å‡½æ•°å.setter çš„æ³¨è§£ï¼Œä½†æ˜¯è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨getterä¸­å°±ä¸èƒ½ä½¿ç”¨å‡½æ•°åä½œä¸ºè‡ªèº«çš„è°ƒç”¨å€¼ï¼Œå¦åˆ™ä¼šå‡ºç°æ— é™çš„è°ƒç”¨ï¼Œäº§ç”Ÿçˆ†æ ˆã€‚</p><p>â‘¢å¤šç»§æ‰¿</p><p>ä¸Javaç›¸åŒ</p><p>â‘¤<code>__str__</code>:å’ŒJavaä¸­çš„toStringæ–¹æ³•ç›¸åŒ</p><h4 id="é”™è¯¯è°ƒè¯•"><a href="#é”™è¯¯è°ƒè¯•" class="headerlink" title="é”™è¯¯è°ƒè¯•"></a>é”™è¯¯è°ƒè¯•</h4><h4 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h4><p>å‚ç…§Javaä¸­ï¼Œå¯¹æ¯”æ¥å­¦ä¹ å³å¯ï¼š</p><p>ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯å°è¯•ï¼ŒäºŒæ˜¯æŠ›å‡ºï¼Œå°è¯•é‡‡ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span> baseexception  :</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>æŠ›å‡ºé‡‡ç”¨<code>raise</code>å…³é”®å­—</p><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p>â‘ æ–­è¨€ï¼š<code>assert</code>çš„æ„æ€æ˜¯ï¼Œè¡¨è¾¾å¼<code>n != 0</code>åº”è¯¥æ˜¯<code>True</code>ï¼Œå¦åˆ™ï¼Œæ ¹æ®ç¨‹åºè¿è¡Œçš„é€»è¾‘ï¼Œåé¢çš„ä»£ç è‚¯å®šä¼šå‡ºé”™ã€‚</p><p>å¦‚æœæ–­è¨€å¤±è´¥ï¼Œ<code>assert</code>è¯­å¥æœ¬èº«å°±ä¼šæŠ›å‡º<code>AssertionError</code></p><p>â‘¡æ–­ç‚¹ï¼šåœ¨å¼ºå¤§IDEçš„è¾…åŠ©ä¸‹ï¼Œä½¿ç”¨æ–­ç‚¹è°ƒè¯•åº”è¯¥æ˜¯æœ€ç®€å•çš„ã€‚</p><h3 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h3><h4 id="çŸ³å¤´å‰ªå­å¸ƒ"><a href="#çŸ³å¤´å‰ªå­å¸ƒ" class="headerlink" title="çŸ³å¤´å‰ªå­å¸ƒ"></a>çŸ³å¤´å‰ªå­å¸ƒ</h4><p>ä½¿ç”¨randomåŒ…ä¸­çš„randomå‡½æ•°å’Œæ¡ä»¶æ§åˆ¶è¯­å¥ï¼Œæ¨¡æ‹Ÿä¸¤ä¸ªç”µè„‘äº’ç›¸çŒœæ‹³ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">win</span>(<span class="params">pc,cc</span>):</span><br><span class="line">    <span class="keyword">if</span> (cc==<span class="number">1</span> <span class="keyword">and</span> pc==<span class="number">2</span>) <span class="keyword">or</span> (cc==<span class="number">2</span> <span class="keyword">and</span> pc==<span class="number">3</span>)<span class="keyword">or</span>(cc==<span class="number">3</span> <span class="keyword">and</span> pc==<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘ä¸€è¾“&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> pc==cc:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¹³&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘äºŒè¾“&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">computer_choice</span>():</span><br><span class="line">    cc=random.randint(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> cc</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">pc,cc</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘ä¸€çš„å‡ºæ‹›ä¸º&quot;</span>,pc)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘äºŒçš„å‡ºæ‹›ä¸º&quot;</span>,cc)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        pc=computer_choice()</span><br><span class="line">        cc=computer_choice()</span><br><span class="line">        show(pc,cc)</span><br><span class="line">        win(pc,cc)</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914212607801.png" alt="image-20220914212607801"></p><p>æ”¹è¿›æå‡ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">win</span>(<span class="params">pc,cc</span>):</span><br><span class="line">    <span class="keyword">if</span> (cc==<span class="number">1</span> <span class="keyword">and</span> pc==<span class="number">2</span>) <span class="keyword">or</span> (cc==<span class="number">2</span> <span class="keyword">and</span> pc==<span class="number">3</span>)<span class="keyword">or</span>(cc==<span class="number">3</span> <span class="keyword">and</span> pc==<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç©å®¶è¾“&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> pc==cc:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¹³&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç©å®¶èµ¢&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">computer_choice</span>():</span><br><span class="line">    cc=random.randint(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> cc</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">str</span>(<span class="params">cc</span>):</span><br><span class="line">    <span class="keyword">if</span> cc==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;çŸ³å¤´&#x27;</span></span><br><span class="line">    <span class="keyword">elif</span> cc==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;å‰ªåˆ€&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;å¸ƒ&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">f,pc,cc</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘ä¸€çš„å‡ºæ‹›ä¸º&quot;</span>,f(pc))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç”µè„‘äºŒçš„å‡ºæ‹›ä¸º&quot;</span>,f(cc))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        cc=computer_choice()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è¯·è¾“å…¥ï¼š1.çŸ³å¤´ 2.å‰ªåˆ€ 3.å¸ƒ&quot;</span>)</span><br><span class="line">        pc=<span class="built_in">input</span>()</span><br><span class="line">        show(<span class="built_in">str</span>,pc,cc)</span><br><span class="line">        win(pc,cc)</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914213324805.png" alt="image-20220914213324805"></p><h4 id="ATMæ¨¡æ‹Ÿ"><a href="#ATMæ¨¡æ‹Ÿ" class="headerlink" title="ATMæ¨¡æ‹Ÿ"></a>ATMæ¨¡æ‹Ÿ</h4><p>é€šè¿‡ç±»å’Œå¯¹è±¡ç®€å•çš„è®¾è®¡äº†ä¸€ä¸ªATMå–é’±æ¨¡æ‹Ÿå™¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Account</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ATM</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,money,accounts</span>):</span><br><span class="line">        self.money=money</span><br><span class="line">        self.accounts=accounts</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">money</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._money;</span><br><span class="line"><span class="meta">    @money.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">money</span>(<span class="params">self,value</span>):</span><br><span class="line">        self._money=value</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">accounts</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._accounts</span><br><span class="line"><span class="meta">    @accounts.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">accounts</span>(<span class="params">self,value</span>):</span><br><span class="line">        self._accounts=value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchId</span>(<span class="params">self,<span class="built_in">id</span></span>):</span><br><span class="line">        <span class="keyword">for</span> account <span class="keyword">in</span> self.accounts:</span><br><span class="line">            <span class="keyword">if</span> account.<span class="built_in">id</span>==<span class="built_in">id</span>:</span><br><span class="line">                <span class="keyword">return</span> account</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lode</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;è¯·è¾“å…¥è´¦å·id&#x27;</span>)</span><br><span class="line">        <span class="built_in">id</span> = <span class="built_in">input</span>()</span><br><span class="line">        account1 = self.searchId(<span class="built_in">id</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;è¯·è¾“å…¥å¯†ç &#x27;</span>)</span><br><span class="line">        password = <span class="built_in">input</span>()</span><br><span class="line">        <span class="keyword">if</span> password == account1.password:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿&quot;</span>, account1.name)</span><br><span class="line">        <span class="keyword">return</span> account1</span><br><span class="line">    <span class="comment"># å­˜é’±</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_money</span>(<span class="params">self</span>):</span><br><span class="line">        account=self.lode();</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è¯·è¾“å…¥è¦å­˜å…¥çš„æ•°ç›®&quot;</span>)</span><br><span class="line">        saveMneyValue=<span class="built_in">input</span>()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;å­˜æ¬¾æˆåŠŸ&#x27;</span>)</span><br><span class="line">        account.remain=<span class="built_in">int</span>(account.remain)+<span class="built_in">int</span>(saveMneyValue)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;æ‚¨çš„è´¦æˆ·ä½™é¢ä¸º&#x27;</span>,account.remain)</span><br><span class="line">        self.money=self.money+<span class="built_in">int</span>(saveMneyValue)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å–é’±</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">withdraw_money</span>(<span class="params">self</span>):</span><br><span class="line">        account=self.lode()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;è¯·è¾“å…¥è¦å–å‡ºçš„æ•°ç›®&#x27;</span>)</span><br><span class="line">        withdrawMoneyValue=<span class="built_in">input</span>()</span><br><span class="line">        <span class="keyword">if</span> account.remain &gt; withdrawMoneyValue:</span><br><span class="line">            account.remain=<span class="built_in">int</span>(account.remain)-<span class="built_in">int</span>(withdrawMoneyValue)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å–æ¬¾æˆåŠŸï¼Œæ‚¨çš„è´¦æˆ·ä½™é¢ä¸º&#x27;</span>,account.remain)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;æ‚¨çš„è´¦æˆ·ä½™é¢ä¸è¶³&#x27;</span>)</span><br><span class="line">        self.money=<span class="built_in">int</span>(self.money)-<span class="built_in">int</span>(withdrawMoneyValue)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å½“å‰ATMä¸­æœ‰é‡‘é¢&quot;</span>,self.money,<span class="string">&quot;å…ƒ&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># atm1=ATM(1000)</span></span><br><span class="line">    <span class="comment"># atm1.__str__()</span></span><br><span class="line">    <span class="comment"># atm1.ave_money(200)</span></span><br><span class="line">    <span class="comment"># atm1.__str__()</span></span><br><span class="line">    <span class="comment"># atm1.withdraw_money(200)</span></span><br><span class="line">    <span class="comment"># atm1.__str__()</span></span><br><span class="line">    accounts=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        name=<span class="built_in">input</span>()</span><br><span class="line">        <span class="built_in">id</span> = <span class="built_in">input</span>()</span><br><span class="line">        password=<span class="built_in">input</span>()</span><br><span class="line">        remain=<span class="built_in">input</span>()</span><br><span class="line">        accounts.append(Account.account(name, <span class="built_in">id</span>, password, remain))</span><br><span class="line">    atm2=ATM(<span class="number">10000</span>,accounts)</span><br><span class="line">    atm2.save_money()</span><br><span class="line">    atm2.withdraw_money()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">account</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,<span class="built_in">id</span>,password,remain</span>):</span><br><span class="line">        self.name=name</span><br><span class="line">        self.remain=remain</span><br><span class="line">        self.password=password</span><br><span class="line">        self.<span class="built_in">id</span>=<span class="built_in">id</span></span><br><span class="line"></span><br><span class="line">    __slots__ = (<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;remain&#x27;</span>,<span class="string">&#x27;password&#x27;</span>,<span class="string">&#x27;id&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914214759256.png" alt="image-20220914214759256"></p><h4 id="åœ£è¯æ ‘ç”»å›¾"><a href="#åœ£è¯æ ‘ç”»å›¾" class="headerlink" title="åœ£è¯æ ‘ç”»å›¾"></a>åœ£è¯æ ‘ç”»å›¾</h4><p>ä½¿ç”¨Pythonè‡ªå¸¦çš„turtleåŒ…ï¼Œè¿›è¡Œåœ£è¯æ ‘ç»˜åˆ¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line"></span><br><span class="line">screen = turtle.Screen()</span><br><span class="line">screen.setup(<span class="number">375</span>, <span class="number">700</span>)</span><br><span class="line"></span><br><span class="line">circle = turtle.Turtle()</span><br><span class="line">circle.shape(<span class="string">&#x27;circle&#x27;</span>)</span><br><span class="line">circle.color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">circle.speed(<span class="string">&#x27;fastest&#x27;</span>)</span><br><span class="line">circle.up()</span><br><span class="line"></span><br><span class="line">square = turtle.Turtle()</span><br><span class="line">square.shape(<span class="string">&#x27;square&#x27;</span>)</span><br><span class="line">square.color(<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">square.speed(<span class="string">&#x27;fastest&#x27;</span>)</span><br><span class="line">square.up()</span><br><span class="line"></span><br><span class="line">circle.goto(<span class="number">0</span>, <span class="number">280</span>)</span><br><span class="line">circle.stamp()</span><br><span class="line"></span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">13</span>):</span><br><span class="line">    y = <span class="number">30</span> * i</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i - k):</span><br><span class="line">        x = <span class="number">30</span> * j</span><br><span class="line">        square.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line">        square.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">4</span> == <span class="number">0</span>:</span><br><span class="line">        x = <span class="number">30</span> * (j + <span class="number">1</span>)</span><br><span class="line">        circle.color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">        circle.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line">        circle.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line">        k += <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">4</span> == <span class="number">3</span>:</span><br><span class="line">        x = <span class="number">30</span> * (j + <span class="number">1</span>)</span><br><span class="line">        circle.color(<span class="string">&#x27;yellow&#x27;</span>)</span><br><span class="line">        circle.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line">        circle.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        circle.stamp()</span><br><span class="line"></span><br><span class="line">square.color(<span class="string">&#x27;brown&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">13</span>, <span class="number">17</span>):</span><br><span class="line">    y = <span class="number">30</span> * i</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        x = <span class="number">30</span> * j</span><br><span class="line">        square.goto(x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line">        square.goto(-x, -y + <span class="number">280</span>)</span><br><span class="line">        square.stamp()</span><br><span class="line">turtle.mainloop()</span><br></pre></td></tr></table></figure><p><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/image-20220914215352995.png" alt="image-20220914215352995"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>Pythonä½œä¸ºä¸€ä¸ªå¼±ç±»å‹è¯­è¨€ï¼Œæ˜¯æœ‰ä»–çš„å¼Šç«¯çš„ï¼Œåœ¨ä¸€äº›éœ€è¦æ•°æ®ç±»å‹è½¬æ¢å’Œä¸¥æ ¼æ§åˆ¶æ•°æ®ç±»å‹çš„æƒ…å†µä¸‹ï¼Œä¼šéå¸¸éš¾å—ã€‚è€ŒPythonæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºæœ‰å¤§é‡çš„åº“ï¼Œè¿™äº›åº“åœ¨ç‰¹å®šçš„ç¼–ç¨‹é¢†åŸŸä¼šéå¸¸ä¾¿åˆ©ã€‚Pythonæœ¬èº«çš„è¯­è¨€å…·æœ‰æå¼ºçš„çµæ´»æ€§ï¼Œè€Œçµæ´»æ€§çš„è¨€å¤–ä¹‹æ„å°±æ˜¯è§„èŒƒæ€§å¾ˆéš¾ç¡®å®šã€‚å› æ­¤ï¼ŒPythonçš„é‡ç‚¹æ˜¯å°†ç¬¬ä¸‰æ–¹åŒ…ä¸ºæˆ‘æ‰€ç”¨ï¼Œåœ¨æ•°å€¼è®¡ç®—ä¸­å‘æŒ¥ä»–æœ€å¤§çš„ä½œç”¨ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æš‘æœŸPythonå­¦ä¹ ï¼ˆå››ï¼‰</title>
      <link href="/2022/07/18/day-4/"/>
      <url>/2022/07/18/day-4/</url>
      
        <content type="html"><![CDATA[<h1 id="å‡½æ•°é«˜çº§ç‰¹æ€§"><a href="#å‡½æ•°é«˜çº§ç‰¹æ€§" class="headerlink" title="å‡½æ•°é«˜çº§ç‰¹æ€§"></a>å‡½æ•°é«˜çº§ç‰¹æ€§</h1><h2 id="åˆ‡ç‰‡ï¼ˆSliceï¼‰"><a href="#åˆ‡ç‰‡ï¼ˆSliceï¼‰" class="headerlink" title="åˆ‡ç‰‡ï¼ˆSliceï¼‰"></a>åˆ‡ç‰‡ï¼ˆSliceï¼‰</h2><p>åˆ‡ç‰‡æ˜¯ä¸€ä¸ªé’ˆå¯¹tupleå’Œlistæ–¹ä¾¿åœ°å–å…ƒç´ çš„æ–¹æ³•ï¼Œä¸‹é¢ä¸¾ä¾‹è¯´æ˜ï¼š</p><ol><li>å–å‡ºlist Lä¸­çš„0åˆ°3ä¸ªå…ƒç´ </li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L[<span class="number">0</span>:<span class="number">3</span>]</span><br></pre></td></tr></table></figure><p>å½“å–å‡ºå…ƒç´ ä»ç¬¬0ä¸ªå¼€å§‹æ—¶ï¼Œç¬¬ä¸€ä¸ªæ•°å­—å¯ä»¥ç¼ºçœ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L[:<span class="number">3</span>]</span><br></pre></td></tr></table></figure><ol><li>å–å‡ºå€’æ•°åä¸‰ä¸ªå…ƒç´ <br>åœ¨Pythonä¸­å…è®¸ä½¿ç”¨<code>L[-1]</code>æ¥å–å‡ºå€’æ•°ç¬¬ä¸€ä¸ªæ•°ï¼Œå› æ­¤å¯ä»¥è¿™æ ·å€’ç€å–ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L[-<span class="number">3</span>:]</span><br></pre></td></tr></table></figure><ol><li>æ¯ä¸¤ä¸ªæ•°å–ä¸€ä¸ªæ•°<br>åˆ‡ç‰‡çš„æœ€åä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ­¥é•¿ï¼Œæ­¥é•¿ä¸ºå¤šå°‘å°±éš”å‡ ä¸ªæ•°å­—ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L[:<span class="number">10</span>:<span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²å’ŒtupleåŒæ ·å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼Œåªä¸è¿‡è¿”å›å€¼ä¸ºå¯¹åº”ç±»å‹ã€‚</p><h2 id="è¿­ä»£ï¼ˆIterationï¼‰"><a href="#è¿­ä»£ï¼ˆIterationï¼‰" class="headerlink" title="è¿­ä»£ï¼ˆIterationï¼‰"></a>è¿­ä»£ï¼ˆIterationï¼‰</h2><p>Pythonçš„è¿­ä»£ç›¸æ¯”cæˆ–è€…Javaæ¥è¯´ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼Œé™¤äº†å¯ä»¥è¿­ä»£listï¼Œè¿˜å¯ä»¥è¿­ä»£dictè¿™ç§æ— ä¸‹æ ‡çš„æ•°æ®ç±»å‹ã€‚<br>æƒ³è¦çŸ¥é“ä¸€ä¸ªæ•°æ®èƒ½å¦è¿­ä»£å¯ä»¥é€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥å®Œæˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line">L=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">isinstance</span>(L,Iterable)</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¯´æ˜dictå¦‚ä½•è¿­ä»£ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="comment"># è¿­ä»£key</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span>(key)</span><br><span class="line"><span class="comment"># è¿­ä»£value</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> d.values():</span><br><span class="line">    <span class="built_in">print</span>(value)</span><br><span class="line"><span class="comment"># è¿­ä»£keyå’Œvalue</span></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.items:</span><br><span class="line">    <span class="built_in">print</span>(k)</span><br><span class="line">    <span class="built_in">print</span>(v)</span><br></pre></td></tr></table></figure><p>éœ€è¦ç†è§£çš„æ˜¯ï¼Œè¿™é‡Œçš„keyï¼Œvalueï¼Œkï¼Œvéƒ½æ˜¯forå¾ªç¯ä¸­çš„å½¢å‚ï¼Œæ²¡æœ‰å®é™…æ„ä¹‰ã€‚ä¹Ÿå°±æ˜¯è¯´å½“<code>in d</code>çš„æ—¶å€™é»˜è®¤å°±æ˜¯å–<code>key</code> ã€‚å½“è¦è¿­ä»£å…¶ä»–çš„æ—¶å€™åªéœ€è¦æ›´æ”¹<code>in</code>çš„åé¢ã€‚æˆ‘çŒœæµ‹è¿™å¯èƒ½ä¸dictçš„å­˜å‚¨æ–¹å¼æœ‰å…³ã€‚</p><p>å¤šä¸ªå…ƒç´ åŒæ—¶è¿­ä»£åœ¨å…¶ä»–listä¸­ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l=&#123;(<span class="number">1</span>,<span class="number">2</span>),(<span class="number">3</span>,<span class="number">4</span>),(<span class="number">5</span>,<span class="number">6</span>)&#125;</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> l:</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> l:</span><br><span class="line">    <span class="built_in">print</span>(x,y)</span><br></pre></td></tr></table></figure><h2 id="åˆ—è¡¨ç”Ÿæˆå¼"><a href="#åˆ—è¡¨ç”Ÿæˆå¼" class="headerlink" title="åˆ—è¡¨ç”Ÿæˆå¼"></a>åˆ—è¡¨ç”Ÿæˆå¼</h2><p>ä¸€ç§å¿«æ·ç”Ÿæˆlistçš„æ–¹å¼ï¼Œä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)]</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦ç­›é€‰ç”Ÿæˆçš„å€¼ï¼Œå¯ä»¥åœ¨<code>for</code>ååŠ ä¸Š<code>if</code>ä½œä¸º<strong>ç­›é€‰æ¡ä»¶</strong>ï¼Œæ³¨æ„è¿™é‡Œæ˜¯ç­›é€‰æ¡ä»¶ï¼Œ å› æ­¤è¿™é‡Œå’Œå¹³æ—¶çš„<code>if else</code>å¹¶ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h2><p>å¦‚æœåˆ—è¡¨å…ƒç´ å¯ä»¥æŒ‰ç…§æŸç§ç®—æ³•æ¨ç®—å‡ºæ¥ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ä¸æ–­æ¨ç®—å‡ºåç»­çš„å…ƒç´ å‘¢ï¼Ÿè¿™æ ·å°±ä¸å¿…åˆ›å»ºå®Œæ•´çš„listï¼Œä»è€ŒèŠ‚çœå¤§é‡çš„ç©ºé—´ã€‚åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºç”Ÿæˆå™¨ï¼šgeneratorã€‚</p><h3 id="åˆ›å»ºgenerator"><a href="#åˆ›å»ºgenerator" class="headerlink" title="åˆ›å»ºgenerator"></a>åˆ›å»ºgenerator</h3><ol><li>æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„<code>[]</code>æ”¹æˆ<code>(ï¼‰</code></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br></pre></td></tr></table></figure><ol><li>åŒ…å«<code>yield</code>å…³é”®å­—<br>å½“ä¸€ä¸ªå‡½æ•°åŒ…å«<code>yield</code>å…³é”®å­—æ—¶ï¼Œä»–å°±æˆäº†ä¸€ä¸ªgeneratorå‡½æ•°ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params"><span class="built_in">max</span></span>):</span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; <span class="built_in">max</span>:</span><br><span class="line">        <span class="keyword">yield</span> b</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;done&#x27;</span></span><br></pre></td></tr></table></figure><p><code>yield</code>åœ¨generatorå‡½æ•°ä¸­èµ·åˆ°äº†ä¸€ä¸ªreturnçš„ä½œç”¨ï¼Œå³åˆ°<code>yield</code>ä¾¿è¿”å›ã€‚ åœ¨è°ƒç”¨æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥å—ä¸€ä¸ªgeneratorå¯¹è±¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f = fib(<span class="number">6</span>)</span><br></pre></td></tr></table></figure><h3 id="è°ƒç”¨generatorè·å¾—å€¼"><a href="#è°ƒç”¨generatorè·å¾—å€¼" class="headerlink" title="è°ƒç”¨generatorè·å¾—å€¼"></a>è°ƒç”¨generatorè·å¾—å€¼</h3><ol><li>ä½¿ç”¨<code>next()</code>å‡½æ•°ä¾æ¬¡è·å¾—ä¸‹ä¸€ä¸ªè¿”å›å€¼</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">next</span>(f)</span><br></pre></td></tr></table></figure><ol><li>ä½¿ç”¨<code>for</code>å¾ªç¯</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> g:</span><br><span class="line">    <span class="built_in">print</span>(n)</span><br></pre></td></tr></table></figure><h2 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h2><h3 id="åŒºåˆ†Iterableå’ŒIterator"><a href="#åŒºåˆ†Iterableå’ŒIterator" class="headerlink" title="åŒºåˆ†Iterableå’ŒIterator"></a>åŒºåˆ†<code>Iterable</code>å’Œ<code>Iterator</code></h3><p><code>Iterable</code>æ˜¯å¯è¿­ä»£çš„ï¼Œæ˜¯ç›´æ¥å¯ç”¨äº<code>for</code>å¾ªç¯çš„ã€‚åŒ…æ‹¬dictã€listã€tupleã€setã€strã€greneratorã€‚<br><code>Iterator</code>æ˜¯è¿­ä»£å™¨ï¼Œæ˜¯ç›´æ¥å¯ç”¨äº<code>next()</code>å‡½æ•°çš„ï¼Œç”Ÿæˆå™¨éƒ½æ˜¯<code>Iterator</code>å¯¹è±¡ï¼Œé›†åˆæ•°æ®ç±»å‹å¯ä»¥é€šè¿‡<code>iter()</code>è·å–<code>Interator</code>å¯¹è±¡ã€‚</p><h3 id="forå¾ªç¯çš„æœ¬è´¨"><a href="#forå¾ªç¯çš„æœ¬è´¨" class="headerlink" title="forå¾ªç¯çš„æœ¬è´¨"></a><code>for</code>å¾ªç¯çš„æœ¬è´¨</h3><p>åœ¨Pythonä¸­<code>for</code>å¾ªç¯æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªä¸æ–­è°ƒç”¨<code>next()</code>çš„è¿‡ç¨‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">it=<span class="built_in">iter</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        x=<span class="built_in">next</span>(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Pythonå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æš‘æœŸPythonå­¦ä¹ ï¼ˆä¸‰ï¼‰</title>
      <link href="/2022/07/16/day3/"/>
      <url>/2022/07/16/day3/</url>
      
        <content type="html"><![CDATA[<h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><h2 id="å‡½æ•°å®šä¹‰"><a href="#å‡½æ•°å®šä¹‰" class="headerlink" title="å‡½æ•°å®šä¹‰"></a>å‡½æ•°å®šä¹‰</h2><p>åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ä¸ºï¼Œ<code>def å‡½æ•°å(å‚æ•°):</code>ç„¶åï¼Œåœ¨ç¼©è¿›å—ä¸­ç¼–å†™å‡½æ•°ä½“ï¼Œå‡½æ•°çš„è¿”å›å€¼ç”¨<code>return</code>è¯­å¥è¿”å›ã€‚<br>å¦‚æœæ²¡æœ‰returnè¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åä¹Ÿä¼šè¿”å›ç»“æœï¼Œåªæ˜¯ç»“æœä¸ºNoneã€‚return Noneå¯ä»¥ç®€å†™ä¸ºreturnã€‚</p><h3 id="ç©ºå‡½æ•°"><a href="#ç©ºå‡½æ•°" class="headerlink" title="ç©ºå‡½æ•°"></a>ç©ºå‡½æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">nop</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œ<code>pass</code>ä½œä¸ºå ä½ç¬¦ï¼Œè¡¨ç¤ºè·³è¿‡ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨<code>if</code>çš„ç¼©è¿›å—ã€‚</p><h3 id="å‚æ•°é™åˆ¶"><a href="#å‚æ•°é™åˆ¶" class="headerlink" title="å‚æ•°é™åˆ¶"></a>å‚æ•°é™åˆ¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(x, (<span class="built_in">int</span>, <span class="built_in">float</span>)):</span><br><span class="line">      <span class="keyword">raise</span> TypeError(<span class="string">&#x27;bad operand type&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šå‚æ•°é™åˆ¶å°±æ˜¯å®šä¹‰ä¸€ä¸ªæŠ¥é”™ï¼Œ<code>isinstance()</code>åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå¦‚æœä¸æ˜¯å°±æå‡ºä¸€ä¸ªé”™è¯¯ã€‚<br><strong><strong>ä½œä¸ºä¸€ä¸ªå¼±ç±»å‹è¯­è¨€ï¼Œå®šä¹‰è¿™ä¸€æ­¥æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œæœ‰åŠ©äºè¯»æ‡‚ä»£ç ã€‚</strong></strong></p><h3 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p>Pythonå…è®¸è¿”å›å¤šä¸ªå€¼ï¼Œå…¶è¿”å›çš„å®é™…ä¸Šæ˜¯ä¸€ä¸ªtupleå…ƒç»„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡æ¥æ”¶ã€‚</p><h3 id="å‚æ•°å®šä¹‰"><a href="#å‚æ•°å®šä¹‰" class="headerlink" title="å‚æ•°å®šä¹‰"></a>å‚æ•°å®šä¹‰</h3><p>åœ¨Pythonä¸­å‡½æ•°å‚æ•°çš„å®šä¹‰ä¹Ÿæ¯”è¾ƒçµæ´»ï¼Œæä¾›ä½ç½®å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°ç­‰</p><h4 id="ä½ç½®å‚æ•°"><a href="#ä½ç½®å‚æ•°" class="headerlink" title="ä½ç½®å‚æ•°"></a>ä½ç½®å‚æ•°</h4><p>ä½ç½®å‚æ•°æŒ‡çš„æ˜¯å‚æ•°åœ¨ä¼ å…¥æ—¶ï¼Œå®å‚å’Œå½¢å‚æœ‰ç€ä¸¥æ ¼çš„ä½ç½®å¯¹åº”å…³ç³»ï¼Œä¸ºå¸¸ç”¨å‚æ•°å½¢å¼ã€‚</p><h4 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h4><p>é»˜è®¤å‚æ•°æ˜¯æŒ‡åœ¨ä½ç½®å‚æ•°çš„åŸºç¡€ä¸Šä¸ºå…¶æ·»åŠ é»˜è®¤å€¼ï¼Œæœ‰é»˜è®¤å€¼çš„å‚æ•°ä¸ºé»˜è®¤å‚æ•°ï¼Œæ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°ä¸ºå¿…é€‰å‚æ•°<br>åŸºæœ¬å®šä¹‰å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_def</span>(<span class="params">a,b=<span class="number">1</span></span>):</span><br><span class="line">    a=b+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ul><li>é»˜è®¤å‚æ•°å¿…é¡»åœ¨å¿…é€‰å‚æ•°åè¾¹ï¼Œå¦åˆ™ä¼šæ— æ³•è¾¨è®¤æ˜¯å¦è¾“å…¥å¿…é€‰å‚æ•°ï¼Œä»è€ŒæŠ¥é”™ã€‚</li><li>é»˜è®¤å‚æ•°çš„é»˜è®¤å€¼ä¸€å®šæ˜¯<strong>ä¸å˜å¯¹è±¡</strong>ï¼Œç”±äºPythonä¸­çš„å˜é‡å®šä¹‰ä¸ºæŒ‡é’ˆæŒ‡å‘ï¼Œä¼šå¯¼è‡´å¯å˜å¯¹è±¡å€¼å‘ç”Ÿå˜åŒ–</li></ul><p>ä¸å¯å˜å¯¹è±¡æœ‰ï¼šæ•°å€¼ç±»å‹ã€å­—ç¬¦ä¸²ã€tupleå…ƒç»„ã€Noneç­‰</p><h4 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h4><p>å¯å˜å‚æ•°æŒ‡çš„æ˜¯å‚æ•°çš„æ•°ç›®ä¸å›ºå®šï¼Œå®šä¹‰å½¢å¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">*v</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> vi <span class="keyword">in</span> v:</span><br><span class="line">        <span class="built_in">sum</span>+=vi</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure><p>åœ¨å¯å˜å‚æ•°ä¸­ä¼ å…¥çš„æ‰€æœ‰å‚æ•°å°†ä½œä¸ºä¸€ä¸ªtupleè¢«æ¥æ”¶ï¼Œè¯¥tupleçš„å˜é‡åä¸ºå‡½æ•°åœ¨å®šä¹‰æ—¶çš„å½¢å‚åï¼Œ<br>å®šä¹‰æ—¶çš„éœ€è¦åœ¨å‚æ•°åå‰åŠ ä¸€ä¸ª<code>*</code>ã€‚</p><h4 id="å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°"><a href="#å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°" class="headerlink" title="å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°"></a>å…³é”®å­—ï¼ˆkeyï¼‰å‚æ•°</h4><p>æ­¤å¤„çš„å…³é”®å­—å’Œcè¯­è¨€ä¸­çš„å…³é”®å­—å¹¶ä¸æ˜¯ä¸€ä¸ªæ„ä¹‰ï¼Œè€Œæ˜¯åœ¨dictä¸­çš„keyçš„æ„ä¹‰ã€‚å³åœ¨ä¼ é€’å‚æ•°æ—¶<br>ï¼ŒåŒæ—¶ä¼ é€’é”®ï¼ˆkeyï¼‰å’Œå€¼(value),Pythonä¼šè‡ªåŠ¨å°è£…ä¸ºä¸€ä¸ªdictã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">**v</span>):</span><br><span class="line">    <span class="built_in">print</span>(v)</span><br><span class="line">    <span class="keyword">return</span> </span><br></pre></td></tr></table></figure><h4 id="å‘½åå…³é”®å­—å‚æ•°"><a href="#å‘½åå…³é”®å­—å‚æ•°" class="headerlink" title="å‘½åå…³é”®å­—å‚æ•°"></a>å‘½åå…³é”®å­—å‚æ•°</h4><p>åœ¨å…³é”®å­—å‚æ•°ä¸Šï¼Œè¿›ä¸€æ­¥é™åˆ¶ä¼ å…¥çš„keyçš„å‘½åï¼Œå°±æœ‰äº†å‘½åå…³é”®è¯å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, *, city, job</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age, city, job)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦ä¸€ä¸ª<code>*</code>åŒºåˆ†ä½ç½®å‚æ•°ä¸å‘½åå…³é”®å­—å‚æ•°ï¼Œå¦‚æœåœ¨è¿™ä¹‹å‰æœ‰å¯å˜å‚æ•°ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åŠ <code>*</code>ã€‚<br>å‘½åå…³é”®å­—å‚æ•°å¿…é¡»ä¼ å…¥å‚æ•°åï¼Œè¿™å’Œä½ç½®å‚æ•°ä¸åŒã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥å‚æ•°åï¼Œè°ƒç”¨å°†æŠ¥é”™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;Engineer&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: person() missing <span class="number">2</span> required keyword-only arguments: <span class="string">&#x27;city&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;job&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="å‚æ•°ç»„åˆ"><a href="#å‚æ•°ç»„åˆ" class="headerlink" title="å‚æ•°ç»„åˆ"></a>å‚æ•°ç»„åˆ</h4><p>åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ä½¿ç”¨å¤šä¸ªå‚æ•°è¦ä¿è¯å…¶ä¸­çš„é¡ºåºï¼Œä¾æ¬¡ä¸ºï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">onefunction</span>(<span class="params">a,b,c=<span class="number">0</span>,*args,job,city,**kw</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>tipsï¼š  </p><ul><li>ä½¿ç”¨<code>*args</code>å’Œ<code>**kw</code>æ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ã€‚</li><li>å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°æœ‰ä¸€ç‚¹å±‚çº§çš„æ„Ÿè§‰ï¼Œä¸­é—´åŒ…è£¹çš„æ˜¯å‘½åå…³é”®å­—å‚æ•°è¿™ä¸ªæ¯”è¾ƒå°´å°¬çš„å‚æ•°ã€‚</li></ul><h2 id="é€’å½’å‡½æ•°"><a href="#é€’å½’å‡½æ•°" class="headerlink" title="é€’å½’å‡½æ•°"></a>é€’å½’å‡½æ•°</h2><p>å†™æ³•ä¸Javaç›¸åŒã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Pythonå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æš‘æœŸPythonå­¦ä¹ ï¼ˆäºŒï¼‰</title>
      <link href="/2022/07/10/day2/"/>
      <url>/2022/07/10/day2/</url>
      
        <content type="html"><![CDATA[<h1 id="pythonåŸºæœ¬è¯­æ³•">PythonåŸºæœ¬è¯­æ³•</h1><h2 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h2><p>é¦–å…ˆå¿…é¡»è¯´æ˜ä¸€ç‚¹ï¼ŒPythonå’ŒJavaScriptä¸€æ ·æ˜¯ä¸€ä¸ªå¼±ç±»å‹è¯­è¨€ï¼Œå’ŒJavaã€C++æœ‰æ‰€ä¸åŒï¼ŒPythonåœ¨å®šä¹‰å˜é‡æ—¶ï¼Œæ— éœ€è¿›è¡Œç±»å‹å£°æ˜ã€‚</p><h3 id="æ•´æ•°">æ•´æ•°</h3><p>å¯¹äºå¾ˆå¤§çš„æ•°ï¼Œå¾ˆéš¾æ•°æ¸…æ¥š0çš„ä¸ªæ•°ã€‚Pythonå…è®¸åœ¨æ•°å­—ä¸­é—´ä»¥_åˆ†éš”ã€‚</p><h3 id="æµ®ç‚¹æ•°">æµ®ç‚¹æ•°</h3><p>å…è®¸ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•å®šä¹‰</p><h3 id="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</h3><p>åœ¨Pythonæ²¡æœ‰ä¸¥æ ¼è¦æ±‚<code>''</code>å’Œ<code>""</code>çš„åŒºåˆ«åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰åŒºåˆ†å­—ç¬¦å’Œå­—ç¬¦ä¸²ä½¿ç”¨äºŒè€…æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><ul><li>è½¬ä¹‰ç¬¦å’ŒJavaä¸­ä¿æŒä¸€è‡´</li><li>Pythonå…è®¸ç”¨<code>r''</code>è¡¨ç¤º<code>''</code>å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">r&#x27;\t\\&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\t\\</span><br></pre></td></tr></table></figure><ul><li>Pythonå…è®¸ç”¨<code>'''...'''</code>çš„æ ¼å¼è¡¨ç¤ºå¤šè¡Œå†…å®¹ï¼Œè¾“å‡ºç»“æœæŒ‰è¡Œã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;&#x27;è¿™æ˜¯ä¸€ä¸ª</span></span><br><span class="line"><span class="string">å¾ˆé•¿å¾ˆé•¿</span></span><br><span class="line"><span class="string">çš„å¥å­&#x27;&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="å¸ƒå°”å€¼">å¸ƒå°”å€¼</h3><p>åœ¨Pythonä¸­è¦æ³¨æ„ï¼š<code>True</code>ã€<code>False</code>è¦æ³¨æ„å¼€å¤´é¦–å­—æ¯å¤§å†™ã€‚<br />å¯ä»¥è¿›è¡Œä¸ã€æˆ–ã€éçš„è¿ç®—ï¼Œè¿ç®—ç¬¦åˆ†åˆ«ä¸ºï¼š<code>and</code>ï¼Œ<code>or</code>ï¼Œ<code>not</code></p><h3 id="ç©ºå€¼">ç©ºå€¼</h3><p>ç©ºå€¼ç”¨<code>None</code>è¡¨ç¤ºï¼Œæ„ä¹‰ä¸Javaä¸­çš„<code>null</code>ç›¸åŒã€‚</p><h2 id="å˜é‡ä¸å¸¸é‡">å˜é‡ä¸å¸¸é‡</h2><h3 id="å˜é‡">å˜é‡</h3><p>å˜é‡åå¿…é¡»æ˜¯å¤§å°å†™è‹±æ–‡ã€æ•°å­—å’Œ<code>_</code>çš„ç»„åˆï¼Œä¸”ä¸èƒ½ç”¨æ•°å­—å¼€å¤´</p><ul><li>åœ¨å˜é‡åˆ›ç«‹æ—¶ï¼ŒPythonæ˜¯è¿™æ ·çš„ï¼š<br />â‘  æ‰¾ä¸€å—å†…å­˜ï¼Œå­˜å‚¨ä¸€ä¸ªæ•°å€¼<br />â‘¡ æ‰¾ä¸€å—å†…å­˜ï¼Œå»ºç«‹ä¸€ä¸ªå˜é‡ï¼Œå°†è¿™ä¸ªå˜é‡æŒ‡å‘æ•°å€¼</li><li>è¿™é‡Œæ³¨æ„Pythonçš„å˜é‡å»ºç«‹å’ŒæŒ‡é’ˆç›¸å…³ã€‚</li></ul><h3 id="å¸¸é‡">å¸¸é‡</h3><p>åœ¨Pythonä¸­ï¼Œé€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä¿è¯å¸¸é‡ä¸å˜</p><h2 id="listå’Œtuple">listå’Œtuple</h2><h3 id="list">list</h3><p>listæ˜¯Pythonå†…ç½®çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œlistæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚<br />æ­¤æ•°æ®ç±»å‹åœ¨Javaçš„å®ç”¨ç±»ä¸­æœ‰å°è£…ã€‚<br />listå’Œæ•°ç»„å¾ˆåƒï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classname = [<span class="string">&#x27;è€å…­&#x27;</span>,<span class="string">&#x27;è€å…«&#x27;</span>,<span class="string">&#x27;è€å£ç¯&#x27;</span>]</span><br></pre></td></tr></table></figure><p>æƒ³è¦è°ƒå–å…¶ä¸­çš„æŸä¸ªå…ƒç´ ä¹Ÿå’Œæ•°ç»„ä¸€è‡´ï¼Œèµ‹å€¼ä¿®æ”¹ç­‰ä¹Ÿç›¸åŒ<br />ä¸‹é¢åˆ—ä¸¾ä¸€ä¸‹listçš„ADT</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list:</span><br><span class="line">append(&#x27;Elem&#x27;)  # åœ¨æœ«å°¾æ·»åŠ æ–°çš„å…ƒç´ </span><br><span class="line">insert(i,&#x27;Elem&#x27;) # å°†å…ƒç´ æ’å…¥æŒ‡å®šä½ç½®</span><br><span class="line">pop() # åˆ é™¤æœ«å°¾å…ƒç´ </span><br><span class="line">pop(i) # åˆ é™¤iå¤„çš„å…ƒç´ </span><br><span class="line">len(list) # liståˆ—è¡¨çš„é•¿åº¦</span><br></pre></td></tr></table></figure><p>listå…è®¸æ··åˆç±»å‹ï¼Œä¹Ÿå…è®¸liståµŒå¥—ï¼Œä»è€Œå‡ºç°å¤šç»´æ•°ç»„ã€‚</p><h3 id="tuple">tuple</h3><p>tupleè¢«ç§°ä¸ºå…ƒç»„ï¼Œå…¶æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ä¸å¯ä¿®æ”¹ï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classname = (<span class="string">&#x27;è€å…­&#x27;</span>,<span class="string">&#x27;è€å…«&#x27;</span>,<span class="string">&#x27;è€å£ç¯&#x27;</span>)</span><br></pre></td></tr></table></figure><p>tupleåœ¨å®šä¹‰æ—¶è¦ç¡®å®šå…ƒç´ ä¸ªæ•°ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨å®šä¹‰åªæœ‰ä¸€ä¸ªå…ƒç´ çš„tupleæ—¶ï¼ŒPythonè¯­æ³•ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå°æ‹¬å·ï¼Œå› æ­¤åœ¨å®šä¹‰ä¸€ä¸ªå…ƒç»„çš„tupleæ—¶ï¼Œè¦åŠ ä¸€ä¸ª<code>,</code>é¿å…æ­§ä¹‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t=(<span class="number">1</span>,)</span><br></pre></td></tr></table></figure><h2 id="æµç¨‹æ§åˆ¶è¯­å¥">æµç¨‹æ§åˆ¶è¯­å¥</h2><h3 id="æ¡ä»¶åˆ¤æ–­">æ¡ä»¶åˆ¤æ–­</h3><p>ifè¯­å¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯Pythonä¸­çš„æµç¨‹æ§åˆ¶è¯­å¥ç»“å°¾éƒ½æ˜¯å†’å·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="built_in">input</span>()</span><br><span class="line">a=<span class="built_in">int</span>(a)</span><br><span class="line"><span class="keyword">if</span> a&lt;<span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"><span class="keyword">elif</span> a&gt;<span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure><p>å› ä¸ºæ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œåœ¨æ¯”è¾ƒã€è®¡ç®—æ—¶è¦ç»™æ•°æ®æŒ‡å®šä¸€ä¸ªç±»å‹ã€‚</p><h3 id="å¾ªç¯">å¾ªç¯</h3><ul><li><code>for x in []:</code><code>for x in ...:</code>å¾ªç¯å°±æ˜¯æŠŠæ¯ä¸ªå…ƒç´ ä»£å…¥å˜é‡xï¼Œç„¶åæ‰§è¡Œç¼©è¿›å—çš„è¯­å¥tipsï¼š</li></ul><ol type="1"><li>xxxxxxxxxxÂ it=iter([1,2,3,4,5])while True: Â  Â try: Â  Â  Â  Â x=next(it)Â  Â except StopIteration: Â  Â  Â  Â breakpython</li><li>Pythonæä¾›äº†range(x)å‡½æ•°ï¼Œç”Ÿæˆ[0,x-1]çš„æ•´æ•°</li></ol><ul><li><p><code>while</code> <code>while æ¡ä»¶åˆ¤æ–­è¯­å¥ :</code></p></li><li><p><code>break</code>ã€<code>continue</code>å’Œjavaä¸­ç”¨æ³•ç›¸åŒ</p></li></ul><h2 id="å­—å…¸dictä¸é›†åˆset">å­—å…¸ï¼ˆdictï¼‰ä¸é›†åˆï¼ˆsetï¼‰</h2><h3 id="å­—å…¸dict">å­—å…¸ï¼ˆdictï¼‰</h3><p>å­—å…¸å…¨ç§°ä¸ºdictionaryï¼Œåœ¨Javaå®ç”¨ç±»ä¸­å«hashmapã€‚å…¶ç”±é”®å€¼å¯¹ï¼ˆkey-valueï¼‰ç»„æˆï¼ŒæŸ¥æ‰¾é€Ÿåº¦å¿«ã€‚ä¸‹é¢æ˜¯ä¸€ç§åˆå§‹åŒ–æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&#x27;Michael&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Bob&#x27;</span>: <span class="number">75</span>, <span class="string">&#x27;Tracy&#x27;</span>: <span class="number">85</span>&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æ”¾å…¥æŒ‡å®šçš„keyä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>] = <span class="number">67</span></span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾value:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>]</span><br></pre></td></tr></table></figure><p>keyä¸valueæ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ï¼Œkeyéœ€è¦æ˜¯ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ä¿è¯keyåšhashè¿ç®—åçš„å”¯ä¸€æ€§ã€‚å¦‚æœå¤šæ¬¡å¯¹æŸä¸ªkeyèµ‹å€¼ï¼Œåè¾¹çš„valueä¼šè¦†ç›–å‰é¢çš„valueæä¾›äº†å‡ ä¸ªå‡½æ•°ï¼š</p><ol type="1"><li>é€šè¿‡<code>in</code>æ¥åˆ¤æ–­keyæ˜¯å¦åœ¨dictä¸­ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œæ ¼å¼ä¸ºï¼š<code>key in dict</code></li><li>get()æ–¹æ³•ï¼Œ<code>dict.get('key',ç©ºè¿”å›å€¼)</code>keyä¸å­˜åœ¨æ—¶è¿”å›ç©ºè¿”å›å€¼ï¼Œç©ºè¿”å›å€¼å¯è‡ªå®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰çš„è¯è¿”å›None</li><li>pop()æ–¹æ³•ï¼Œåˆ é™¤keyï¼Œå¦‚æœæœ‰valueä¹Ÿä¸€å¹¶åˆ é™¤ï¼Œæ ¼å¼ä¸º<code>pop('key')</code></li></ol><h3 id="é›†åˆset">é›†åˆï¼ˆsetï¼‰</h3><p>setæ˜¯ä¸€ç»„keyçš„é›†åˆ,é›†åˆç‰¹ç‚¹ï¼›æ— åºæ€§ã€ç¡®å®šæ€§ã€äº’å¼‚æ€§è¦åˆ›å»ºä¸€ä¸ªsetï¼Œéœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥é›†åˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•ï¼š <code>add(key)</code>æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ <code>remove(key)</code>åˆ é™¤ä¸€ä¸ªå…ƒç´ </li><li>ä¸¤ä¸ªsetå¯ä»¥åšäº¤è¿ç®—å’Œå¹¶è¿ç®—ï¼š äº¤è¿ç®—ï¼š<code>s1&amp;s2</code>å¹¶è¿ç®—ï¼š<code>s1|s2</code></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Pythonå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æš‘æœŸPythonå­¦ä¹ ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/07/10/day_1/"/>
      <url>/2022/07/10/day_1/</url>
      
        <content type="html"><![CDATA[<h1 id="Pythonå…¥é—¨"><a href="#Pythonå…¥é—¨" class="headerlink" title="Pythonå…¥é—¨"></a>Pythonå…¥é—¨</h1><p> ä¸ªäººç¬”è®°ï¼Œåœ¨æœ‰C++å’ŒJavaåŸºç¡€ä¸‹çš„å­¦ä¹ ã€‚</p><h2 id="å‘½ä»¤æ§åˆ¶è¡Œå’Œpythonäº¤äº’é¡µé¢çš„åŒºåˆ«ï¼š"><a href="#å‘½ä»¤æ§åˆ¶è¡Œå’Œpythonäº¤äº’é¡µé¢çš„åŒºåˆ«ï¼š" class="headerlink" title="å‘½ä»¤æ§åˆ¶è¡Œå’Œpythonäº¤äº’é¡µé¢çš„åŒºåˆ«ï¼š"></a>å‘½ä»¤æ§åˆ¶è¡Œå’Œpythonäº¤äº’é¡µé¢çš„åŒºåˆ«ï¼š</h2><ul><li>å‘½ä»¤æ§åˆ¶è¡Œï¼šè¾“å…¥å‘½ä»¤Pythonè¿›å…¥äº¤äº’ç•Œé¢ï¼Œç„¶åå¯ä»¥å†™Pythonå‘½ä»¤ï¼Œ<br>å¯ä»¥é€šè¿‡<code>python æ–‡ä»¶å.py</code>è¿è¡Œæ•´ä¸ªPythonæ–‡ä»¶ã€‚ä½¿ç”¨<code>exitï¼ˆï¼‰ </code>å‘½ä»¤é€€å‡ºã€‚<br><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/day_1_2.png" alt="day_1_2"></li><li>Pythonäº¤äº’ç•Œé¢ï¼šç›´æ¥è¾“å…¥Pythonè¯­å¥ï¼Œä¸èƒ½è¿è¡Œæ•´ä¸ªPythonæ–‡ä»¶ã€‚<br><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/day_1_1.png" alt="day_1_1"><br>Pythonäº¤äº’æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†è°ƒè¯•Pythonä»£ç ç”¨çš„ï¼Œä¹Ÿä¾¿äºåˆå­¦è€…å­¦ä¹ ï¼Œå®ƒä¸æ˜¯æ­£å¼è¿è¡ŒPythonä»£ç çš„ç¯å¢ƒï¼<br>tipï¼šSyntaxErroræŒ‡çš„æ˜¯ä»£ç è¯­æ³•æœ‰é”™è¯¯ã€‚</li></ul><h2 id="ç¬¬ä¸€ä¸ªç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªç¨‹åº"></a>ç¬¬ä¸€ä¸ªç¨‹åº</h2><p>å†™ä¸€ä¸ªhello worldï¼Œç”¨è®°äº‹æœ¬æˆ–è€…IDEéƒ½å¯ä»¥ã€‚é€šè¿‡å‘½ä»¤æ§åˆ¶è¡Œè¿è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br></pre></td></tr></table></figure><ul><li>åœ¨pyæ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹ï¼Œæ‰“å¼€å‘½ä»¤æ§åˆ¶è¡Œï¼Œä½¿ç”¨å‘½ä»¤è¿è¡Œï¼š<br><img src="https://blogpicture-1310464487.cos.ap-nanjing.myqcloud.com/%20typora/day_1_3.png" alt="day_1_3"></li></ul><h2 id="è¾“å…¥è¾“å‡º"><a href="#è¾“å…¥è¾“å‡º" class="headerlink" title="è¾“å…¥è¾“å‡º"></a>è¾“å…¥è¾“å‡º</h2><p>è¾“å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;è¿™é‡Œå¯ä»¥åŠ ä¸€ä¸ªæç¤ºï¼Œä¸å¿…ç”¨print&#x27;</span>)     <span class="comment"># nameæ˜¯æ¥æ”¶å˜é‡</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>)  <span class="comment"># ç”¨äºè¿ç»­è¾“å‡ºï¼Œä¸­é—´æœ‰ç©ºæ ¼</span></span><br></pre></td></tr></table></figure><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨#è¡¨ç¤ºæ³¨é‡Š</span></span><br></pre></td></tr></table></figure><h2 id="ä»£ç é£æ ¼"><a href="#ä»£ç é£æ ¼" class="headerlink" title="ä»£ç é£æ ¼"></a>ä»£ç é£æ ¼</h2><p>Pythonä¸­ä»£ç é‡‡ç”¨ç¼©è¿›ï¼Œå¯ä»¥ä¸å†™åˆ†å·ã€‚<code>:</code>ç»“å°¾æ—¶ï¼Œåç»­è§†ä¸ºä»£ç å—è‡ªåŠ¨ç¼©è¿›ï¼ˆé‡‡ç”¨IDEæ—¶ï¼‰ï¼Œç¼©è¿›è·ç¦»æ— é™åˆ¶<br>ä¸€èˆ¬ä¸ºå››ä¸ªç©ºæ ¼ã€‚æ˜¾ç„¶Pythonå¯¹cvå·¥ç¨‹å¸ˆå¾ˆä¸å‹å¥½ï¼Œè¦æ£€æŸ¥ç¼©è¿›æ˜¯å¦æ­£ç¡®ã€‚<br>Pythonæ˜¯å¤§å°å†™æ•æ„Ÿå‹ã€‚ </p>]]></content>
      
      
      
        <tags>
            
            <tag> Pythonå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/07/01/hello-world/"/>
      <url>/2022/07/01/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><p><a href="https://zh.usa1lib.org/booklist/155353/c2a989">ä¹¦é›† (usa1lib.org)</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
